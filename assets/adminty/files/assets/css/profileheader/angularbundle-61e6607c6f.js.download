!function(e){"use strict";var t={objectMaxDepth:5};function n(e){if(!V(e))return t;G(e.objectMaxDepth)&&(t.objectMaxDepth=i(e.objectMaxDepth)?e.objectMaxDepth:NaN)}function i(e){return z(e)&&e>0}function r(e,n){return n=n||Error,function(){var i,r,o=arguments[0],a=arguments[1],s="["+(e?e+":":"")+o+"] ",l=pe(arguments,2).map(function(e){return Ye(e,t.objectMaxDepth)});for(s+=a.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<l.length?l[t]:e}),s+="\nhttp://errors.angularjs.org/1.6.5/"+(e?e+"/":"")+o,r=0,i="?";r<l.length;r++,i="&")s+=i+"p"+r+"="+encodeURIComponent(l[r]);return new n(s)}}var o=/^\/(.+)\/([a-z]*)$/,a="validity",s=Object.prototype.hasOwnProperty,l=function(e){return j(e)?e.toLowerCase():e},u=function(e){return j(e)?e.toUpperCase():e};"i"!=="I".toLowerCase()&&(l=function(e){return j(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},u=function(e){return j(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e});var c,d,p,h,f=[].slice,g=[].splice,m=[].push,v=Object.prototype.toString,y=Object.getPrototypeOf,b=r("ng"),w=e.angular||(e.angular={}),$=0;function C(e){if(null==e||K(e))return!1;if(W(e)||j(e)||d&&e instanceof d)return!0;var t="length"in Object(e)&&e.length;return z(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function S(e,t,n){var i,r;if(e)if(q(e))for(i in e)"prototype"!==i&&"length"!==i&&"name"!==i&&e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else if(W(e)||C(e)){var o="object"!=typeof e;for(i=0,r=e.length;i<r;i++)(o||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==S)e.forEach(t,n,e);else if(H(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)s.call(e,i)&&t.call(n,e[i],i,e);return e}function x(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function E(e){return function(t,n){e(n,t)}}function k(){return++$}function D(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function _(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(V(a)||q(a))for(var s=Object.keys(a),l=0,u=s.length;l<u;l++){var c=s[l],d=a[c];n&&V(d)?U(d)?e[c]=new Date(d.valueOf()):Y(d)?e[c]=new RegExp(d):d.nodeName?e[c]=d.cloneNode(!0):ne(d)?e[c]=d.clone():(V(e[c])||(e[c]=W(d)?[]:{}),_(e[c],[d],!0)):e[c]=d}}return D(e,i),e}function M(e){return _(e,f.call(arguments,1),!1)}function T(e){return _(e,f.call(arguments,1),!0)}function O(e){return parseInt(e,10)}c=e.document.documentMode;var A=Number.isNaN||function(e){return e!=e};function P(e,t){return M(Object.create(e),t)}function I(){}function R(e){return e}function L(e){return function(){return e}}function N(e){return q(e.toString)&&e.toString!==v}function F(e){return void 0===e}function G(e){return void 0!==e}function V(e){return null!==e&&"object"==typeof e}function H(e){return null!==e&&"object"==typeof e&&!y(e)}function j(e){return"string"==typeof e}function z(e){return"number"==typeof e}function U(e){return"[object Date]"===v.call(e)}I.$inject=[],R.$inject=[];var W=Array.isArray;function B(e){switch(v.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function q(e){return"function"==typeof e}function Y(e){return"[object RegExp]"===v.call(e)}function K(e){return e&&e.window===e}function Z(e){return e&&e.$evalAsync&&e.$watch}function X(e){return"boolean"==typeof e}function J(e){return e&&q(e.then)}var Q=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var ee=function(e){return j(e)?e.trim():e},te=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function ne(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function ie(e){return l(e.nodeName||e[0]&&e[0].nodeName)}function re(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function oe(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function ae(e,t,n){var r,o,a=[],l=[];if(n=i(n)?n:NaN,t){if((o=t)&&z(o.length)&&Q.test(v.call(o))||(r=t,"[object ArrayBuffer]"===v.call(r)))throw b("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw b("cpi","Can't copy! Source and destination are identical.");return W(t)?t.length=0:S(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),l.push(t),u(e,t,n)}return c(e,n);function u(e,t,n){if(--n<0)return"...";var i,r=t.$$hashKey;if(W(e))for(var o=0,a=e.length;o<a;o++)t.push(c(e[o],n));else if(H(e))for(i in e)t[i]=c(e[i],n);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=c(e[i],n));else for(i in e)s.call(e,i)&&(t[i]=c(e[i],n));return D(t,r),t}function c(e,t){if(!V(e))return e;var n=a.indexOf(e);if(-1!==n)return l[n];if(K(e)||Z(e))throw b("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=function(e){switch(v.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(c(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(q(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===r&&(r=W(e)?[]:Object.create(y(e)),i=!0),a.push(e),l.push(r),i?u(e,r,t):r}}function se(e,t){return e===t||e!=e&&t!=t}function le(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,i,r,o=typeof e;if(o===typeof t&&"object"===o){if(!W(e)){if(U(e))return!!U(t)&&se(e.getTime(),t.getTime());if(Y(e))return!!Y(t)&&e.toString()===t.toString();if(Z(e)||Z(t)||K(e)||K(t)||W(t)||U(t)||Y(t))return!1;for(i in r=Ve(),e)if("$"!==i.charAt(0)&&!q(e[i])){if(!le(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&G(t[i])&&!q(t[i]))return!1;return!0}if(!W(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!le(e[i],t[i]))return!1;return!0}}return!1}var ue=function(){if(!G(ue.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");ue.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ue.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return ue.rules},ce=function(){if(G(ce.name_))return ce.name_;var t,n,i,r,o=ke.length;for(n=0;n<o;++n)if(i=ke[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return ce.name_=r};function de(e,t,n){return e.concat(f.call(t,n))}function pe(e,t){return f.call(e,t||0)}function he(e,t){var n=arguments.length>2?pe(arguments,2):[];return!q(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,de(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function fe(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:K(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":Z(n)&&(i="$SCOPE"),i}function ge(e,t){if(!F(e))return z(t)||(t=t?2:null),JSON.stringify(e,fe,t)}function me(e){return j(e)?JSON.parse(e):e}var ve=/:/g;function ye(e,t){e=e.replace(ve,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return A(n)?t:n}function be(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,n*(ye(t,i)-i))}function we(e){e=d(e).clone().empty();var t=d("<div>").append(e).html();try{return e[0].nodeType===ze?l(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+l(t)})}catch(e){return l(t)}}function $e(e){try{return decodeURIComponent(e)}catch(e){}}function Ce(e){var t={};return S((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(i=e.substring(0,n),r=e.substring(n+1)),G(i=$e(i))&&(r=!G(r)||$e(r),s.call(t,i)?W(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function Se(e){var t=[];return S(e,function(e,n){W(e)?S(e,function(e){t.push(Ee(n,!0)+(!0===e?"":"="+Ee(e,!0)))}):t.push(Ee(n,!0)+(!0===e?"":"="+Ee(e,!0)))}),t.length?t.join("&"):""}function xe(e){return Ee(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ee(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var ke=["ng-","data-ng-","ng:","x-ng-"];var De=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var i=n.attributes;return[i.getNamedItem("src"),i.getNamedItem("href"),i.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(e.document);function _e(t,n){var i,r,o={};if(S(ke,function(e){var n=e+"app";!i&&t.hasAttribute&&t.hasAttribute(n)&&(i=t,r=t.getAttribute(n))}),S(ke,function(e){var n,o=e+"app";!i&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(o))}),i){if(!De)return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==function(e,t){var n,i,r=ke.length;for(i=0;i<r;++i)if(n=ke[i]+t,j(n=e.getAttribute(n)))return n;return null}(i,"strict-di"),n(i,r?[r]:[],o)}}function Me(t,n,i){V(i)||(i={});i=M({strictDi:!1},i);var r=function(){if((t=d(t)).injector()){var r=t[0]===e.document?"document":we(t);throw b("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=Zt(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!a.test(e.name))return r();e.name=e.name.replace(a,""),w.resumeBootstrap=function(e){return S(e,function(e){n.push(e)}),r()},q(w.resumeDeferredBootstrap)&&w.resumeDeferredBootstrap()}function Te(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Oe(e){var t=w.element(e).injector();if(!t)throw b("test","no injector found for element argument to getTestability");return t.get("$$testability")}var Ae=/[A-Z]/g;function Pe(e,t){return t=t||"_",e.replace(Ae,function(e,n){return(n?t:"")+e.toLowerCase()})}var Ie=!1;function Re(e,t,n){if(!e)throw b("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function Le(e,t,n){return n&&W(e)&&(e=e[e.length-1]),Re(q(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Ne(e,t){if("hasOwnProperty"===e)throw b("badname","hasOwnProperty is not a valid {0} name",t)}function Fe(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;s<a;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&q(e)?he(o,e):e}function Ge(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=d(f.call(e,0,r))),t.push(n));return t||e}function Ve(){return Object.create(null)}function He(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!N(e)||W(e)||U(e)?ge(e):e.toString()}return e}var je=1,ze=3,Ue=8,We=9,Be=11;function qe(e,t){if(W(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(V(e))for(var r in t=t||{},e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r]);return t||e}function Ye(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):F(e)?"undefined":"string"!=typeof e?function(e,t){var n=[];return i(t)&&(e=w.copy(e,null,t)),JSON.stringify(e,function(e,t){if(V(t=fe(e,t))){if(n.indexOf(t)>=0)return"...";n.push(t)}return t})}(e,t):e}var Ke={full:"1.6.5",major:1,minor:6,dot:5,codeName:"toffee-salinization"};ht.expando="ng339";var Ze=ht.cache={},Xe=1;ht._data=function(e){return this.cache[e[this.expando]]||{}};var Je=/-([a-z])/g,Qe=/^-ms-/,et={mouseleave:"mouseout",mouseenter:"mouseover"},tt=r("jqLite");function nt(e,t){return t.toUpperCase()}function it(e){return e.replace(Je,nt)}var rt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ot=/<|&#?\w+;/,at=/<([\w:-]+)/,st=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,lt={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ut(e){return!ot.test(e)}function ct(e){var t=e.nodeType;return t===je||!t||t===We}function dt(e,t){var n,i,r,o,a=t.createDocumentFragment(),s=[];if(ut(e))s.push(t.createTextNode(e));else{for(n=a.appendChild(t.createElement("div")),i=(at.exec(e)||["",""])[1].toLowerCase(),r=lt[i]||lt._default,n.innerHTML=r[1]+e.replace(st,"<$1></$2>")+r[2],o=r[0];o--;)n=n.lastChild;s=de(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",S(s,function(e){a.appendChild(e)}),a}lt.optgroup=lt.option,lt.tbody=lt.tfoot=lt.colgroup=lt.caption=lt.thead,lt.th=lt.td;var pt=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function ht(t){if(t instanceof ht)return t;var n,i,r,o;if(j(t)&&(t=ee(t),n=!0),!(this instanceof ht)){if(n&&"<"!==t.charAt(0))throw tt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ht(t)}n?St(this,(i=t,r=r||e.document,(o=rt.exec(i))?[r.createElement(o[1])]:(o=dt(i,r))?o.childNodes:[])):q(t)?_t(t):St(this,t)}function ft(e){return e.cloneNode(!0)}function gt(e,t){!t&&ct(e)&&d.cleanData([e]),e.querySelectorAll&&d.cleanData(e.querySelectorAll("*"))}function mt(e,t,n,i){if(G(i))throw tt("offargs","jqLite#off() does not support the `selector` argument");var r=yt(e),o=r&&r.events,a=r&&r.handle;if(a)if(t){var s=function(t){var i=o[t];G(n)&&oe(i||[],n),G(n)&&i&&i.length>0||(e.removeEventListener(t,a),delete o[t])};S(t.split(" "),function(e){s(e),et[e]&&s(et[e])})}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,a),delete o[t]}function vt(e,t){var n=e.ng339,i=n&&Ze[n];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),mt(e)),delete Ze[n],e.ng339=void 0}}function yt(e,t){var n=e.ng339,i=n&&Ze[n];return t&&!i&&(e.ng339=n=++Xe,i=Ze[n]={events:{},data:{},handle:void 0}),i}function bt(e,t,n){if(ct(e)){var i,r=G(n),o=!r&&t&&!V(t),a=!t,s=yt(e,!o),l=s&&s.data;if(r)l[it(t)]=n;else{if(a)return l;if(o)return l&&l[it(t)];for(i in t)l[it(i)]=t[i]}}}function wt(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function $t(e,t){t&&e.setAttribute&&S(t.split(" "),function(t){e.setAttribute("class",ee((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ee(t)+" "," ")))})}function Ct(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");S(t.split(" "),function(e){e=ee(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",ee(n))}}function St(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function xt(e,t){return Et(e,"$"+(t||"ngController")+"Controller")}function Et(e,t,n){e.nodeType===We&&(e=e.documentElement);for(var i=W(t)?t:[t];e;){for(var r=0,o=i.length;r<o;r++)if(G(n=d.data(e,i[r])))return n;e=e.parentNode||e.nodeType===Be&&e.host}}function kt(e){for(gt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Dt(e,t){t||gt(e);var n=e.parentNode;n&&n.removeChild(e)}function _t(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}var Mt=ht.prototype={ready:_t,toString:function(){var e=[];return S(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return d(e>=0?this[e]:this[this.length+e])},length:0,push:m,sort:[].sort,splice:[].splice},Tt={};S("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Tt[l(e)]=e});var Ot={};S("input,select,option,textarea,button,form,details".split(","),function(e){Ot[e]=!0});var At={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Pt(e,t){var n=Tt[t.toLowerCase()];return n&&Ot[ie(e)]&&n}function It(e,t,n){n.call(e,t)}function Rt(e,t,n){var i=t.relatedTarget;i&&(i===e||pt.call(e,i))||n.call(e,t)}function Lt(){this.$get=function(){return M(ht,{hasClass:function(e,t){return e.attr&&(e=e[0]),wt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ct(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),$t(e,t)}})}}function Nt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"===i||"object"===i&&null!==e?e.$$hashKey=i+":"+(t||k)():i+":"+e}S({data:bt,removeData:vt,hasData:function(e){for(var t in Ze[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)vt(e[t])}},function(e,t){ht[t]=e}),S({data:bt,inheritedData:Et,scope:function(e){return d.data(e,"$scope")||Et(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return d.data(e,"$isolateScope")||d.data(e,"$isolateScopeNoTemplate")},controller:xt,injector:function(e){return Et(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:wt,css:function(e,t,n){if(t=function(e){return it(e.replace(Qe,"ms-"))}(t),!G(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var i,r=e.nodeType;if(r!==ze&&2!==r&&r!==Ue&&e.getAttribute){var o=l(t),a=Tt[o];if(!G(n))return i=e.getAttribute(t),a&&null!==i&&(i=o),null===i?void 0:i;null===n||!1===n&&a?e.removeAttribute(t):e.setAttribute(t,a?o:n)}},prop:function(e,t,n){if(!G(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(F(t)){var n=e.nodeType;return n===je||n===ze?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(F(t)){if(e.multiple&&"select"===ie(e)){var n=[];return S(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(F(t))return e.innerHTML;gt(e,!0),e.innerHTML=t},empty:kt},function(e,t){ht.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==kt&&F(2===e.length&&e!==wt&&e!==xt?t:n)){if(V(t)){for(i=0;i<o;i++)if(e===bt)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var a=e.$dv,s=F(a)?Math.min(o,1):o,l=0;l<s;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(i=0;i<o;i++)e(this[i],t,n);return this}}),S({removeData:vt,on:function(e,t,n,i){if(G(i))throw tt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ct(e)){var r=yt(e,!0),o=r.events,a=r.handle;a||(a=r.handle=function(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(F(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||It;o>1&&(r=qe(r));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,u=function(t,i,r){var s=o[t];s||((s=o[t]=[]).specialHandlerWrapper=i,"$destroy"===t||r||e.addEventListener(t,a)),s.push(n)};l--;)t=s[l],et[t]?(u(et[t],Rt),u(t,void 0,!0)):u(t)}},off:mt,one:function(e,t,n){(e=d(e)).on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;gt(e),S(new ht(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return S(e.childNodes,function(e){e.nodeType===je&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===je||n===Be)for(var i=0,r=(t=new ht(t)).length;i<r;i++){var o=t[i];e.appendChild(o)}},prepend:function(e,t){if(e.nodeType===je){var n=e.firstChild;S(new ht(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){var n,i,r;n=e,i=d(t).eq(0).clone()[0],(r=n.parentNode)&&r.replaceChild(i,n),i.appendChild(n)},remove:Dt,detach:function(e){Dt(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i)for(var r=0,o=(t=new ht(t)).length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:Ct,removeClass:$t,toggleClass:function(e,t,n){t&&S(t.split(" "),function(t){var i=n;F(i)&&(i=!wt(e,t)),(i?Ct:$t)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Be?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ft,triggerHandler:function(e,t,n){var i,r,o,a=t.type||t,s=yt(e),l=s&&s.events,u=l&&l[a];u&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:I,type:a,target:e},t.type&&(i=M(i,t)),r=qe(u),o=n?[i].concat(n):[i],S(r,function(t){i.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){ht.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;o<a;o++)F(r)?G(r=e(this[o],t,n,i))&&(r=d(r)):St(r,e(this[o],t,n,i));return G(r)?r:this}}),ht.prototype.bind=ht.prototype.on,ht.prototype.unbind=ht.prototype.off;var Ft=Object.create(null);function Gt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Gt.prototype={_idx:function(e){return e===this._lastKey?this._lastIndex:(this._lastKey=e,this._lastIndex=this._keys.indexOf(e),this._lastIndex)},_transformKey:function(e){return A(e)?Ft:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Vt=Gt,Ht=[function(){this.$get=[function(){return Vt}]}],jt=/^([^(]+?)=>/,zt=/^[^(]*\(\s*([^)]*)\)/m,Ut=/,/,Wt=/^\s*(_?)(\S+?)\1\s*$/,Bt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,qt=r("$injector");function Yt(e){return Function.prototype.toString.call(e)}function Kt(e){var t=Yt(e).replace(Bt,"");return t.match(jt)||t.match(zt)}function Zt(e,t){t=!0===t;var n={},i="Provider",r=[],o=new Vt,a={$provide:{provider:f(g),factory:f(m),service:f(function(e,t){return m(e,["$injector",function(e){return e.instantiate(t)}])}),value:f(function(e,t){return m(e,L(t),!1)}),constant:f(function(e,t){Ne(e,"constant"),a[e]=t,l[e]=t}),decorator:function(e,t){var n=s.get(e+i),r=n.$get;n.$get=function(){var e=d.invoke(r,n);return d.invoke(t,null,{$delegate:e})}}}},s=a.$injector=v(a,function(e,t){throw w.isString(t)&&r.push(t),qt("unpr","Unknown provider: {0}",r.join(" <- "))}),l={},u=v(l,function(e,t){var n=s.get(e+i,t);return d.invoke(n.$get,n,void 0,e)}),d=u;a["$injector"+i]={$get:L(u)},d.modules=s.modules=Ve();var p=function e(t){Re(F(t)||W(t),"modulesToLoad","not an array");var n,i=[];S(t,function(t){if(!o.get(t)){o.set(t,!0);try{j(t)?(n=h(t),d.modules[t]=n,i=i.concat(e(n.requires)).concat(n._runBlocks),r(n._invokeQueue),r(n._configBlocks)):q(t)?i.push(s.invoke(t)):W(t)?i.push(s.invoke(t)):Le(t,"module")}catch(e){throw W(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),qt("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=s.get(i[0]);r[i[1]].apply(r,i[2])}}});return i}(e);return(d=u.get("$injector")).strictDi=t,S(p,function(e){e&&d.invoke(e)}),d;function f(e){return function(t,n){if(!V(t))return e(t,n);S(t,E(e))}}function g(e,t){if(Ne(e,"service"),(q(t)||W(t))&&(t=s.instantiate(t)),!t.$get)throw qt("pget","Provider '{0}' must define $get factory method.",e);return a[e+i]=t}function m(e,t,n){return g(e,{$get:!1!==n?function(e,t){return function(){var n=d.invoke(t,this);if(F(n))throw qt("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}(e,t):t})}function v(e,o){function s(t,i){if(e.hasOwnProperty(t)){if(e[t]===n)throw qt("cdep","Circular dependency found: {0}",t+" <- "+r.join(" <- "));return e[t]}try{return r.unshift(t),e[t]=n,e[t]=o(t,i),e[t]}catch(i){throw e[t]===n&&delete e[t],i}finally{r.shift()}}function l(e,n,i){for(var r=[],o=Zt.$$annotate(e,t,i),a=0,l=o.length;a<l;a++){var u=o[a];if("string"!=typeof u)throw qt("itkn","Incorrect injection token! Expected service name as string, got {0}",u);r.push(n&&n.hasOwnProperty(u)?n[u]:s(u,i))}return r}return{invoke:function(e,t,n,i){"string"==typeof n&&(i=n,n=null);var r=l(e,n,i);return W(e)&&(e=e[e.length-1]),function(e){if(c||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return X(t)||(t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(Yt(e))),t}(e)?(r.unshift(null),new(Function.prototype.bind.apply(e,r))):e.apply(t,r)},instantiate:function(e,t,n){var i=W(e)?e[e.length-1]:e,r=l(e,t,n);return r.unshift(null),new(Function.prototype.bind.apply(i,r))},get:s,annotate:Zt.$$annotate,has:function(t){return a.hasOwnProperty(t+i)||e.hasOwnProperty(t)}}}}function Xt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,i,r){var o=n.document;function a(e){if(e){e.scrollIntoView();var t=function(){var e=s.yOffset;if(q(e))e=e();else if(ne(e)){var t=e[0];e="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else z(e)||(e=0);return e}();if(t){var i=e.getBoundingClientRect().top;n.scrollBy(0,i-t)}}else n.scrollTo(0,0)}function s(e){var t,n,r;(e=j(e)?e:z(e)?e.toString():i.hash())?(t=o.getElementById(e))?a(t):(n=o.getElementsByName(e),r=null,Array.prototype.some.call(n,function(e){if("a"===ie(e))return r=e,!0}),(t=r)?a(t):"top"===e&&a(null)):a(null)}return t&&r.$watch(function(){return i.hash()},function(t,n){var i,o;t===n&&""===t||(i=function(){r.$evalAsync(s)},"complete"===(o=o||e).document.readyState?o.setTimeout(i):d(o).on("load",i))}),s}]}Zt.$$annotate=function(e,t,n){var i,r;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw j(n)&&n||(n=e.name||function(e){var t=Kt(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),qt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);S(Kt(e)[1].split(Ut),function(e){e.replace(Wt,function(e,t,n){i.push(n)})})}e.$inject=i}}else W(e)?(Le(e[r=e.length-1],"fn"),i=e.slice(0,r)):Le(e,"fn",!0);return i};var Jt=r("$animate"),Qt=1;function en(e,t){return e||t?e?t?(W(e)&&(e=e.join(" ")),W(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function tn(e){return V(e)?e:{}}var nn=function(){this.$get=I},rn=function(){var e=new Vt,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){return{enabled:I,on:I,off:I,pin:I,push:function(a,s,l,u){u&&u(),(l=l||{}).from&&a.css(l.from),l.to&&a.css(l.to),(l.addClass||l.removeClass)&&function(n,a,s){var l=e.get(n)||{},u=r(l,a,!0),c=r(l,s,!1);(u||c)&&(e.set(n,l),t.push(n),1===t.length&&i.$$postDigest(o))}(a,l.addClass,l.removeClass);var c=new n;return c.complete(),c}};function r(e,t,n){var i=!1;return t&&S(t=j(t)?t.split(" "):W(t)?t:[],function(t){t&&(i=!0,e[t]=n)}),i}function o(){S(t,function(t){var n=e.get(t);if(n){var i=function(e){j(e)&&(e=e.split(" "));var t=Ve();return S(e,function(e){e.length&&(t[e]=!0)}),t}(t.attr("class")),r="",o="";S(n,function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:o+=(o.length?" ":"")+t)}),S(t,function(e){r&&Ct(e,r),o&&$t(e,o)}),e.delete(t)}}),t.length=0}}]},on=["$provide",function(e){var t=this,n=null,i=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Jt("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.customFilter=function(e){return 1===arguments.length&&(i=q(e)?e:null),i},this.classNameFilter=function(e){if(1===arguments.length&&((n=e instanceof RegExp?e:null)&&new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString())))throw n=null,Jt("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate");return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Qt)return n}}(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,o){return i=i&&d(i),r=r&&d(r),t(n,i=i||r.parent(),r),e.push(n,"enter",tn(o))},move:function(n,i,r,o){return i=i&&d(i),r=r&&d(r),t(n,i=i||r.parent(),r),e.push(n,"move",tn(o))},leave:function(t,n){return e.push(t,"leave",tn(n),function(){t.remove()})},addClass:function(t,n,i){return(i=tn(i)).addClass=en(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return(i=tn(i)).removeClass=en(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return(r=tn(r)).addClass=en(r.addClass,n),r.removeClass=en(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return(o=tn(o)).from=o.from?M(o.from,n):n,o.to=o.to?M(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=en(o.tempClasses,r),e.push(t,"animate",o)}}}]}],an=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),t.length>1||e(function(){for(var e=0;e<t.length;e++)t[e]();t=[]})}return function(){var e=!1;return n(function(){e=!0}),function(t){e?t():n(t)}}}]},sn=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,i,r){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){i()?function(e){r(e,0,!1)}(e):t(e)},this._state=0}return o.chain=function(e,t){var n=0;!function i(){if(n===e.length)return void t(!0);e[n](function(e){!1!==e?(n++,i()):t(!1)})}()},o.all=function(e,t){var n=0,i=!0;function r(r){i=i&&r,++n===e.length&&t(i)}S(e,function(e){e.done(r)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:I,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(S(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},o}]},ln=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){var r=i||{};r.$$prepared||(r=ae(r)),r.cleanupStyles&&(r.from=r.to=null),r.from&&(t.css(r.from),r.from=null);var o,a=new n;return{start:s,end:s};function s(){return e(function(){!function(){r.addClass&&(t.addClass(r.addClass),r.addClass=null);r.removeClass&&(t.removeClass(r.removeClass),r.removeClass=null);r.to&&(t.css(r.to),r.to=null)}(),o||a.complete(),o=!0}),a}}}]};function un(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new function(e,t,n,i){var r=this,o=e.location,a=e.history,s=e.setTimeout,l=e.clearTimeout,u={};r.isMock=!1;var c=0,p=[];function h(e){try{e.apply(null,pe(arguments,1))}finally{if(0==--c)for(;p.length;)try{p.pop()()}catch(e){n.error(e)}}}r.$$completeOutstandingRequest=h,r.$$incOutstandingRequestCount=function(){c++},r.notifyWhenNoOutstandingRequests=function(e){0===c?e():p.push(e)};var f,g,m=o.href,v=t.find("base"),y=null,b=i.history?function(){try{return a.state}catch(e){}}:I;E(),r.url=function(t,n,s){if(F(s)&&(s=null),o!==e.location&&(o=e.location),a!==e.history&&(a=e.history),t){var l=g===s;if(m===t&&(!i.history||l))return r;var u=m&&ri(m)===ri(t);return m=t,g=s,!i.history||u&&l?(u||(y=t),n?o.replace(t):u?o.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):o.href=t,o.href!==t&&(y=t)):(a[n?"replaceState":"pushState"](s,"",t),E()),y&&(y=t),r}return y||o.href.replace(/%27/g,"'")},r.state=function(){return f};var w=[],$=!1;function C(){y=null,k()}var x=null;function E(){le(f=F(f=b())?null:f,x)&&(f=x),x=f,g=f}function k(){var e=g;E(),m===r.url()&&e===f||(m=r.url(),g=f,S(w,function(e){e(r.url(),f)}))}r.onUrlChange=function(t){return $||(i.history&&d(e).on("popstate",C),d(e).on("hashchange",C),$=!0),w.push(t),t},r.$$applicationDestroyed=function(){d(e).off("hashchange popstate",C)},r.$$checkUrlChange=k,r.baseHref=function(){var e=v.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},r.defer=function(e,t){var n;return c++,n=s(function(){delete u[n],h(e)},t||0),u[n]=!0,n},r.defer.cancel=function(e){return!!u[e]&&(delete u[e],l(e),h(I),!0)}}(e,i,t,n)}]}function cn(){this.$get=function(){var e={};function t(t,n){if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var i=0,o=M({},n,{id:t}),a=Ve(),s=n&&n.capacity||Number.MAX_VALUE,l=Ve(),u=null,c=null;return e[t]={put:function(e,t){if(!F(t)){if(s<Number.MAX_VALUE)d(l[e]||(l[e]={key:e}));return e in a||i++,a[e]=t,i>s&&this.remove(c.key),t}},get:function(e){if(s<Number.MAX_VALUE){var t=l[e];if(!t)return;d(t)}return a[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=l[e];if(!t)return;t===u&&(u=t.p),t===c&&(c=t.n),p(t.n,t.p),delete l[e]}e in a&&(delete a[e],i--)},removeAll:function(){a=Ve(),i=0,l=Ve(),u=c=null},destroy:function(){a=null,o=null,l=null,delete e[t]},info:function(){return M({},o,{size:i})}};function d(e){e!==u&&(c?c===e&&(c=e.n):c=e,p(e.n,e.p),p(e,u),(u=e).n=null)}function p(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return S(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function dn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var pn=r("$compile");var hn=new function(){};function fn(t,n){var i={},r="Directive",o=/^\s*directive:\s*([\w-]+)\s+(.*)$/,a=/(([\w-]+)(?::([^;]+))?;?)/,u=function(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),p=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,h=/^(on[a-z]+|formaction)$/,f=Ve();function g(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,r=Ve();return S(e,function(e,o){if(e in f)r[o]=f[e];else{var a=e.match(i);if(!a)throw pn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(f[e]=r[o])}}),r}function m(e,t){var n={isolateScope:null,bindToController:null};if(V(e.scope)&&(!0===e.bindToController?(n.bindToController=g(e.scope,t,!0),n.isolateScope={}):n.isolateScope=g(e.scope,t,!1)),V(e.bindToController)&&(n.bindToController=g(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw pn("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}this.directive=function e(n,o){return Re(n,"name"),Ne(n,"directive"),j(n)?(!function(e){var t=e.charAt(0);if(!t||t!==l(t))throw pn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw pn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),Re(o,"directiveFactory"),i.hasOwnProperty(n)||(i[n]=[],t.factory(n+r,["$injector","$exceptionHandler",function(e,t){var r=[];return S(i[n],function(i,o){try{var a=e.invoke(i);q(a)?a={compile:L(a)}:!a.compile&&a.link&&(a.compile=L(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=function(e){var t=e.require||e.controller&&e.name;return!W(t)&&V(t)&&S(t,function(e,n){var i=e.match(p);e.substring(i[0].length)||(t[n]=i[0]+n)}),t}(a),a.restrict=function(e,t){if(e&&(!j(e)||!/[EACM]/.test(e)))throw pn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(a.restrict,n),a.$$moduleName=i.$$moduleName,r.push(a)}catch(e){t(e)}}),r}])),i[n].push(o)):S(n,E(e)),this},this.component=function e(t,n){if(!j(t))return S(t,E(he(this,e))),this;var i=n.controller||function(){};function r(e){function t(t){return q(t)||W(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var r=n.template||n.templateUrl?n.template:"",o={controller:i,controllerAs:function(e,t){if(t&&j(t))return t;if(j(e)){var n=Cn.exec(e);if(n)return n[3]}}(n.controller)||n.controllerAs||"$ctrl",template:t(r),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return S(n,function(e,t){"$"===t.charAt(0)&&(o[t]=e)}),o}return S(n,function(e,t){"$"===t.charAt(0)&&(r[t]=e,q(i)&&(i[t]=e))}),r.$inject=["$injector"],this.directive(t,r)},this.aHrefSanitizationWhitelist=function(e){return G(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return G(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var y=!0;this.debugInfoEnabled=function(e){return G(e)?(y=e,this):y};var b=!1;this.preAssignBindingsEnabled=function(e){return G(e)?(b=e,this):b};var w=10;this.onChangesTtl=function(e){return arguments.length?(w=e,this):w};var $=!0;this.commentDirectivesEnabled=function(e){return arguments.length?($=e,this):$};var C=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(C=e,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,f,g,x,E,k,D,_,T){var O,A=/^\w/,L=e.document.createElement("div"),N=$,H=C,z=w;function U(){try{if(!--z)throw O=void 0,pn("infchng","{0} $onChanges() iterations reached. Aborting!\n",w);k.$apply(function(){for(var e=[],t=0,n=O.length;t<n;++t)try{O[t]()}catch(t){e.push(t)}if(O=void 0,e.length)throw e})}finally{z++}}function Y(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)this[r=o[n]]=t[r]}else this.$attr={};this.$$element=e}function K(e,t){try{e.addClass(t)}catch(e){}}Y.prototype={$normalize:yn,$addClass:function(e){e&&e.length>0&&_.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&_.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=bn(e,t);n&&n.length&&_.addClass(this.$$element,n);var i=bn(t,e);i&&i.length&&_.removeClass(this.$$element,i)},$set:function(e,t,n,i){var r,o=Pt(this.$$element[0],e),a=At[e],s=e;if(o?(this.$$element.prop(e,t),i=o):a&&(this[a]=t,s=a),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=Pe(e,"-")),"a"===(r=ie(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===r&&"src"===e)this[e]=t=T(t,"src"===e);else if("img"===r&&"srcset"===e&&G(t)){for(var l="",u=ee(t),c=/\s/.test(u)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,d=u.split(c),p=Math.floor(d.length/2),h=0;h<p;h++){var g=2*h;l+=T(ee(d[g]),!0),l+=" "+ee(d[g+1])}var m=ee(d[2*h]).split(/\s/);l+=T(ee(m[0]),!0),2===m.length&&(l+=" "+ee(m[1])),this[e]=t=l}!1!==n&&(null===t||F(t)?this.$$element.removeAttr(i):A.test(i)?this.$$element.attr(i,t):function(e,t,n){L.innerHTML="<span "+t+">";var i=L.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}(this.$$element[0],i,t));var v=this.$$observers;v&&S(v[s],function(e){try{e(t)}catch(e){f(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=Ve()),r=i[e]||(i[e]=[]);return r.push(t),k.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||F(n[e])||t(n[e])}),function(){oe(r,t)}}};var J=n.startSymbol(),Q=n.endSymbol(),te="{{"===J&&"}}"===Q?R:function(e){return e.replace(/\{\{/g,J).replace(/}}/g,Q)},ne=/^ngAttr[A-Z]/,re=/^(.+)Start$/;return ae.$$addBindingInfo=y?function(e,t){var n=e.data("$binding")||[];W(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:I,ae.$$addBindingClass=y?function(e){K(e,"ng-binding")}:I,ae.$$addScopeInfo=y?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:I,ae.$$addScopeClass=y?function(e,t){K(e,t?"ng-isolate-scope":"ng-scope")}:I,ae.$$createComment=function(t,n){var i="";return y&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},ae;function ae(e,t,n,i,r){e instanceof d||(e=d(e));var o=ue(e,t,e,n,i,r);ae.$$addScopeClass(e);var a=null;return function(t,n,i){if(!e)throw pn("multilink","This element has already been linked.");Re(t,"scope"),r&&r.needsNewScope&&(t=t.$parent.$new());var s,l,u,c=(i=i||{}).parentBoundTranscludeFn,p=i.transcludeControllers,h=i.futureParentElement;if(c&&c.$$boundTransclude&&(c=c.$$boundTransclude),a||(l=(s=h)&&s[0],a=l&&"foreignobject"!==ie(l)&&v.call(l).match(/SVG/)?"svg":"html"),u="html"!==a?d(_e(a,d("<div>").append(e).html())):n?Mt.clone.call(e):e,p)for(var f in p)u.data("$"+f+"Controller",p[f].instance);return ae.$$addScopeInfo(u,t),n&&n(u,t),o&&o(t,u,u,c),n||(e=o=null),u}}function ue(e,t,n,i,r,o){for(var a,s,l,u,p,h,f,g=[],m=W(e)||e instanceof d,v=0;v<e.length;v++)a=new Y,11===c&&ce(e,v,m),(l=(s=fe(e[v],[],a,0===v?i:void 0,r)).length?ye(s,e[v],a,t,n,null,[],[],o):null)&&l.scope&&ae.$$addScopeClass(a.$$element),p=l&&l.terminal||!(u=e[v].childNodes)||!u.length?null:ue(u,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:t),(l||p)&&(g.push(v,l,p),h=!0,f=f||l),o=null;return h?function(e,n,i,r){var o,a,s,l,u,c,p,h,m;if(f){var v=n.length;for(m=new Array(v),u=0;u<g.length;u+=3)p=g[u],m[p]=n[p]}else m=n;for(u=0,c=g.length;u<c;)s=m[g[u++]],o=g[u++],a=g[u++],o?(o.scope?(l=e.$new(),ae.$$addScopeInfo(d(s),l)):l=e,h=o.transcludeOnThisElement?de(e,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&t?de(e,t):null,o(a,l,s,i,h)):a&&a(e,s.childNodes,void 0,r)}:null}function ce(e,t,n){var i,r=e[t],o=r.parentNode;if(r.nodeType===ze)for(;(i=o?r.nextSibling:e[t+1])&&i.nodeType===ze;)r.nodeValue=r.nodeValue+i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===e[t+1]&&e.splice(t+1,1)}function de(e,t,n){function i(i,r,o,a,s){return i||((i=e.$new(!1,s)).$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=Ve();for(var o in t.$$slots)t.$$slots[o]?r[o]=de(e,t.$$slots[o],n):r[o]=null;return i}function fe(e,t,i,r,s){var l,u,c,d=e.nodeType,p=i.$attr;switch(d){case je:Ce(t,yn(u=ie(e)),"E",r,s);for(var h,f,g,m,v,y,b=e.attributes,w=0,$=b&&b.length;w<$;w++){var C=!1,S=!1;f=(h=b[w]).name,v=h.value,m=yn(f),(y=ne.test(m))&&(f=f.replace(mn,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var x=m.match(re);x&&Se(x[1])&&(C=f,S=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),p[g=yn(f.toLowerCase())]=f,!y&&i.hasOwnProperty(g)||(i[g]=v,Pt(e,g)&&(i[g]=!0)),Me(e,t,v,g,y),Ce(t,g,"A",r,s,C,S)}if("input"===u&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!H)break;if(V(c=e.className)&&(c=c.animVal),j(c)&&""!==c)for(;l=a.exec(c);)Ce(t,g=yn(l[2]),"C",r,s)&&(i[g]=ee(l[3])),c=c.substr(l.index+l[0].length);break;case ze:!function(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&ae.$$addBindingClass(t),function(e,t){var r=t.parent();n||ae.$$addBindingClass(r),ae.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}(t,e.nodeValue);break;case Ue:if(!N)break;!function(e,t,n,i,r){try{var a=o.exec(e.nodeValue);if(a){var s=yn(a[1]);Ce(t,s,"M",i,r)&&(n[s]=ee(a[2]))}}catch(e){}}(e,t,i,r,s)}return t.sort(ke),t}function ge(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw pn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===je&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0);else i.push(e);return d(i)}function me(e,t,n){return function(i,r,o,a,s){return r=ge(r[0],t,n),e(i,r,o,a,s)}}function ve(e,t,n,i,r,o){var a;return e?ae(t,n,i,r,o):function(){return a||(a=ae(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function ye(e,t,n,i,r,o,a,s,l){l=l||{};for(var u,c,p,h,g,m=-Number.MAX_VALUE,v=l.newScopeDirective,y=l.controllerDirectives,w=l.newIsolateScopeDirective,$=l.templateDirective,C=l.nonTlbTranscludeDirective,x=!1,k=!1,D=l.hasElementTranscludeDirective,_=n.$$element=d(t),T=o,O=i,A=!1,P=!1,I=0,R=e.length;I<R;I++){var L=(u=e[I]).$$start,N=u.$$end;if(L&&(_=ge(t,L,N)),p=void 0,m>u.priority)break;if((g=u.scope)&&(u.templateUrl||(V(g)?(De("new/isolated scope",w||v,u,_),w=u):De("new/isolated scope",w,u,_)),v=v||u),c=u.name,!A&&(u.replace&&(u.templateUrl||u.template)||u.transclude&&!u.$$tlb)){for(var G,H=I+1;G=e[H++];)if(G.transclude&&!G.$$tlb||G.replace&&(G.templateUrl||G.template)){P=!0;break}A=!0}if(!u.templateUrl&&u.controller&&(y=y||Ve(),De("'"+c+"' controller",y[c],u,_),y[c]=u),g=u.transclude)if(x=!0,u.$$tlb||(De("transclusion",C,u,_),C=u),"element"===g)D=!0,m=u.priority,p=_,_=n.$$element=d(ae.$$createComment(c,n[c])),t=_[0],Te(r,pe(p),t),p[0].$$parentNode=p[0].parentNode,O=ve(P,p,i,m,T&&T.name,{nonTlbTranscludeDirective:C});else{var j=Ve();if(V(g)){p=[];var z=Ve(),U=Ve();for(var B in S(g,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,z[e]=t,j[t]=null,U[t]=n}),S(_.contents(),function(e){var t=z[yn(ie(e))];t?(U[t]=!0,j[t]=j[t]||[],j[t].push(e)):p.push(e)}),S(U,function(e,t){if(!e)throw pn("reqslot","Required transclusion slot `{0}` was not filled.",t)}),j)j[B]&&(j[B]=ve(P,j[B],i))}else p=d(ft(t)).contents();_.empty(),(O=ve(P,p,i,void 0,void 0,{needsNewScope:u.$$isolateScope||u.$$newScope})).$$slots=j}if(u.template)if(k=!0,De("template",$,u,_),$=u,g=q(u.template)?u.template(_,n):u.template,g=te(g),u.replace){if(T=u,p=ut(g)?[]:wn(_e(u.templateNamespace,ee(g))),t=p[0],1!==p.length||t.nodeType!==je)throw pn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",c,"");Te(r,_,t);var K={$attr:{}},X=fe(t,[],K),J=e.splice(I+1,e.length-(I+1));(w||v)&&$e(X,w,v),e=e.concat(X).concat(J),xe(n,K),R=e.length}else _.html(g);if(u.templateUrl)k=!0,De("template",$,u,_),$=u,u.replace&&(T=u),re=Ee(e.splice(I,e.length-I),_,n,r,x&&O,a,s,{controllerDirectives:y,newScopeDirective:v!==u&&v,newIsolateScopeDirective:w,templateDirective:$,nonTlbTranscludeDirective:C}),R=e.length;else if(u.compile)try{h=u.compile(_,n,O);var Q=u.$$originalDirective||u;q(h)?ne(null,he(Q,h),L,N):h&&ne(he(Q,h.pre),he(Q,h.post),L,N)}catch(e){f(e,we(_))}u.terminal&&(re.terminal=!0,m=Math.max(m,u.priority))}return re.scope=v&&!0===v.scope,re.transcludeOnThisElement=x,re.templateOnThisElement=k,re.transclude=O,l.hasElementTranscludeDirective=D,re;function ne(e,t,n,i){e&&(n&&(e=me(e,n,i)),e.require=u.require,e.directiveName=c,(w===u||u.$$isolateScope)&&(e=Oe(e,{isolateScope:!0})),a.push(e)),t&&(n&&(t=me(t,n,i)),t.require=u.require,t.directiveName=c,(w===u||u.$$isolateScope)&&(t=Oe(t,{isolateScope:!0})),s.push(t))}function re(e,i,r,o,l){var u,c,p,h,g,m,C,x,k,_;for(var T in t===r?(k=n,x=n.$$element):k=new Y(x=d(r),n),g=i,w?h=i.$new(!0):v&&(g=i.$parent),l&&((C=function(e,t,n,i){var r;Z(e)||(i=n,n=t,t=e,e=void 0);D&&(r=m);n||(n=D?x.parent():x);if(!i)return l(e,t,r,n,R);var o=l.$$slots[i];if(o)return o(e,t,r,n,R);if(F(o))throw pn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,we(x))}).$$boundTransclude=l,C.isSlotFilled=function(e){return!!l.$$slots[e]}),y&&(m=function(e,t,n,i,r,o,a){var s=Ve();for(var l in i){var u=i[l],c={$scope:u===a||u.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},d=u.controller;"@"===d&&(d=t[u.name]);var p=E(d,c,!0,u.controllerAs);s[u.name]=p,e.data("$"+u.name+"Controller",p.instance)}return s}(x,k,C,y,h,i,w)),w&&(ae.$$addScopeInfo(x,h,!0,!($&&($===w||$===w.$$originalDirective))),ae.$$addScopeClass(x,!0),h.$$isolateBindings=w.$$isolateBindings,(_=Ie(i,k,h,h.$$isolateBindings,w)).removeWatches&&h.$on("$destroy",_.removeWatches)),m){var O=y[T],A=m[T],P=O.$$bindings.bindToController;if(b){A.bindingInfo=P?Ie(g,k,A.instance,P,O):{};var I=A();I!==A.instance&&(A.instance=I,x.data("$"+O.name+"Controller",I),A.bindingInfo.removeWatches&&A.bindingInfo.removeWatches(),A.bindingInfo=Ie(g,k,A.instance,P,O))}else A.instance=A(),x.data("$"+O.name+"Controller",A.instance),A.bindingInfo=Ie(g,k,A.instance,P,O)}for(S(y,function(e,t){var n=e.require;e.bindToController&&!W(n)&&V(n)&&M(m[t].instance,be(t,n,x,m))}),S(m,function(e){var t=e.instance;if(q(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){f(e)}if(q(t.$onInit))try{t.$onInit()}catch(e){f(e)}q(t.$doCheck)&&(g.$watch(function(){t.$doCheck()}),t.$doCheck()),q(t.$onDestroy)&&g.$on("$destroy",function(){t.$onDestroy()})}),u=0,c=a.length;u<c;u++)Ae(p=a[u],p.isolateScope?h:i,x,k,p.require&&be(p.directiveName,p.require,x,m),C);var R=i;for(w&&(w.template||null===w.templateUrl)&&(R=h),e&&e(R,r.childNodes,void 0,l),u=s.length-1;u>=0;u--)Ae(p=s[u],p.isolateScope?h:i,x,k,p.require&&be(p.directiveName,p.require,x,m),C);S(m,function(e){var t=e.instance;q(t.$postLink)&&t.$postLink()})}}function be(e,t,n,i){var r;if(j(t)){var o=t.match(p),a=t.substring(o[0].length),s=o[1]||o[3],l="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[a])&&r.instance,!r){var u="$"+a+"Controller";r=s?n.inheritedData(u):n.data(u)}if(!r&&!l)throw pn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(W(t)){r=[];for(var c=0,d=t.length;c<d;c++)r[c]=be(e,t[c],n,i)}else V(t)&&(r={},S(t,function(t,o){r[o]=be(e,t,n,i)}));return r||null}function $e(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=P(e[i],{$$isolateScope:t,$$newScope:n})}function Ce(e,n,o,a,s,l,u){if(n===s)return null;var c=null;if(i.hasOwnProperty(n))for(var d,p=t.get(n+r),h=0,f=p.length;h<f;h++)if(d=p[h],(F(a)||a>d.priority)&&-1!==d.restrict.indexOf(o)){if(l&&(d=P(d,{$$start:l,$$end:u})),!d.$$bindings){var g=d.$$bindings=m(d,d.name);V(g.isolateScope)&&(d.$$isolateBindings=g.isolateScope)}e.push(d),c=d}return c}function Se(e){if(i.hasOwnProperty(e))for(var n=t.get(e+r),o=0,a=n.length;o<a;o++)if(n[o].multiElement)return!0;return!1}function xe(e,t){var n=t.$attr,i=e.$attr;S(e,function(i,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==i&&(i.length?i+=("style"===r?";":" ")+t[r]:i=t[r]),e.$set(r,i,!0,n[r]))}),S(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function Ee(e,t,n,i,r,o,a,s){var l,u,c=[],p=t[0],h=e.shift(),m=P(h,{templateUrl:null,transclude:null,replace:null,$$originalDirective:h}),v=q(h.templateUrl)?h.templateUrl(t,n):h.templateUrl,y=h.templateNamespace;return t.empty(),g(v).then(function(f){var g,b,w,$;if(f=te(f),h.replace){if(w=ut(f)?[]:wn(_e(y,ee(f))),g=w[0],1!==w.length||g.nodeType!==je)throw pn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h.name,v);b={$attr:{}},Te(i,t,g);var C=fe(g,[],b);V(h.scope)&&$e(C,!0),e=C.concat(e),xe(n,b)}else g=p,t.html(f);for(e.unshift(m),l=ye(e,g,n,r,t,h,o,a,s),S(i,function(e,n){e===g&&(i[n]=t[0])}),u=ue(t[0].childNodes,r);c.length;){var x=c.shift(),E=c.shift(),k=c.shift(),D=c.shift(),_=t[0];if(!x.$$destroyed){if(E!==p){var M=E.className;s.hasElementTranscludeDirective&&h.replace||(_=ft(g)),Te(k,d(E),_),K(d(_),M)}$=l.transcludeOnThisElement?de(x,l.transclude,D):D,l(u,x,_,i,$)}}c=null}).catch(function(e){B(e)&&f(e)}),function(e,t,n,i,r){var o=r;t.$$destroyed||(c?c.push(t,n,i,o):(l.transcludeOnThisElement&&(o=de(t,l.transclude,r)),l(u,t,n,i,o)))}}function ke(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function De(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw pn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,we(i))}function _e(t,n){switch(t=l(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function Me(e,t,i,r,o){var a=function(e,t){if("srcdoc"===t)return D.HTML;var n=ie(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return D.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return D.RESOURCE_URL}(e,r),s=!o,l=u[r]||o,c=n(i,s,a,l);if(c){if("multiple"===r&&"select"===ie(e))throw pn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",we(e));if(h.test(r))throw pn("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var s=o.$$observers||(o.$$observers=Ve()),u=o[r];u!==i&&(c=u&&n(u,!0,a,l),i=u),c&&(o[r]=c(e),(s[r]||(s[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||e).$watch(c,function(e,t){"class"===r&&e!==t?o.$updateClass(e,t):o.$set(r,e)}))}}}})}}function Te(t,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]===a){t[r++]=i;for(var u=r,c=u+s-1,p=t.length;u<p;u++,c++)c<p?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=i);break}l&&l.replaceChild(i,a);var h=e.document.createDocumentFragment();for(r=0;r<s;r++)h.appendChild(n[r]);for(d.hasData(a)&&(d.data(i,d.data(a)),d(a).off("$destroy")),d.cleanData(h.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function Oe(e,t){return M(function(){return e.apply(null,arguments)},e,t)}function Ae(e,t,n,i,r,o){try{e(t,n,i,r,o)}catch(e){f(e,we(n))}}function Ie(e,t,i,r,o){var a,l=[],u={};function c(t,n,r){q(i.$onChanges)&&!se(n,r)&&(O||(e.$$postDigest(U),O=[]),a||(a={},O.push(d)),a[t]&&(r=a[t].previousValue),a[t]=new gn(r,n))}function d(){i.$onChanges(a),a=void 0}return S(r,function(r,a){var d,p,h,f,g,m=r.attrName,v=r.optional;switch(r.mode){case"@":v||s.call(t,m)||(i[a]=t[m]=void 0),g=t.$observe(m,function(e){if(j(e)||X(e)){var t=i[a];c(a,e,t),i[a]=e}}),t.$$observers[m].$$scope=e,j(d=t[m])?i[a]=n(d)(e):X(d)&&(i[a]=d),u[a]=new gn(hn,i[a]),l.push(g);break;case"=":if(!s.call(t,m)){if(v)break;t[m]=void 0}if(v&&!t[m])break;p=x(t[m]),f=p.literal?le:se,h=p.assign||function(){throw d=i[a]=p(e),pn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[m],m,o.name)},d=i[a]=p(e);var y=function(t){return f(t,i[a])||(f(t,d)?h(e,t=i[a]):i[a]=t),d=t};y.$stateful=!0,g=r.collection?e.$watchCollection(t[m],y):e.$watch(x(t[m],y),null,p.literal),l.push(g);break;case"<":if(!s.call(t,m)){if(v)break;t[m]=void 0}if(v&&!t[m])break;var b=(p=x(t[m])).literal,w=i[a]=p(e);u[a]=new gn(hn,i[a]),g=e.$watch(p,function(e,t){if(t===e){if(t===w||b&&le(t,w))return;t=w}c(a,e,t),i[a]=e},b),l.push(g);break;case"&":if((p=t.hasOwnProperty(m)?x(t[m]):I)===I&&v)break;i[a]=function(t){return p(e,t)}}}),{initialChanges:u,removeWatches:l.length&&function(){for(var e=0,t=l.length;e<t;++e)l[e]()}}}}]}function gn(e,t){this.previousValue=e,this.currentValue=t}fn.$inject=["$provide","$$sanitizeUriProvider"],gn.prototype.isFirstChange=function(){return this.previousValue===hn};var mn=/^((?:x|data)[:\-_])/i,vn=/[:\-_]+(.)/g;function yn(e){return e.replace(mn,"").replace(vn,nt)}function bn(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function wn(e){var t=(e=d(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===Ue||n.nodeType===ze&&""===n.nodeValue.trim())&&g.call(e,t,1)}return e}var $n=r("$controller"),Cn=/^(\S+)(\s+as\s+([\w$]+))?$/;function Sn(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){Ne(t,"controller"),V(t)?M(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,i){return function(r,a,s,l){var u,c,d,p;if(s=!0===s,l&&j(l)&&(p=l),j(r)){if(!(c=r.match(Cn)))throw $n("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(d=c[1],p=p||c[3],!(r=e.hasOwnProperty(d)?e[d]:Fe(a.$scope,d,!0)||(t?Fe(i,d,!0):void 0)))throw $n("ctrlreg","The controller with the name '{0}' is not registered.",d);Le(r,d,!0)}if(s){var h=(W(r)?r[r.length-1]:r).prototype;return u=Object.create(h||null),p&&o(a,p,u,d||r.name),M(function(){var e=n.invoke(r,u,a,d);return e!==u&&(V(e)||q(e))&&(u=e,p&&o(a,p,u,d||r.name)),u},{instance:u,identifier:p})}return u=n.instantiate(r,a,d),p&&o(a,p,u,d||r.name),u};function o(e,t,n,i){if(!e||!V(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}}]}function xn(){this.$get=["$window",function(e){return d(e.document)}]}function En(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],i=n&&n.hidden;function r(){i=n.hidden}return e.on("visibilitychange",r),t.$on("$destroy",function(){e.off("visibilitychange",r)}),function(){return i}}]}function kn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var Dn=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof d&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},_n="application/json",Mn={"Content-Type":_n+";charset=utf-8"},Tn=/^\[|^\{(?!\{)/,On={"[":/]$/,"{":/}$/},An=/^\)]\}',?\n/,Pn=r("$http");function In(e){return V(e)?U(e)?e.toISOString():ge(e):e}function Rn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return x(e,function(e,n){null===e||F(e)||(W(e)?S(e,function(e){t.push(Ee(n)+"="+Ee(In(e)))}):t.push(Ee(n)+"="+Ee(In(e))))}),t.join("&")}}}function Ln(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,i,r){if(null===n||F(n))return;W(n)?S(n,function(t,n){e(t,i+"["+(V(t)?n:"")+"]")}):V(n)&&!U(n)?x(n,function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))}):t.push(Ee(i)+"="+Ee(In(n)))}(e,"",!0),t.join("&")}}}function Nn(e,t){if(j(e)){var n=e.replace(An,"").trim();if(n){var i=t("Content-Type");if(i&&0===i.indexOf(_n)||(o=(r=n).match(Tn))&&On[o[0]].test(r))try{e=me(n)}catch(t){throw Pn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}var r,o;return e}function Fn(e){var t,n=Ve();function i(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return j(e)?S(e.split("\n"),function(e){t=e.indexOf(":"),i(l(ee(e.substr(0,t))),ee(e.substr(t+1)))}):V(e)&&S(e,function(e,t){i(l(t),ee(e))}),n}function Gn(e){var t;return function(n){if(t||(t=Fn(e)),n){var i=t[l(n)];return void 0===i&&(i=null),i}return t}}function Vn(e,t,n,i){return q(i)?i(e,t,n):(S(i,function(i){e=i(e,t,n)}),e)}function Hn(e){return 200<=e&&e<300}function jn(){var e=this.defaults={transformResponse:[Nn],transformRequest:[function(e){return!V(e)||(t=e,"[object File]"===v.call(t))||function(e){return"[object Blob]"===v.call(e)}(e)||function(e){return"[object FormData]"===v.call(e)}(e)?e:ge(e);var t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:qe(Mn),put:qe(Mn),patch:qe(Mn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return G(e)?(t=!!e,this):t};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,o,a,s,c,d,p,h){var f=s("$http");e.paramSerializer=j(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var g=[];function m(n){if(!V(n))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!j(h.valueOf(n.url)))throw r("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var s=M({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);s.headers=function(t){var n,i,r,o=e.headers,a=M({},t.headers);o=M({},o.common,o[l(t.method)]);e:for(n in o){for(r in i=l(n),a)if(l(r)===i)continue e;a[n]=o[n]}return function(e,t){var n,i={};return S(e,function(e,r){q(e)?null!=(n=e(t))&&(i[r]=n):i[r]=e}),i}(a,qe(t))}(n),s.method=u(s.method),s.paramSerializer=j(s.paramSerializer)?p.get(s.paramSerializer):s.paramSerializer,i.$$incOutstandingRequestCount();var v=[],y=[],b=d.resolve(s);return S(g,function(e){(e.request||e.requestError)&&v.unshift(e.request,e.requestError),(e.response||e.responseError)&&y.push(e.response,e.responseError)}),b=(b=w(b=(b=w(b,v)).then(function(n){var i=n.headers,r=Vn(n.data,Gn(i),void 0,n.transformRequest);F(r)&&S(i,function(e,t){"content-type"===l(t)&&delete i[t]});F(n.withCredentials)&&!F(e.withCredentials)&&(n.withCredentials=e.withCredentials);return function(n,i){var r,s,u=d.defer(),p=u.promise,g=n.headers,v="jsonp"===l(n.method),y=n.url;v?y=h.getTrustedResourceUrl(y):j(y)||(y=h.valueOf(y));y=function(e,t){return t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}(y,n.paramSerializer(n.params)),v&&(y=function(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw Pn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(new RegExp("[&?]"+t+"=").test(e))throw Pn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e);return e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}(y,n.jsonpCallbackParam));m.pendingRequests.push(n),p.then(x,x),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(r=V(n.cache)?n.cache:V(e.cache)?e.cache:f);r&&(G(s=r.get(y))?J(s)?s.then(C,C):W(s)?$(s[1],s[0],qe(s[2]),s[3]):$(s,200,{},"OK"):r.put(y,p));if(F(s)){var b=rr(n.url)?a()[n.xsrfCookieName||e.xsrfCookieName]:void 0;b&&(g[n.xsrfHeaderName||e.xsrfHeaderName]=b),o(n.method,y,i,function(e,n,i,o){r&&(Hn(e)?r.put(y,[e,n,Fn(i),o]):r.remove(y));function a(){$(n,e,i,o)}t?c.$applyAsync(a):(a(),c.$$phase||c.$apply())},g,n.timeout,n.withCredentials,n.responseType,w(n.eventHandlers),w(n.uploadEventHandlers))}return p;function w(e){if(e){var n={};return S(e,function(e,i){n[i]=function(n){function i(){e(n)}t?c.$applyAsync(i):c.$$phase?i():c.$apply(i)}}),n}}function $(e,t,i,r){(Hn(t=t>=-1?t:0)?u.resolve:u.reject)({data:e,status:t,headers:Gn(i),config:n,statusText:r})}function C(e){$(e.data,e.status,qe(e.headers()),e.statusText)}function x(){var e=m.pendingRequests.indexOf(n);-1!==e&&m.pendingRequests.splice(e,1)}}(n,r).then($,$)}),y)).finally(function(){i.$$completeOutstandingRequest(I)});function w(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],o=t[n++];e=e.then(r,o)}return t.length=0,e}function $(e){var t=M({},e);return t.data=Vn(e.data,e.headers,e.status,s.transformResponse),Hn(e.status)?t:d.reject(t)}}return S(n,function(e){g.unshift(j(e)?p.get(e):p.invoke(e))}),m.pendingRequests=[],function(e){S(arguments,function(e){m[e]=function(t,n){return m(M({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){S(arguments,function(e){m[e]=function(t,n,i){return m(M({},i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),m.defaults=e,m}]}function zn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Un(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return function(e,t,n,i,r){return function(o,a,s,u,c,d,p,h,f,g){if(a=a||e.url(),"jsonp"===l(o))var m=i.createCallback(a),v=function(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),r.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},o.addEventListener("load",a),o.addEventListener("error",a),r.body.appendChild(o),a}(a,m,function(e,t){var n=200===e&&i.getResponse(m);C(u,e,n,"",t),i.removeCallback(m)});else{var y=t(o,a);y.open(o,a,!0),S(c,function(e,t){G(e)&&y.setRequestHeader(t,e)}),y.onload=function(){var e=y.statusText||"",t="response"in y?y.response:y.responseText,n=1223===y.status?204:y.status;0===n&&(n=t?200:"file"===ir(a).protocol?404:0),C(u,n,t,y.getAllResponseHeaders(),e)};var b=function(){C(u,-1,null,null,"")};if(y.onerror=b,y.onabort=b,y.ontimeout=b,S(f,function(e,t){y.addEventListener(t,e)}),S(g,function(e,t){y.upload.addEventListener(t,e)}),p&&(y.withCredentials=!0),h)try{y.responseType=h}catch(e){if("json"!==h)throw e}y.send(F(s)?null:s)}if(d>0)var w=n($,d);else J(d)&&d.then($);function $(){v&&v(),y&&y.abort()}function C(e,t,i,r,o){G(w)&&n.cancel(w),v=y=null,e(t,i,r,o)}}}(e,i,e.defer,t,n[0])}]}var Wn=w.$interpolateMinErr=r("$interpolate");function Bn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){var o=e.length,a=t.length,s=new RegExp(e.replace(/./g,u),"g"),l=new RegExp(t.replace(/./g,u),"g");function u(e){return"\\\\\\"+e}function c(n){return n.replace(s,e).replace(l,t)}function d(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function p(s,l,u,p){if(!s.length||-1===s.indexOf(e)){var h;if(!l)(h=L(c(s))).exp=s,h.expressions=[],h.$$watchDelegate=d;return h}p=!!p;for(var f,g,m,v=0,y=[],b=[],w=s.length,$=[],C=[];v<w;){if(-1===(f=s.indexOf(e,v))||-1===(g=s.indexOf(t,f+o))){v!==w&&$.push(c(s.substring(v)));break}v!==f&&$.push(c(s.substring(v,f))),m=s.substring(f+o,g),y.push(m),b.push(n(m,E)),v=g+a,C.push($.length),$.push("")}if(u&&$.length>1&&Wn.throwNoconcat(s),!l||y.length){var S=function(e){for(var t=0,n=y.length;t<n;t++){if(p&&F(e[t]))return;$[C[t]]=e[t]}return $.join("")},x=function(e){return u?r.getTrusted(u,e):r.valueOf(e)};return M(function(e){var t=0,n=y.length,r=new Array(n);try{for(;t<n;t++)r[t]=b[t](e);return S(r)}catch(e){i(Wn.interr(s,e))}},{exp:s,expressions:y,$$watchDelegate:function(e,t){var n;return e.$watchGroup(b,function(i,r){var o=S(i);q(t)&&t.call(this,o,i!==r?n:o,e),n=o})}})}function E(e){try{return e=x(e),p&&!G(e)?e:He(e)}catch(e){i(Wn.interr(s,e))}}}return p.startSymbol=function(){return e},p.endSymbol=function(){return t},p}]}function qn(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,i,r){var o={};function a(a,s,l,u){var c=arguments.length>4,d=c?pe(arguments,4):[],p=t.setInterval,h=t.clearInterval,f=0,g=G(u)&&!u,m=(g?i:n).defer(),v=m.promise;return l=G(l)?l:0,v.$$intervalId=p(function(){g?r.defer(y):e.$evalAsync(y),m.notify(f++),l>0&&f>=l&&(m.resolve(f),h(v.$$intervalId),delete o[v.$$intervalId]),g||e.$apply()},s),o[v.$$intervalId]=m,v;function y(){c?a.apply(null,d):a(f)}}return a.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(Gi(o[e.$$intervalId].promise),o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},a}]}Wn.throwNoconcat=function(e){throw Wn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Wn.interr=function(e,t){return Wn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Yn=function(){this.$get=function(){var e=w.callbacks,t={};return{createCallback:function(n){var i="_"+(e.$$counter++).toString(36),r="angular.callbacks."+i,o=function(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}(i);return t[r]=e[i]=o,r},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(n){var i=t[n];delete e[i.id],delete t[n]}}}},Kn=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Zn={http:80,https:443,ftp:21},Xn=r("$location");function Jn(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=xe(t[n]);return t.join("/")}function Qn(e,t){var n=ir(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=O(n.port)||Zn[n.protocol]||null}var ei=/^\s*[\\/]{2,}/;function ti(e,t){if(ei.test(e))throw Xn("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var i=ir(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=Ce(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function ni(e,t){return e.slice(0,t.length)===t}function ii(e,t){if(ni(t,e))return t.substr(e.length)}function ri(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function oi(e){return e.replace(/(#.+)|#$/,"$1")}function ai(e,t,n){this.$$html5=!0,n=n||"",Qn(e,this),this.$$parse=function(e){var n=ii(t,e);if(!j(n))throw Xn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);ti(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Se(this.$$search),n=this.$$hash?"#"+xe(this.$$hash):"";this.$$url=Jn(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(G(o=ii(e,i))?(a=o,s=n&&G(o=ii(n,o))?t+(ii("/",o)||o):e+a):G(o=ii(t,i))?s=t+o:t===i+"/"&&(s=t),s&&this.$$parse(s),!!s);var o,a,s}}function si(e,t,n){Qn(e,this),this.$$parse=function(i){var r,o=ii(e,i)||ii(t,i);F(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",F(o)&&(e=i,this.replace())):F(r=ii(n,o))&&(r=o),ti(r,this),this.$$path=function(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;ni(t,n)&&(t=t.replace(n,""));if(r.exec(t))return e;return(i=r.exec(e))?i[1]:e}(this.$$path,r,e),this.$$compose()},this.$$compose=function(){var t=Se(this.$$search),i=this.$$hash?"#"+xe(this.$$hash):"";this.$$url=Jn(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,n){return ri(e)===ri(t)&&(this.$$parse(t),!0)}}function li(e,t,n){this.$$html5=!0,si.apply(this,arguments),this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(e===ri(i)?o=i:(a=ii(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o);var o,a},this.$$compose=function(){var t=Se(this.$$search),i=this.$$hash?"#"+xe(this.$$hash):"";this.$$url=Jn(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}var ui={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:ci("$$absUrl"),url:function(e){if(F(e))return this.$$url;var t=Kn.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:ci("$$protocol"),host:ci("$$host"),port:ci("$$port"),path:di("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(j(e)||z(e))e=e.toString(),this.$$search=Ce(e);else{if(!V(e))throw Xn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");S(e=ae(e,{}),function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:F(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:di("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};function ci(e){return function(){return this[e]}}function di(e,t){return function(n){return F(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function pi(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return G(t)?(e=t,this):e},this.html5Mode=function(e){return X(e)?(t.enabled=e,this):V(e)?(X(e.enabled)&&(t.enabled=e.enabled),X(e.requireBase)&&(t.requireBase=e.requireBase),(X(e.rewriteLinks)||j(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){var s,l,u,c,p=i.baseHref(),h=i.url();if(t.enabled){if(!p&&t.requireBase)throw Xn("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=(c=h).substring(0,c.indexOf("/",c.indexOf("//")+2))+(p||"/"),l=r.history?ai:li}else u=ri(h),l=si;var f=function(e){return e.substr(0,ri(e).lastIndexOf("/")+1)}(u);(s=new l(u,f,"#"+e)).$$parseLinkUrl(h,h),s.$$state=i.state();var g=/^\s*(javascript|mailto):/i;function m(e,t,n){var r=s.url(),o=s.$$state;try{i.url(e,t,n),s.$$state=i.state()}catch(e){throw s.url(r),s.$$state=o,e}}o.on("click",function(e){var r=t.rewriteLinks;if(r&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var l=d(e.target);"a"!==ie(l[0]);)if(l[0]===o[0]||!(l=l.parent())[0])return;if(!j(r)||!F(l.attr(r))){var u=l.prop("href"),c=l.attr("href")||l.attr("xlink:href");V(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=ir(u.animVal).href),g.test(u)||!u||l.attr("target")||e.isDefaultPrevented()||s.$$parseLinkUrl(u,c)&&(e.preventDefault(),s.absUrl()!==i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),oi(s.absUrl())!==oi(h)&&i.url(s.absUrl(),!0);var v=!0;return i.onUrlChange(function(e,t){ni(e,f)?(n.$evalAsync(function(){var i,r=s.absUrl(),o=s.$$state;e=oi(e),s.$$parse(e),s.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,s.absUrl()===e&&(i?(s.$$parse(r),s.$$state=o,m(r,!1,o)):(v=!1,y(r,o)))}),n.$$phase||n.$digest()):a.location.href=e}),n.$watch(function(){if(v||s.$$urlUpdatedByLocation){s.$$urlUpdatedByLocation=!1;var e=oi(i.url()),t=oi(s.absUrl()),o=i.state(),a=s.$$replace,l=e!==t||s.$$html5&&r.history&&o!==s.$$state;(v||l)&&(v=!1,n.$evalAsync(function(){var t=s.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,s.$$state,o).defaultPrevented;s.absUrl()===t&&(i?(s.$$parse(e),s.$$state=o):(l&&m(t,a,o===s.$$state?null:s.$$state),y(e,o)))}))}s.$$replace=!1}),s;function y(e,t){n.$broadcast("$locationChangeSuccess",s.absUrl(),e,s.$$state,t)}}]}function hi(){var e=!0,t=this;this.debugEnabled=function(t){return G(t)?(e=t,this):e},this.$get=["$window",function(n){var i,r=c||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:(i=o("debug"),function(){e&&i.apply(t,arguments)})};function o(e){var t=n.console||{},i=t[e]||t.log||I;return function(){var e=[];return S(arguments,function(t){e.push(function(e){return B(e)&&(e.stack&&r?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}(t))}),Function.prototype.apply.call(i,t,e)}}}]}S([li,si,ai],function(e){e.prototype=Object.create(ui),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==ai||!this.$$html5)throw Xn("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=F(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var fi=r("$parse"),gi={}.constructor.prototype.valueOf;function mi(e){return e+""}var vi=Ve();S("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){vi[e]=!0});var yi={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},bi=function(e){this.options=e};bi.prototype={constructor:bi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=vi[t],o=vi[n],a=vi[i];if(r||o||a){var s=a?i:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=G(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw fi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=l(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=yi[o]||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var wi=function(e,t){this.lexer=e,this.options=t};function $i(e,t){return void 0!==e?e:t}function Ci(e,t){return void 0===e?t:void 0===t?e:e+t}wi.Program="Program",wi.ExpressionStatement="ExpressionStatement",wi.AssignmentExpression="AssignmentExpression",wi.ConditionalExpression="ConditionalExpression",wi.LogicalExpression="LogicalExpression",wi.BinaryExpression="BinaryExpression",wi.UnaryExpression="UnaryExpression",wi.CallExpression="CallExpression",wi.MemberExpression="MemberExpression",wi.Identifier="Identifier",wi.Literal="Literal",wi.ArrayExpression="ArrayExpression",wi.Property="Property",wi.ObjectExpression="ObjectExpression",wi.ThisExpression="ThisExpression",wi.LocalsExpression="LocalsExpression",wi.NGValueParameter="NGValueParameter",wi.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:wi.Program,body:e}},expressionStatement:function(){return{type:wi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Di(e))throw fi("lval","Trying to assign a value to a non l-value");e={type:wi.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:wi.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:wi.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:wi.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:wi.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:wi.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:wi.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:wi.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:wi.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=ae(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:wi.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:wi.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:wi.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:wi.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:wi.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:wi.Identifier,name:e.text}},constant:function(){return{type:wi.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:wi.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:wi.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:wi.ObjectExpression,properties:t}},throwError:function(e,t){throw fi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw fi("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw fi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===i||a===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:wi.ThisExpression},$locals:{type:wi.LocalsExpression}}};var Si=1,xi=2;function Ei(e,t,n){var i,r,o,a=e.isPure=function(e,t){switch(e.type){case wi.MemberExpression:if(e.computed)return!1;break;case wi.UnaryExpression:return Si;case wi.BinaryExpression:return"+"!==e.operator&&Si;case wi.CallExpression:return!1}return void 0===t?xi:t}(e,n);switch(e.type){case wi.Program:i=!0,S(e.body,function(e){Ei(e.expression,t,a),i=i&&e.expression.constant}),e.constant=i;break;case wi.Literal:e.constant=!0,e.toWatch=[];break;case wi.UnaryExpression:Ei(e.argument,t,a),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case wi.BinaryExpression:Ei(e.left,t,a),Ei(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case wi.LogicalExpression:Ei(e.left,t,a),Ei(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case wi.ConditionalExpression:Ei(e.test,t,a),Ei(e.alternate,t,a),Ei(e.consequent,t,a),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case wi.Identifier:e.constant=!1,e.toWatch=[e];break;case wi.MemberExpression:Ei(e.object,t,a),e.computed&&Ei(e.property,t,a),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case wi.CallExpression:o=!!e.filter&&function(e,t){return!e(t).$stateful}(t,e.callee.name),i=o,r=[],S(e.arguments,function(e){Ei(e,t,a),i=i&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=o?r:[e];break;case wi.AssignmentExpression:Ei(e.left,t,a),Ei(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case wi.ArrayExpression:i=!0,r=[],S(e.elements,function(e){Ei(e,t,a),i=i&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=r;break;case wi.ObjectExpression:i=!0,r=[],S(e.properties,function(e){Ei(e.value,t,a),i=i&&e.value.constant&&!e.computed,e.value.constant||r.push.apply(r,e.value.toWatch),e.computed&&(Ei(e.key,t,a),e.key.constant||r.push.apply(r,e.key.toWatch))}),e.constant=i,e.toWatch=r;break;case wi.ThisExpression:case wi.LocalsExpression:e.constant=!1,e.toWatch=[]}}function ki(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function Di(e){return e.type===wi.Identifier||e.type===wi.MemberExpression}function _i(e){if(1===e.body.length&&Di(e.body[0].expression))return{type:wi.AssignmentExpression,left:e.body[0].expression,right:{type:wi.NGValueParameter},operator:"="}}function Mi(e){this.$filter=e}function Ti(e){this.$filter=e}function Oi(e,t,n){this.ast=new wi(e,n),this.astCompiler=n.csp?new Ti(t):new Mi(t)}function Ai(e){return q(e.valueOf)?e.valueOf():gi.call(e)}function Pi(){var e,t,n=Ve(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(r){var o={csp:ue().noUnsafeEval,literals:ae(i),isIdentifierStart:q(e)&&e,isIdentifierContinue:q(t)&&t};return function(e,t){var i,a,p;switch(typeof e){case"string":if(e=e.trim(),!(i=n[p=e])){":"===e.charAt(0)&&":"===e.charAt(1)&&(a=!0,e=e.substring(2));var h=new bi(o),f=new Oi(h,r,o);(i=f.parse(e)).constant?i.$$watchDelegate=c:a?i.$$watchDelegate=i.literal?u:l:i.inputs&&(i.$$watchDelegate=s),n[p]=i}return d(i,t);case"function":return d(e,t);default:return d(I,t)}};function a(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Ai(e))&&!n)&&(e===t||e!=e&&t!=t)}function s(e,t,n,i,r){var o,s=i.inputs;if(1===s.length){var l=a;return s=s[0],e.$watch(function(e){var t=s(e);return a(t,l,s.isPure)||(o=i(e,void 0,void 0,[t]),l=t&&Ai(t)),o},t,n,r)}for(var u=[],c=[],d=0,p=s.length;d<p;d++)u[d]=a,c[d]=null;return e.$watch(function(e){for(var t=!1,n=0,r=s.length;n<r;n++){var l=s[n](e);(t||(t=!a(l,u[n],s[n].isPure)))&&(c[n]=l,u[n]=l&&Ai(l))}return t&&(o=i(e,void 0,void 0,c)),o},t,n,r)}function l(e,t,n,i,r){var o,a;return o=i.inputs?s(e,l,n,i,r):e.$watch(function(e){return i(e)},l,n);function l(e,n,i){a=e,q(t)&&t(e,n,i),G(e)&&i.$$postDigest(function(){G(a)&&o()})}}function u(e,t,n,i){var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,q(t)&&t(e,n,i),a(e)&&i.$$postDigest(function(){a(o)&&r()})},n);function a(e){var t=!0;return S(e,function(e){G(e)||(t=!1)}),t}}function c(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function d(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,r=n!==u&&n!==l?function(n,r,o,a){var s=i&&a?a[0]:e(n,r,o,a);return t(s,n,r)}:function(n,i,r,o){var a=e(n,i,r,o),s=t(a,n,i);return G(a)?s:a};return i=!e.inputs,n&&n!==s?(r.$$watchDelegate=n,r.inputs=e.inputs):t.$stateful||(r.$$watchDelegate=s,r.inputs=e.inputs?e.inputs:[e]),r.inputs&&(r.inputs=r.inputs.map(function(e){return e.isPure===xi?function(t){return e(t)}:e})),r}}]}function Ii(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Li(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return G(t)?(e=t,this):e}}function Ri(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Li(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return G(t)?(e=t,this):e}}function Li(e,t,n){var i=r("$q",TypeError),o=0,a=[];function s(){return new function(){var e=this.promise=new l;this.resolve=function(t){d(e,t)},this.reject=function(t){p(e,t)},this.notify=function(t){f(e,t)}}}function l(){this.$$state={status:0}}function u(){for(;!o&&a.length;){var e=a.shift();if(!Ni(e)){Fi(e);var n="Possibly unhandled rejection: "+Ye(e.value);B(e.value)?t(e.value,n):t(n)}}}function c(t){!n||t.pending||2!==t.status||Ni(t)||(0===o&&0===a.length&&e(u),a.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++o,e(function(){!function(t){var i,r,a;a=t.pending,t.processScheduled=!1,t.pending=void 0;try{for(var s=0,l=a.length;s<l;++s){Fi(t),r=a[s][0],i=a[s][t.status];try{q(i)?d(r,i(t.value)):1===t.status?d(r,t.value):p(r,t.value)}catch(e){p(r,e)}}}finally{--o,n&&0===o&&e(u)}}(t)}))}function d(e,t){e.$$state.status||(t===e?h(e,i("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):function e(t,n){var i;var r=!1;try{(V(n)||q(n))&&(i=n.then),q(i)?(t.$$state.status=-1,i.call(n,function o(e){if(r)return;r=!0,function e(t,n){var i;var r=!1;try{(V(n)||q(n))&&(i=n.then),q(i)?(t.$$state.status=-1,i.call(n,o,a,function(e){f(t,e)})):(t.$$state.value=n,t.$$state.status=1,c(t.$$state))}catch(e){a(e)}function o(n){r||(r=!0,e(t,n))}function a(e){r||(r=!0,h(t,e))}}(t,e)},a,function(e){f(t,e)})):(t.$$state.value=n,t.$$state.status=1,c(t.$$state))}catch(e){a(e)}function o(n){r||(r=!0,e(t,n))}function a(e){r||(r=!0,h(t,e))}}(e,t))}function p(e,t){e.$$state.status||h(e,t)}function h(e,t){e.$$state.value=t,e.$$state.status=2,c(e.$$state)}function f(n,i){var r=n.$$state.pending;n.$$state.status<=0&&r&&r.length&&e(function(){for(var e,n,o=0,a=r.length;o<a;o++){n=r[o][0],e=r[o][3];try{f(n,q(e)?e(i):i)}catch(e){t(e)}}})}function g(e){var t=new l;return p(t,e),t}function m(e,t,n){var i=null;try{q(n)&&(i=n())}catch(e){return g(e)}return J(i)?i.then(function(){return t(e)},g):t(e)}function v(e,t,n,i){var r=new l;return d(r,e),r.then(t,n,i)}M(l.prototype,{then:function(e,t,n){if(F(e)&&F(t)&&F(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&c(this.$$state),i},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return m(t,y,e)},function(t){return m(t,g,e)},t)}});var y=v;function b(e){if(!q(e))throw i("norslvr","Expected resolverFn, got '{0}'",e);var t=new l;return e(function(e){d(t,e)},function(e){p(t,e)}),t}return b.prototype=l.prototype,b.defer=s,b.reject=g,b.when=v,b.resolve=y,b.all=function(e){var t=new l,n=0,i=W(e)?[]:{};return S(e,function(e,r){n++,v(e).then(function(e){i[r]=e,--n||d(t,i)},function(e){p(t,e)})}),0===n&&d(t,i),t},b.race=function(e){var t=s();return S(e,function(e){v(e).then(t.resolve,t.reject)}),t.promise},b}function Ni(e){return!!e.pur}function Fi(e){e.pur=!0}function Gi(e){Fi(e.$$state)}function Vi(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function Hi(){var e=10,t=r("$rootScope"),n=null,i=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(r,o,a){function l(e){e.currentScope.$$destroyed=!0}function u(){this.$id=k(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}u.prototype={constructor:u,$new:function(e,t){var n;return t=t||this,e?(n=new u).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=k(),this.$$ChildScope=null}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",l),n},$watch:function(e,t,i,r){var a=o(e);if(a.$$watchDelegate)return a.$$watchDelegate(this,t,i,a,e);var s=this,l=s.$$watchers,u={fn:t,last:w,get:a,exp:r||e,eq:!!i};return n=null,q(t)||(u.fn=I),l||((l=s.$$watchers=[]).$$digestWatchIndex=-1),l.unshift(u),l.$$digestWatchIndex++,y(this,1),function(){var e=oe(l,u);e>=0&&(y(s,-1),e<l.$$digestWatchIndex&&l.$$digestWatchIndex--),n=null}},$watchGroup:function(e,t){var n=new Array(e.length),i=new Array(e.length),r=[],o=this,a=!1,s=!0;if(!e.length){var l=!0;return o.$evalAsync(function(){l&&t(i,i,o)}),function(){l=!1}}if(1===e.length)return this.$watch(e[0],function(e,r,o){i[0]=e,n[0]=r,t(i,e===r?i:n,o)});function u(){a=!1,s?(s=!1,t(i,i,o)):t(i,n,o)}return S(e,function(e,t){var s=o.$watch(e,function(e,r){i[t]=e,n[t]=r,a||(a=!0,o.$evalAsync(u))});r.push(s)}),function(){for(;r.length;)r.shift()()}},$watchCollection:function(e,t){g.$stateful=!0;var n,i,r,a=this,l=t.length>1,u=0,c=o(e,g),d=[],p={},h=!0,f=0;function g(e){var t,r,o,a;if(!F(n=e)){if(V(n))if(C(n)){i!==d&&(f=(i=d).length=0,u++),t=n.length,f!==t&&(u++,i.length=f=t);for(var l=0;l<t;l++)a=i[l],o=n[l],a!=a&&o!=o||a===o||(u++,i[l]=o)}else{for(r in i!==p&&(i=p={},f=0,u++),t=0,n)s.call(n,r)&&(t++,o=n[r],a=i[r],r in i?a!=a&&o!=o||a===o||(u++,i[r]=o):(f++,i[r]=o,u++));if(f>t)for(r in u++,i)s.call(n,r)||(f--,delete i[r])}else i!==n&&(i=n,u++);return u}}return this.$watch(c,function(){if(h?(h=!1,t(n,n,a)):t(n,r,a),l)if(V(n))if(C(n)){r=new Array(n.length);for(var e=0;e<n.length;e++)r[e]=n[e]}else for(var i in r={},n)s.call(n,i)&&(r[i]=n[i]);else r=n})},$digest:function(){var o,s,l,u,c,f,y,b,C,S=e,x=[];m("$digest"),a.$$checkUrlChange(),this===d&&null!==i&&(a.defer.cancel(i),$()),n=null;do{c=!1,y=this;for(var E=0;E<p.length;E++){try{(0,(C=p[E]).fn)(C.scope,C.locals)}catch(e){r(e)}n=null}p.length=0;e:do{if(u=y.$$watchers)for(u.$$digestWatchIndex=u.length;u.$$digestWatchIndex--;)try{if(o=u[u.$$digestWatchIndex])if((s=(0,o.get)(y))===(l=o.last)||(o.eq?le(s,l):A(s)&&A(l))){if(o===n){c=!1;break e}}else c=!0,n=o,o.last=o.eq?ae(s,null):s,(0,o.fn)(s,l===w?s:l,y),S<5&&(x[b=4-S]||(x[b]=[]),x[b].push({msg:q(o.exp)?"fn: "+(o.exp.name||o.exp.toString()):o.exp,newVal:s,oldVal:l}))}catch(e){r(e)}if(!(f=y.$$watchersCount&&y.$$childHead||y!==this&&y.$$nextSibling))for(;y!==this&&!(f=y.$$nextSibling);)y=y.$parent}while(y=f);if((c||p.length)&&!S--)throw v(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,x)}while(c||p.length);for(v();g<h.length;)try{h[g++]()}catch(e){r(e)}h.length=g=0,a.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===d&&a.$$applicationDestroyed(),y(this,-this.$$watchersCount),this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=I,this.$on=this.$watch=this.$watchGroup=function(){return I},this.$$listeners={},this.$$nextSibling=null,function e(t){9===c&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return o(e)(this,t)},$evalAsync:function(e,t){d.$$phase||p.length||a.defer(function(){p.length&&d.$digest()}),p.push({scope:this,fn:o(e),locals:t})},$$postDigest:function(e){h.push(e)},$apply:function(e){try{m("$apply");try{return this.$eval(e)}finally{v()}}catch(e){r(e)}finally{try{d.$digest()}catch(e){throw r(e),e}}},$applyAsync:function(e){var t=this;e&&f.push(function(){t.$eval(e)}),e=o(e),null===i&&(i=a.defer(function(){d.$apply($)}))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do{i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,b(r,1,e))}},$emit:function(e,t){var n,i,o,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=de([u],arguments,1);do{for(n=s.$$listeners[e]||a,u.currentScope=s,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,c)}catch(e){r(e)}else n.splice(i,1),i--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,i=this,o={name:e,targetScope:this,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return o;for(var a,s,l,u=de([o],arguments,1);n=i;){for(o.currentScope=n,s=0,l=(a=n.$$listeners[e]||[]).length;s<l;s++)if(a[s])try{a[s].apply(null,u)}catch(e){r(e)}else a.splice(s,1),s--,l--;if(!(i=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return o.currentScope=null,o}};var d=new u,p=d.$$asyncQueue=[],h=d.$$postDigestQueue=[],f=d.$$applyAsyncQueue=[],g=0;return d;function m(e){if(d.$$phase)throw t("inprog","{0} already in progress",d.$$phase);d.$$phase=e}function v(){d.$$phase=null}function y(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function b(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function w(){}function $(){for(;f.length;)try{f.shift()()}catch(e){r(e)}i=null}}]}function ji(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return G(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return G(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return""===(r=ir(n).href)||r.match(o)?n:"unsafe:"+r}}}Mi.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ei(e,t.$filter);var n,i="";if(this.stage="assign",n=_i(e)){this.state.computing="assign";var r=this.nextId();this.recurse(n,r),this.return_(r),i="fn.assign="+this.generateFunction("assign","s,v,l")}var o=ki(e.body);t.stage="inputs",S(o,function(e,n){var i="fn"+n;t.state[i]={vars:[],body:[],own:{}},t.state.computing=i;var r=t.nextId();t.recurse(e,r),t.return_(r),t.state.inputs.push({name:i,isPure:e.isPure}),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e);var a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,mi,$i,Ci);return this.state=this.stage=void 0,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return S(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return S(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,r,o){var a,s,l,u,c,d=this;if(i=i||I,!o&&G(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,r,!0));switch(e.type){case wi.Program:S(e.body,function(t,n){d.recurse(t.expression,void 0,void 0,function(e){s=e}),n!==e.body.length-1?d.current().body.push(s,";"):d.return_(s)});break;case wi.Literal:u=this.escape(e.value),this.assign(t,u),i(t||u);break;case wi.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){s=e}),u=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,u),i(u);break;case wi.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){a=e}),this.recurse(e.right,void 0,void 0,function(e){s=e}),u="+"===e.operator?this.plus(a,s):"-"===e.operator?this.ifDefined(a,0)+e.operator+this.ifDefined(s,0):"("+a+")"+e.operator+"("+s+")",this.assign(t,u),i(u);break;case wi.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),i(t);break;case wi.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),i(t);break;case wi.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){r&&1!==r&&d.if_(d.isNull(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),i(t);break;case wi.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,a,void 0,function(){d.if_(d.notNull(a),function(){e.computed?(s=d.nextId(),d.recurse(e.property,s),d.getStringValue(s),r&&1!==r&&d.if_(d.not(d.computedMember(a,s)),d.lazyAssign(d.computedMember(a,s),"{}")),u=d.computedMember(a,s),d.assign(t,u),n&&(n.computed=!0,n.name=s)):(r&&1!==r&&d.if_(d.isNull(d.nonComputedMember(a,e.property.name)),d.lazyAssign(d.nonComputedMember(a,e.property.name),"{}")),u=d.nonComputedMember(a,e.property.name),d.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){d.assign(t,"undefined")}),i(t)},!!r);break;case wi.CallExpression:t=t||this.nextId(),e.filter?(s=d.filter(e.callee.name),l=[],S(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),l.push(t)}),u=s+"("+l.join(",")+")",d.assign(t,u),i(t)):(s=d.nextId(),a={},l=[],d.recurse(e.callee,s,a,function(){d.if_(d.notNull(s),function(){S(e.arguments,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),u=a.name?d.member(a.context,a.name,a.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",d.assign(t,u)},function(){d.assign(t,"undefined")}),i(t)}));break;case wi.AssignmentExpression:s=this.nextId(),a={},this.recurse(e.left,void 0,a,function(){d.if_(d.notNull(a.context),function(){d.recurse(e.right,s),u=d.member(a.context,a.name,a.computed)+e.operator+s,d.assign(t,u),i(t||u)})},1);break;case wi.ArrayExpression:l=[],S(e.elements,function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),u="["+l.join(",")+"]",this.assign(t,u),i(t||u);break;case wi.ObjectExpression:l=[],c=!1,S(e.properties,function(e){e.computed&&(c=!0)}),c?(t=t||this.nextId(),this.assign(t,"{}"),S(e.properties,function(e){e.computed?(a=d.nextId(),d.recurse(e.key,a)):a=e.key.type===wi.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,a,e.computed),s)})):(S(e.properties,function(t){d.recurse(t.value,e.constant?void 0:d.nextId(),void 0,function(e){l.push(d.escape(t.key.type===wi.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+l.join(",")+"}",this.assign(t,u)),i(t||u);break;case wi.ThisExpression:this.assign(t,"s"),i(t||"s");break;case wi.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case wi.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(j(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(z(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw fi("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Ti.prototype={compile:function(e){var t,n,i=this;Ei(e,i.$filter),(t=_i(e))&&(n=this.recurse(t));var r,o=ki(e.body);o&&(r=[],S(o,function(e,t){var n=i.recurse(e);n.isPure=e.isPure,e.input=n,r.push(n),e.watchId=t}));var a=[];S(e.body,function(e){a.push(i.recurse(e.expression))});var s=0===e.body.length?I:1===e.body.length?a[0]:function(e,t){var n;return S(a,function(i){n=i(e,t)}),n};return n&&(s.assign=function(e,t,i){return n(e,i,t)}),r&&(s.inputs=r),s},recurse:function(e,t,n){var i,r,o,a=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case wi.Literal:return this.value(e.value,t);case wi.UnaryExpression:return r=this.recurse(e.argument),this["unary"+e.operator](r,t);case wi.BinaryExpression:case wi.LogicalExpression:return i=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](i,r,t);case wi.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case wi.Identifier:return a.identifier(e.name,t,n);case wi.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(r=e.property.name),e.computed&&(r=this.recurse(e.property)),e.computed?this.computedMember(i,r,t,n):this.nonComputedMember(i,r,t,n);case wi.CallExpression:return o=[],S(e.arguments,function(e){o.push(a.recurse(e))}),e.filter&&(r=this.$filter(e.callee.name)),e.filter||(r=this.recurse(e.callee,!0)),e.filter?function(e,n,i,a){for(var s=[],l=0;l<o.length;++l)s.push(o[l](e,n,i,a));var u=r.apply(void 0,s,a);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,i,a){var s,l=r(e,n,i,a);if(null!=l.value){for(var u=[],c=0;c<o.length;++c)u.push(o[c](e,n,i,a));s=l.value.apply(l.context,u)}return t?{value:s}:s};case wi.AssignmentExpression:return i=this.recurse(e.left,!0,1),r=this.recurse(e.right),function(e,n,o,a){var s=i(e,n,o,a),l=r(e,n,o,a);return s.context[s.name]=l,t?{value:l}:l};case wi.ArrayExpression:return o=[],S(e.elements,function(e){o.push(a.recurse(e))}),function(e,n,i,r){for(var a=[],s=0;s<o.length;++s)a.push(o[s](e,n,i,r));return t?{value:a}:a};case wi.ObjectExpression:return o=[],S(e.properties,function(e){e.computed?o.push({key:a.recurse(e.key),computed:!0,value:a.recurse(e.value)}):o.push({key:e.key.type===wi.Identifier?e.key.name:""+e.key.value,computed:!1,value:a.recurse(e.value)})}),function(e,n,i,r){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(e,n,i,r)]=o[s].value(e,n,i,r):a[o[s].key]=o[s].value(e,n,i,r);return t?{value:a}:a};case wi.ThisExpression:return function(e){return t?{value:e}:e};case wi.LocalsExpression:return function(e,n){return t?{value:n}:n};case wi.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=G(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=G(a)?-a:-0,t?{value:a}:a}},"unary!":function(e,t){return function(n,i,r,o){var a=!e(n,i,r,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(i,r,o,a){var s=Ci(e(i,r,o,a),t(i,r,o,a));return n?{value:s}:s}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),u=(G(s)?s:0)-(G(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)*t(i,r,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)/t(i,r,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)%t(i,r,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)===t(i,r,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!==t(i,r,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)==t(i,r,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!=t(i,r,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<t(i,r,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>t(i,r,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<=t(i,r,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>=t(i,r,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)&&t(i,r,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)||t(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){var l=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s);return i?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(i,r,o,a){var s=r&&e in r?r:i;n&&1!==n&&s&&null==s[e]&&(s[e]={});var l=s?s[e]:void 0;return t?{context:s,name:e,value:l}:l}},computedMember:function(e,t,n,i){return function(r,o,a,s){var l,u,c=e(r,o,a,s);return null!=c&&(l=mi(l=t(r,o,a,s)),i&&1!==i&&c&&!c[l]&&(c[l]={}),u=c[l]),n?{context:c,name:l,value:u}:u}},nonComputedMember:function(e,t,n,i){return function(r,o,a,s){var l=e(r,o,a,s);i&&1!==i&&l&&null==l[t]&&(l[t]={});var u=null!=l?l[t]:void 0;return n?{context:l,name:t,value:u}:u}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}},Oi.prototype={constructor:Oi,parse:function(e){var t=this.ast.ast(e),n=this.astCompiler.compile(t);return n.literal=function(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===wi.Literal||e.body[0].expression.type===wi.ArrayExpression||e.body[0].expression.type===wi.ObjectExpression)}(t),n.constant=function(e){return e.constant}(t),n}};var zi=r("$sce"),Ui={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Wi=/_([a-z])/g;function Bi(e){return e.replace(Wi,nt)}function qi(e){var t=[];return G(e)&&S(e,function(e){t.push(function(e){if("self"===e)return e;if(j(e)){if(e.indexOf("***")>-1)throw zi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=te(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(Y(e))return new RegExp("^"+e.source+"$");throw zi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))}),t}function Yi(){this.SCE_CONTEXTS=Ui;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=qi(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=qi(e)),t},this.$get=["$injector",function(n){var i=function(e){throw zi("unsafe","Attempting to use an unsafe value in a safe context.")};function r(e,t){return"self"===e?rr(t):!!e.exec(t.href)}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}n.has("$sanitize")&&(i=n.get("$sanitize"));var a=o(),s={};return s[Ui.HTML]=o(a),s[Ui.CSS]=o(a),s[Ui.URL]=o(a),s[Ui.JS]=o(a),s[Ui.RESOURCE_URL]=o(s[Ui.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw zi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||F(t)||""===t)return t;if("string"!=typeof t)throw zi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(n,o){if(null===o||F(o)||""===o)return o;var a=s.hasOwnProperty(n)?s[n]:null;if(a&&o instanceof a)return o.$$unwrapTrustedValue();if(n===Ui.RESOURCE_URL){if(function(n){var i,o,a=ir(n.toString()),s=!1;for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!1;break}return s}(o))return o;throw zi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",o.toString())}if(n===Ui.HTML)return i(o);throw zi("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function Ki(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&c<8)throw zi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=qe(Ui);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=R),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,o=i.getTrusted,a=i.trustAs;return S(Ui,function(e,t){var n=l(t);i[Bi("parse_as_"+n)]=function(t){return r(e,t)},i[Bi("get_trusted_"+n)]=function(t){return o(e,t)},i[Bi("trust_as_"+n)]=function(t){return a(e,t)}}),i}]}function Zi(){this.$get=["$window","$document",function(e,t){var n={},i=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,r=O((/android (\d+)/.exec(l((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},s=a.body&&a.body.style,u=!1,d=!1;return s&&(u=!!("transition"in s||"webkitTransition"in s),d=!!("animation"in s||"webkitAnimation"in s)),{history:!(!i||r<4||o),hasEvent:function(e){if("input"===e&&c)return!1;if(F(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:ue(),transitions:u,animations:d,android:r}}]}var Xi=r("$compile");function Ji(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,i,r,o){function a(s,l){a.totalPendingRequests++,j(s)&&!F(n.get(s))||(s=o.getTrustedResourceUrl(s));var u=i.defaults&&i.defaults.transformResponse;return W(u)?u=u.filter(function(e){return e!==Nn}):u===Nn&&(u=null),i.get(s,M({cache:n,transformResponse:u},e)).finally(function(){a.totalPendingRequests--}).then(function(e){return n.put(s,e.data),e.data},function(e){l||(e=Xi("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e));return r.reject(e)})}return a.totalPendingRequests=0,a}]}function Qi(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={findBindings:function(e,t,n){var i=[];return S(e.getElementsByClassName("ng-binding"),function(e){var r=w.element(e).data("$binding");r&&S(r,function(r){n?new RegExp("(^|\\s)"+te(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!==r.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o="["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]',a=e.querySelectorAll(o);if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}};return i}]}function er(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){var o={};function a(a,s,l){q(a)||(l=s,s=a,a=I);var u,c=pe(arguments,3),d=G(l)&&!l,p=(d?i:n).defer(),h=p.promise;return u=t.defer(function(){try{p.resolve(a.apply(null,c))}catch(e){p.reject(e),r(e)}finally{delete o[h.$$timeoutId]}d||e.$apply()},s),h.$$timeoutId=u,o[u]=p,h}return a.cancel=function(e){return!!(e&&e.$$timeoutId in o)&&(Gi(o[e.$$timeoutId].promise),o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},a}]}var tr=e.document.createElement("a"),nr=ir(e.location.href);function ir(e){var t=e;return c&&(tr.setAttribute("href",t),t=tr.href),tr.setAttribute("href",t),{href:tr.href,protocol:tr.protocol?tr.protocol.replace(/:$/,""):"",host:tr.host,search:tr.search?tr.search.replace(/^\?/,""):"",hash:tr.hash?tr.hash.replace(/^#/,""):"",hostname:tr.hostname,port:tr.port,pathname:"/"===tr.pathname.charAt(0)?tr.pathname:"/"+tr.pathname}}function rr(e){var t=j(e)?ir(e):e;return t.protocol===nr.protocol&&t.host===nr.host}function or(){this.$get=L(e)}function ar(e){var t=e[0]||{},n={},i="";function r(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,a,s,l,u=function(e){try{return e.cookie||""}catch(e){return""}}(t);if(u!==i)for(e=(i=u).split("; "),n={},a=0;a<e.length;a++)(s=(o=e[a]).indexOf("="))>0&&(l=r(o.substring(0,s)),F(n[l])&&(n[l]=r(o.substring(s+1))));return n}}function sr(){this.$get=ar}function lr(e){var t="Filter";function n(i,r){if(V(i)){var o={};return S(i,function(e,t){o[t]=n(t,e)}),o}return e.factory(i+t,r)}this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",gr),n("date",Dr),n("filter",ur),n("json",_r),n("limitTo",Or),n("lowercase",Mr),n("number",mr),n("orderBy",Pr),n("uppercase",Tr)}function ur(){return function(e,t,n,i){if(!C(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var o,a;switch(i=i||"$",dr(t)){case"function":o=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=function(e,t,n,i){var r=V(e)&&n in e;!0===t?t=le:q(t)||(t=function(e,t){return!F(e)&&(null===e||null===t?e===t:!(V(t)||V(e)&&!N(e))&&(e=l(""+e),t=l(""+t),-1!==e.indexOf(t)))});return function(o){return r&&!V(o)?cr(o,e[n],t,n,!1):cr(o,e,t,n,i)}}(t,n,i,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function cr(e,t,n,i,r,o){var a=dr(e),s=dr(t);if("string"===s&&"!"===t.charAt(0))return!cr(e,t.substring(1),n,i,r);if(W(e))return e.some(function(e){return cr(e,t,n,i,r)});switch(a){case"object":var l;if(r){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&cr(e[l],t,n,i,!0))return!0;return!o&&cr(e,t,n,i,!1)}if("object"===s){for(l in t){var u=t[l];if(!q(u)&&!F(u)){var c=l===i;if(!cr(c?e:e[l],u,n,i,c,c))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function dr(e){return null===e?"null":typeof e}ar.$inject=["$document"],lr.$inject=["$provide"];var pr=22,hr=".",fr="0";function gr(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return F(n)&&(n=t.CURRENCY_SYM),F(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:vr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function mr(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:vr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function vr(e,t,n,i,r){if(!j(e)&&!z(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="∞";else{(function(e,t,n,i){var r=e.d,o=r.length-e.i,a=(t=F(t)?Math.min(Math.max(n,o),i):+t)+e.i,s=r[a];if(a>0){r.splice(Math.max(e.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),e.i=1,r.length=Math.max(1,a=t+1),r[0]=0;for(var u=1;u<a;u++)r[u]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[a-1]++;for(;o<Math.max(0,t);o++)r.push(0);var d=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0);d&&(r.unshift(d),e.i++)})(o=function(e){var t,n,i,r,o,a=0;for((n=e.indexOf(hr))>-1&&(e=e.replace(hr,"")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charAt(i)===fr;i++);if(i===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===fr;)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return n>pr&&(t=t.splice(0,pr-1),a=n-1,n=1),{d:t,e:a,i:n}}(l),r,t.minFrac,t.maxFrac);var c=o.d,d=o.i,p=o.e,h=[];for(s=c.reduce(function(e,t){return e&&!t},!0);d<0;)c.unshift(0),d++;d>0?h=c.splice(d,c.length):(h=c,c=[0]);var f=[];for(c.length>=t.lgSize&&f.unshift(c.splice(-t.lgSize,c.length).join(""));c.length>t.gSize;)f.unshift(c.splice(-t.gSize,c.length).join(""));c.length&&f.unshift(c.join("")),u=f.join(n),h.length&&(u+=i+h.join("")),p&&(u+="e+"+p)}return e<0&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function yr(e,t,n,i){var r="";for((e<0||i&&e<=0)&&(i?e=1-e:(e=-e,r="-")),e=""+e;e.length<t;)e=fr+e;return n&&(e=e.substr(e.length-t)),r+e}function br(e,t,n,i,r){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),yr(a,t,i,r)}}function wr(e,t,n){return function(i,r){var o=i["get"+e]();return r[u((n?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function $r(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Cr(e){return function(t){var n,i=$r(t.getFullYear()),r=+(n=t,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+i;return yr(1+Math.round(r/6048e5),e)}}function Sr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}gr.$inject=["$locale"],mr.$inject=["$locale"];var xr={yyyy:br("FullYear",4,0,!1,!0),yy:br("FullYear",2,0,!0,!0),y:br("FullYear",1,0,!1,!0),MMMM:wr("Month"),MMM:wr("Month",!0),MM:br("Month",2,1),M:br("Month",1,1),LLLL:wr("Month",!1,!0),dd:br("Date",2),d:br("Date",1),HH:br("Hours",2),H:br("Hours",1),hh:br("Hours",2,-12),h:br("Hours",1,-12),mm:br("Minutes",2),m:br("Minutes",1),ss:br("Seconds",2),s:br("Seconds",1),sss:br("Milliseconds",3),EEEE:wr("Day"),EEE:wr("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var i=-1*n,r=i>=0?"+":"";return r+=yr(Math[i>0?"floor":"ceil"](i/60),2)+yr(Math.abs(i%60),2)},ww:Cr(2),w:Cr(1),G:Sr,GG:Sr,GGG:Sr,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Er=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,kr=/^-?\d+$/;function Dr(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var o,a,s="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,j(n)&&(n=kr.test(n)?O(n):function(e){var n;if(n=e.match(t)){var i=new Date(0),r=0,o=0,a=n[8]?i.setUTCFullYear:i.setFullYear,s=n[8]?i.setUTCHours:i.setHours;n[9]&&(r=O(n[9]+n[10]),o=O(n[9]+n[11])),a.call(i,O(n[1]),O(n[2])-1,O(n[3]));var l=O(n[4]||0)-r,u=O(n[5]||0)-o,c=O(n[6]||0),d=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(i,l,u,c,d),i}return e}(n)),z(n)&&(n=new Date(n)),!U(n)||!isFinite(n.getTime()))return n;for(;i;)(a=Er.exec(i))?i=(l=de(l,a,1)).pop():(l.push(i),i=null);var u=n.getTimezoneOffset();return r&&(u=ye(r,u),n=be(n,r,!0)),S(l,function(t){o=xr[t],s+=o?o(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function _r(){return function(e,t){return F(t)&&(t=2),ge(e,t)}}Dr.$inject=["$locale"];var Mr=L(l),Tr=L(u);function Or(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):O(t),A(t)?e:(z(e)&&(e=e.toString()),C(e)?(n=(n=!n||isNaN(n)?0:O(n))<0?Math.max(0,e.length+n):n,t>=0?Ar(e,n,n+t):0===n?Ar(e,t,e.length):Ar(e,Math.max(0,n+t),n)):e)}}function Ar(e,t,n){return j(e)?e.slice(t,n):f.call(e,t,n)}function Pr(e){return function(i,o,a,s){if(null==i)return i;if(!C(i))throw r("orderBy")("notarray","Expected array but received: {0}",i);W(o)||(o=[o]),0===o.length&&(o=["+"]);var l=o.map(function(t){var n=1,i=R;if(q(t))i=t;else if(j(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t)).constant)){var r=i();i=function(e){return e[r]}}return{get:i,descending:n}}),u=a?-1:1,c=q(s)?s:n,d=Array.prototype.map.call(i,function(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:l.map(function(i){return function(e,n){var i=typeof e;null===e?(i="string",e="null"):"object"===i&&(e=function(e){if(q(e.valueOf)&&t(e=e.valueOf()))return e;if(N(e)&&t(e=e.toString()))return e;return e}(e));return{value:e,type:i,index:n}}(i.get(e),n)})}});return d.sort(function(e,t){for(var i=0,r=l.length;i<r;i++){var o=c(e.predicateValues[i],t.predicateValues[i]);if(o)return o*l[i].descending*u}return(c(e.tieBreaker,t.tieBreaker)||n(e.tieBreaker,t.tieBreaker))*u}),i=d.map(function(e){return e.value})};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var n=0,i=e.type,r=t.type;if(i===r){var o=e.value,a=t.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(V(o)&&(o=e.index),V(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n=i<r?-1:1;return n}}function Ir(e){return q(e)&&(e={link:e}),e.restrict=e.restrict||"AC",L(e)}Pr.$inject=["$parse"];var Rr=L({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===v.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Lr={};S(Tt,function(e,t){if("multiple"!==e){var n=yn("ng-"+t),i=r;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[n]&&r(e,0,i)}),Lr[n]=function(){return{restrict:"A",priority:100,link:i}}}function r(e,i,r){e.$watch(r[n],function(e){r.$set(t,!!e)})}}),S(At,function(e,t){Lr[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"===i.ngPattern.charAt(0)){var r=i.ngPattern.match(o);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),S(["src","srcset","href"],function(e){var t=yn("ng-"+e);Lr[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===v.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){t?(r.$set(a,t),c&&o&&i.prop(o,r[a])):"href"===e&&r.$set(a,null)})}}}});var Nr={$addControl:I,$$renameControl:function(e,t){e.$name=t},$removeControl:I,$setValidity:I,$setDirty:I,$setPristine:I,$setSubmitted:I},Fr="ng-pending";function Gr(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Nr,this.$$element=e,this.$$animate=i,zr(this)}Gr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Gr.prototype={$rollbackViewValue:function(){S(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){S(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){Ne(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],S(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),S(this.$error,function(t,n){this.$setValidity(n,null,e)},this),S(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),oe(this.$$controls,e),e.$$parentForm=Nr},$setDirty:function(){this.$$animate.removeClass(this.$$element,Fo),this.$$animate.addClass(this.$$element,Go),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Fo,Go+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,S(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){S(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Ur({clazz:Gr,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(oe(i,n),0===i.length&&delete e[t])}});var Vr=function(e){return["$timeout","$parse",function(t,n){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Gr,compile:function(n,r){n.addClass(Fo).addClass(Lo);var o=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,a){var s=a[0];if(!("action"in r)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",l)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var u=o?i(s.$name):I;o&&(u(e,s),r.$observe(o,function(t){s.$name!==t&&(u(e,void 0),s.$$parentForm.$$renameControl(s,t),(u=i(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),u(e,void 0),M(s,Nr)})}}}};function i(e){return""===e?n('this[""]').assign:n(e).assign||I}}]},Hr=Vr(),jr=Vr(!0);function zr(e){e.$$classCache={},e.$$classCache[No]=!(e.$$classCache[Lo]=e.$$element.hasClass(Lo))}function Ur(e){var t=e.clazz,n=e.set,i=e.unset;function r(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function o(e,t,n){t=t?"-"+Pe(t,"-"):"",r(e,Lo+t,!0===n),r(e,No+t,!1===n)}t.prototype.$setValidity=function(e,t,a){var s;F(t)?function(e,t,i,r){e[t]||(e[t]={});n(e[t],i,r)}(this,"$pending",e,a):function(e,t,n,r){e[t]&&i(e[t],n,r);Wr(e[t])&&(e[t]=void 0)}(this,"$pending",e,a),X(t)?t?(i(this.$error,e,a),n(this.$$success,e,a)):(n(this.$error,e,a),i(this.$$success,e,a)):(i(this.$error,e,a),i(this.$$success,e,a)),this.$pending?(r(this,Fr,!0),this.$valid=this.$invalid=void 0,o(this,"",null)):(r(this,Fr,!1),this.$valid=Wr(this.$error),this.$invalid=!this.$valid,o(this,"",this.$valid)),o(this,e,s=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,s,this)}}function Wr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Br=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,qr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Yr=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Kr=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Zr=/^(\d{4,})-(\d{2})-(\d{2})$/,Xr=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Jr=/^(\d{4,})-W(\d\d)$/,Qr=/^(\d{4,})-(\d\d)$/,eo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,to="keydown wheel mousedown",no=Ve();S("date,datetime-local,month,time,week".split(","),function(e){no[e]=!0});var io={text:function(e,t,n,i,r,o){oo(e,t,n,i,r,o),ro(i)},date:so("date",Zr,ao(Zr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":so("datetimelocal",Xr,ao(Xr,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:so("time",eo,ao(eo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:so("week",Jr,function(e,t){if(U(e))return e;if(j(e)){Jr.lastIndex=0;var n=Jr.exec(e);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,l=0,u=$r(i),c=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,u.getDate()+c,o,a,s,l)}}return NaN},"yyyy-Www"),month:so("month",Qr,ao(Qr,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,i,r,o){var a,s;lo(e,t,n,i),uo(i),oo(e,t,n,i,r,o),(G(n.min)||n.ngMin)&&(i.$validators.min=function(e){return i.$isEmpty(e)||F(a)||e>=a},n.$observe("min",function(e){a=co(e),i.$validate()}));(G(n.max)||n.ngMax)&&(i.$validators.max=function(e){return i.$isEmpty(e)||F(s)||e<=s},n.$observe("max",function(e){s=co(e),i.$validate()}));if(G(n.step)||n.ngStep){var l;i.$validators.step=function(e,t){return i.$isEmpty(t)||F(l)||fo(t,a||0,l)},n.$observe("step",function(e){l=co(e),i.$validate()})}},url:function(e,t,n,i,r,o){oo(e,t,n,i,r,o),ro(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||qr.test(n)}},email:function(e,t,n,i,r,o){oo(e,t,n,i,r,o),ro(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Yr.test(n)}},radio:function(e,t,n,i){var r=!n.ngTrim||"false"!==ee(n.ngTrim);F(n.name)&&t.attr("name",k());t.on("click",function(e){var o;t[0].checked&&(o=n.value,r&&(o=ee(o)),i.$setViewValue(o,e&&e.type))}),i.$render=function(){var e=n.value;r&&(e=ee(e)),t[0].checked=e===i.$viewValue},n.$observe("value",i.$render)},range:function(e,t,n,i,r,o){lo(e,t,n,i),uo(i),oo(e,t,n,i,r,o);var a=i.$$hasNativeValidators&&"range"===t[0].type,s=a?0:void 0,l=a?100:void 0,u=a?1:void 0,c=t[0].validity,d=G(n.min),p=G(n.max),h=G(n.step),f=i.$render;i.$render=a&&G(c.rangeUnderflow)&&G(c.rangeOverflow)?function(){f(),i.$setViewValue(t.val())}:f,d&&(i.$validators.min=a?function(){return!0}:function(e,t){return i.$isEmpty(t)||F(s)||t>=s},g("min",function(e){if(s=co(e),A(i.$modelValue))return;if(a){var n=t.val();s>n&&(n=s,t.val(n)),i.$setViewValue(n)}else i.$validate()}));p&&(i.$validators.max=a?function(){return!0}:function(e,t){return i.$isEmpty(t)||F(l)||t<=l},g("max",function(e){if(l=co(e),A(i.$modelValue))return;if(a){var n=t.val();l<n&&(t.val(l),n=l<s?s:l),i.$setViewValue(n)}else i.$validate()}));h&&(i.$validators.step=a?function(){return!c.stepMismatch}:function(e,t){return i.$isEmpty(t)||F(u)||fo(t,s||0,u)},g("step",function(e){if(u=co(e),A(i.$modelValue))return;a&&i.$viewValue!==t.val()?i.$setViewValue(t.val()):i.$validate()}));function g(e,i){t.attr(e,n[e]),n.$observe(e,i)}},checkbox:function(e,t,n,i,r,o,a,s){var l=go(s,e,"ngTrueValue",n.ngTrueValue,!0),u=go(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return le(e,l)}),i.$parsers.push(function(e){return e?l:u})},hidden:I,button:I,submit:I,reset:I,file:I};function ro(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function oo(e,t,n,i,r,o){var s,u=l(t[0].type);if(!r.android){var c=!1;t.on("compositionstart",function(){c=!0}),t.on("compositionend",function(){c=!1,d()})}var d=function(e){if(s&&(o.defer.cancel(s),s=null),!c){var r=t.val(),a=e&&e.type;"password"===u||n.ngTrim&&"false"===n.ngTrim||(r=ee(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,a)}};if(r.hasEvent("input"))t.on("input",d);else{var p=function(e,t,n){s||(s=o.defer(function(){s=null,t&&t.value===n||d(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||p(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",p)}t.on("change",d),no[u]&&i.$$hasNativeValidators&&u===n.type&&t.on(to,function(e){if(!s){var t=this[a],n=t.badInput,i=t.typeMismatch;s=o.defer(function(){s=null,t.badInput===n&&t.typeMismatch===i||d(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function ao(e,t){return function(n,i){var r,o;if(U(n))return n;if(j(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Br.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},S(r,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function so(e,t,n,i){return function(r,o,a,s,l,u,c){lo(r,o,a,s),oo(0,o,a,s,l,u);var d,p,h,f=s&&s.$options.getOption("timezone");(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var i=n(e,d);return f&&(i=be(i,f)),i}}),s.$formatters.push(function(e){if(e&&!U(e))throw Vo("datefmt","Expected `{0}` to be a date",e);return g(e)?((d=e)&&f&&(d=be(d,f,!0)),c("date")(e,i,f)):(d=null,"")}),G(a.min)||a.ngMin)&&(s.$validators.min=function(e){return!g(e)||F(p)||n(e)>=p},a.$observe("min",function(e){p=m(e),s.$validate()}));(G(a.max)||a.ngMax)&&(s.$validators.max=function(e){return!g(e)||F(h)||n(e)<=h},a.$observe("max",function(e){h=m(e),s.$validate()}));function g(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function m(e){return G(e)&&!U(e)?n(e)||void 0:e}}}function lo(e,t,n,i){var r=t[0];(i.$$hasNativeValidators=V(r.validity))&&i.$parsers.push(function(e){var n=t.prop(a)||{};return n.badInput||n.typeMismatch?void 0:e})}function uo(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:Kr.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!z(t))throw Vo("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function co(e){return G(e)&&!z(e)&&(e=parseFloat(e)),A(e)?void 0:e}function po(e){return(0|e)===e}function ho(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var i=/e-(\d+)$/.exec(t);if(i)return Number(i[1])}return 0}return t.length-n-1}function fo(e,t,n){var i=Number(e),r=!po(i),o=!po(t),a=!po(n);if(r||o||a){var s=r?ho(i):0,l=o?ho(t):0,u=a?ho(n):0,c=Math.max(s,l,u),d=Math.pow(10,c);i*=d,t*=d,n*=d,r&&(i=Math.round(i)),o&&(t=Math.round(t)),a&&(n=Math.round(n))}return(i-t)%n==0}function go(e,t,n,i,r){var o;if(G(i)){if(!(o=e(i)).constant)throw Vo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return r}var mo=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(io[l(a.type)]||io.text)(r,o,a,s[0],t,e,n,i)}}}}],vo=/^(true|false|\d+)$/,yo=function(){function e(e,t,n){var i=G(n)?n:9===c?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return vo.test(n.ngValue)?function(t,n,i){e(n,i,t.$eval(i.ngValue))}:function(t,n,i){t.$watch(i.ngValue,function(t){e(n,i,t)})}}}},bo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=He(e)})}}}}],wo=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var o=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=F(e)?"":e})}}}}],$o=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,function(){var n=o(t);i.html(e.getTrustedHtml(n)||"")})}}}}],Co=L({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}});function So(e,t){var n;return e="ngClass"+e,["$parse",function(s){return{restrict:"AC",link:function(l,u,c){var d,p=c[e].trim(),h=":"===p.charAt(0)&&":"===p.charAt(1),f=s(p,h?a:o),g=h?function(e){var t=o(e);t!==d&&b(t)}:b,m=u.data("$classCounts"),v=!0;function y(e,t){var n=[];return S(e,function(e){(t>0||m[e])&&(m[e]=(m[e]||0)+t,m[e]===+(t>0)&&n.push(e))}),n.join(" ")}function b(e){v===t&&function(e,t){var n=r(e),o=r(t),a=i(n,o),s=i(o,n),l=y(a,-1),u=y(s,1);c.$addClass(u),c.$removeClass(l)}(d,e),d=e}m||(m=Ve(),u.data("$classCounts",m)),"ngClass"!==e&&(n||(n=s("$index",function(e){return 1&e})),l.$watch(n,function(e){e===t?(n=y(r(n=d),1),c.$addClass(n)):function(e){e=y(r(e),-1),c.$removeClass(e)}(d);var n;v=e})),l.$watch(f,g,h)}}}];function i(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r===t[o])continue e;n.push(r)}return n}function r(e){return e&&e.split(" ")}function o(e){var t=e;return W(e)?t=e.map(o).join(" "):V(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function a(e){var t=e;if(W(e))t=e.map(a);else if(V(e)){var n=!1;t=Object.keys(e).filter(function(t){var i=e[t];return!n&&F(i)&&(n=!0),i}),n&&t.push(void 0)}return t}}var xo=So("",!0),Eo=So("Odd",0),ko=So("Even",1),Do=Ir({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),_o=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Mo={},To={blur:!0,focus:!0};S("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=yn("ng-"+e);Mo[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[t]);return function(t,n){n.on(e,function(n){var r=function(){a(t,{$event:n})};To[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var Oo=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,u;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=Ge(s.clone),e.leave(u).done(function(e){!1!==e&&(u=null)}),s=null))})}}}],Ao=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:w.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,u,c){var d,p,h,f=0,g=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).done(function(e){!1!==e&&(p=null)}),p=h,h=null)};i.$watch(o,function(o){var l=function(e){!1===e||!G(s)||s&&!i.$eval(s)||t()},p=++f;o?(e(o,!0).then(function(e){if(!i.$$destroyed&&p===f){var t=i.$new();u.template=e;var s=c(t,function(e){g(),n.enter(e,null,r).done(l)});h=s,(d=t).$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||p===f&&(g(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],Po=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){if(v.call(i[0]).match(/SVG/))return i.empty(),void t(dt(o.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i});i.html(o.template),t(i.contents())(n)}}}],Io=Ir({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ro=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var r=n.ngList||", ",o="false"!==n.ngTrim,a=o?ee(r):r;i.$parsers.push(function(e){if(!F(e)){var t=[];return e&&S(e.split(a),function(e){e&&t.push(o?ee(e):e)}),t}}),i.$formatters.push(function(e){if(W(e))return e.join(r)}),i.$isEmpty=function(e){return!e||!e.length}}}},Lo="ng-valid",No="ng-invalid",Fo="ng-pristine",Go="ng-dirty",Vo=r("ngModel");function Ho(e,t,n,i,r,o,a,s,l){var u;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Nr,this.$options=jo,this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:e}),this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=a,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=t,zr(this),(u=this).$$scope.$watch(function(e){var t=u.$$ngModelGet(e);if(t!==u.$modelValue&&(u.$modelValue==u.$modelValue||t==t)){u.$modelValue=u.$$rawModelValue=t,u.$$parserValid=void 0;for(var n=u.$formatters,i=n.length,r=t;i--;)r=n[i](r);u.$viewValue!==r&&(u.$$updateEmptyClasses(r),u.$viewValue=u.$$lastCommittedViewValue=r,u.$render(),u.$$runValidators(u.$modelValue,u.$viewValue,I))}return t})}Ho.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Ho.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return q(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){q(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Vo("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,we(this.$$element))},$render:I,$isEmpty:function(e){return F(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Go),this.$$animate.addClass(this.$$element,Fo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Fo),this.$$animate.addClass(this.$$element,Go),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!A(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){r||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==i&&o.$$writeModelToScope())})}},$$runValidators:function(e,t,n){this.$$currentValidationRunId++;var i,r,o=this.$$currentValidationRunId,a=this;(function(){var e=a.$$parserName||"parse";if(!F(a.$$parserValid))return a.$$parserValid||(S(a.$validators,function(e,t){s(t,null)}),S(a.$asyncValidators,function(e,t){s(t,null)})),s(e,a.$$parserValid),a.$$parserValid;s(e,null);return!0})()?!function(){var n=!0;if(S(a.$validators,function(i,r){var o=Boolean(i(e,t));n=n&&o,s(r,o)}),!n)return S(a.$asyncValidators,function(e,t){s(t,null)}),!1;return!0}()?l(!1):(i=[],r=!0,S(a.$asyncValidators,function(n,o){var a=n(e,t);if(!J(a))throw Vo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),i.push(a.then(function(){s(o,!0)},function(){r=!1,s(o,!1)}))}),i.length?a.$$q.all(i).then(function(){l(r)},I):l(!0)):l(!1);function s(e,t){o===a.$$currentValidationRunId&&a.$setValidity(e,t)}function l(e){o===a.$$currentValidationRunId&&n(e)}},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!F(e)||void 0,this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(F(e=this.$parsers[n](e))){this.$$parserValid=!1;break}A(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,r=this.$options.getOption("allowInvalid");function o(){t.$modelValue!==i&&t.$$writeModelToScope()}this.$$rawModelValue=e,r&&(this.$modelValue=e,o()),this.$$runValidators(e,this.$$lastCommittedViewValue,function(n){r||(t.$modelValue=n?e:void 0,o())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),S(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");z(t[e])?t=t[e]:z(t.default)&&(t=t.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e)}},Ur({clazz:Ho,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var jo,zo=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ho,priority:1,compile:function(t){return t.addClass(Fo).addClass("ng-untouched").addClass(Lo),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm,a=i[2];a&&(r.$options=a.$options),r.$$initGetterSetters(),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){var o=r[0];function a(){o.$setTouched()}o.$options.getOption("updateOn")&&n.on(o.$options.getOption("updateOn"),function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(a):t.$apply(a))})}}}}}],Uo=/(\s+|^)default(\s+|$)/;function Wo(e){this.$$options=e}Wo.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return S(e=M({},e),function(n,i){"$inherit"===n?"*"===i?t=!0:(e[i]=this.$$options[i],"updateOn"===i&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(e.updateOnDefault=!1,e[i]=ee(n.replace(Uo,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],qo(e,this.$$options)),qo(e,jo.$$options),new Wo(e)}},jo=new Wo({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Bo=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:jo,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}};function qo(e,t){S(t,function(t,n){G(e[n])||(e[n]=t)})}var Yo=Ir({terminal:!0,priority:1e3}),Ko=r("ngOptions"),Zo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Xo=["$compile","$document","$parse",function(t,n,i){var r=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=I},post:function(e,a,s,l){for(var u=l[0],c=l[1],p=s.multiple,h=0,f=a.children(),g=f.length;h<g;h++)if(""===f[h].value){u.hasEmptyOption=!0,u.emptyOption=f.eq(h);break}a.empty();var m,v=!!u.emptyOption;d(r.cloneNode(!1)).val("?");var y=function(e,t,n){var r=e.match(Zo);if(!r)throw Ko("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,we(t));var o=r[5]||r[7],a=r[6],s=/ as /.test(r[0])&&r[1],l=r[9],u=i(r[2]?r[1]:o),c=s&&i(s)||u,d=l&&i(l),p=l?function(e,t){return d(n,t)}:function(e){return Nt(e)},h=function(e,t){return p(e,b(e,t))},f=i(r[2]||r[1]),g=i(r[3]||""),m=i(r[4]||""),v=i(r[8]),y={},b=a?function(e,t){return y[a]=t,y[o]=e,y}:function(e){return y[o]=e,y};function w(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function $(e){var t;if(!a&&C(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:l,getTrackByValue:h,getWatchables:i(v,function(e){for(var t=[],i=$(e=e||[]),o=i.length,a=0;a<o;a++){var s=e===i?a:i[a],l=e[s],u=b(l,s),c=p(l,u);if(t.push(c),r[2]||r[1]){var d=f(n,u);t.push(d)}if(r[4]){var h=m(n,u);t.push(h)}}return t}),getOptions:function(){for(var e=[],t={},i=v(n)||[],r=$(i),o=r.length,a=0;a<o;a++){var s=i===r?a:r[a],u=i[s],d=b(u,s),y=c(n,d),C=p(y,d),S=new w(C,y,f(n,d),g(n,d),m(n,d));e.push(S),t[C]=S}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[h(e)]},getViewValueFromOption:function(e){return l?ae(e.viewValue):e.viewValue}}}}}(s.ngOptions,a,e),b=n[0].createDocumentFragment();function w(e,t){var n=r.cloneNode(!1);t.appendChild(n),function(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}(e,n)}function $(e){var t=m.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}u.generateUnknownOptionValue=function(e){return"?"},p?(u.writeValue=function(e){if(m){var t=e&&e.map($)||[];m.items.forEach(function(e){e.element.selected&&!re(t,e)&&(e.element.selected=!1)})}},u.readValue=function(){var e=[];return S(a.val()||[],function(t){var n=m.selectValueMap[t];n&&!n.disabled&&e.push(m.getViewValueFromOption(n))}),e},y.trackBy&&e.$watchCollection(function(){if(W(c.$viewValue))return c.$viewValue.map(function(e){return y.getTrackByValue(e)})},function(){c.$render()})):(u.writeValue=function(e){if(m){var t=a[0].options[a[0].selectedIndex],n=m.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(a[0].value!==n.selectValue&&(u.removeUnknownOption(),a[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):u.selectUnknownOrEmptyOption(e)}},u.readValue=function(){var e=m.selectValueMap[a.val()];return e&&!e.disabled?(u.unselectEmptyOption(),u.removeUnknownOption(),m.getViewValueFromOption(e)):null},y.trackBy&&e.$watch(function(){return y.getTrackByValue(c.$viewValue)},function(){c.$render()})),v&&(t(u.emptyOption)(e),a.prepend(u.emptyOption),u.emptyOption[0].nodeType===Ue?(u.hasEmptyOption=!1,u.registerOption=function(e,t){""===t.val()&&(u.hasEmptyOption=!0,u.emptyOption=t,u.emptyOption.removeClass("ng-scope"),c.$render(),t.on("$destroy",function(){var e=u.$isEmptyOptionSelected();u.hasEmptyOption=!1,u.emptyOption=void 0,e&&c.$render()}))}):u.emptyOption.removeClass("ng-scope")),e.$watchCollection(y.getWatchables,function(){var e=m&&u.readValue();if(m)for(var t=m.items.length-1;t>=0;t--){var n=m.items[t];G(n.group)?Dt(n.element.parentNode):Dt(n.element)}var i={};if((m=y.getOptions()).items.forEach(function(e){var t;G(e.group)?((t=i[e.group])||(t=o.cloneNode(!1),b.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),w(e,t)):w(e,b)}),a[0].appendChild(b),c.$render(),!c.$isEmpty(e)){var r=u.readValue(),s=y.trackBy||p;(s?le(e,r):e===r)||(c.$setViewValue(r),c.$render())}})}}}}],Jo=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(o,a,s){var u,c=s.count,d=s.$attr.when&&a.attr(s.$attr.when),p=s.offset||0,h=o.$eval(d)||{},f={},g=t.startSymbol(),m=t.endSymbol(),v=g+c+"-"+p+m,y=w.noop;function b(e){a.text(e||"")}S(s,function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+l(n[2]);h[i]=a.attr(s.$attr[t])}}),S(h,function(e,n){f[n]=t(e.replace(i,v))}),o.$watch(c,function(t){var i=parseFloat(t),r=A(i);if(r||i in h||(i=e.pluralCat(i-p)),!(i===u||r&&A(u))){y();var a=f[i];F(a)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+d),y=I,b()):y=o.$watch(a,b),u=i}})}}}],Qo=["$parse","$animate","$compile",function(e,t,n){var i=r("ngRepeat"),o=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},a=function(e){return e.clone[0]},l=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,u){var c=u.ngRepeat,d=n.$$createComment("end ngRepeat",c),p=c.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",c);var h=p[1],f=p[2],g=p[3],m=p[4];if(!(p=h.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",h);var v,y,b,w,$=p[3]||p[1],x=p[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var E={$id:Nt};return m?v=e(m):(b=function(e,t){return Nt(t)},w=function(e){return e}),function(e,n,r,u,p){v&&(y=function(t,n,i){return x&&(E[x]=t),E[$]=n,E.$index=i,v(e,E)});var h=Ve();e.$watchCollection(f,function(r){var u,f,m,v,E,k,D,_,M,T,O,A,P=n[0],I=Ve();if(g&&(e[g]=r),C(r))M=r,_=y||b;else for(var R in _=y||w,M=[],r)s.call(r,R)&&"$"!==R.charAt(0)&&M.push(R);for(v=M.length,O=new Array(v),u=0;u<v;u++)if(E=r===M?u:M[u],k=r[E],D=_(E,k,u),h[D])T=h[D],delete h[D],I[D]=T,O[u]=T;else{if(I[D])throw S(O,function(e){e&&e.scope&&(h[e.id]=e)}),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",c,D,k);O[u]={id:D,scope:void 0,clone:void 0},I[D]=!0}for(var L in h){if(A=Ge((T=h[L]).clone),t.leave(A),A[0].parentNode)for(u=0,f=A.length;u<f;u++)A[u].$$NG_REMOVED=!0;T.scope.$destroy()}for(u=0;u<v;u++)if(E=r===M?u:M[u],k=r[E],(T=O[u]).scope){m=P;do{m=m.nextSibling}while(m&&m.$$NG_REMOVED);a(T)!==m&&t.move(Ge(T.clone),null,P),P=l(T),o(T.scope,u,$,k,x,E,v)}else p(function(e,n){T.scope=n;var i=d.cloneNode(!1);e[e.length++]=i,t.enter(e,null,P),P=i,T.clone=e,I[T.id]=T,o(T.scope,u,$,k,x,E,v)});h=I})}}}}],ea=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ta=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],na=Ir(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&S(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),ia=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,o){var a=r.ngSwitch||r.on,s=[],l=[],u=[],c=[],d=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(a,function(n){for(var i,r;u.length;)e.cancel(u.pop());for(i=0,r=c.length;i<r;++i){var a=Ge(l[i].clone);c[i].$destroy(),(u[i]=e.leave(a)).done(d(u,i))}l.length=0,c.length=0,(s=o.cases["!"+n]||o.cases["?"])&&S(s,function(n){n.transclude(function(i,r){c.push(r);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:i};l.push(a),e.enter(i,o.parent(),o)})})})}}}],ra=Ir({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){S(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:r,element:t})})}}),oa=Ir({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),aa=r("ngTransclude"),sa=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,r,o){if(!o)throw aa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",we(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var a=i.ngTransclude||i.ngTranscludeSlot;function s(){n(e,function(e){t.append(e)})}o(function(e,n){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.nodeType!==ze||i.nodeValue.trim())return!0}}(e)?t.append(e):(s(),n.$destroy())},null,a),a&&!o.isSlotFilled(a)&&s()}}}}],la=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],ua={$setViewValue:I,$render:I};function ca(e,t){e.prop("selected",t),e.attr("selected",t)}var da=["$element","$scope",function(t,n){var i=this,r=new Vt;i.selectValueMap={},i.ngModelCtrl=ua,i.multiple=!1,i.unknownOption=d(e.document.createElement("option")),i.hasEmptyOption=!1,i.emptyOption=void 0,i.renderUnknownOption=function(e){var n=i.generateUnknownOptionValue(e);i.unknownOption.val(n),t.prepend(i.unknownOption),ca(i.unknownOption,!0),t.val(n)},i.updateUnknownOption=function(e){var n=i.generateUnknownOptionValue(e);i.unknownOption.val(n),ca(i.unknownOption,!0),t.val(n)},i.generateUnknownOptionValue=function(e){return"? "+Nt(e)+" ?"},i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.selectEmptyOption=function(){i.emptyOption&&(t.val(""),ca(i.emptyOption,!0))},i.unselectEmptyOption=function(){i.hasEmptyOption&&ca(i.emptyOption,!1)},n.$on("$destroy",function(){i.renderUnknownOption=I}),i.readValue=function(){var e=t.val(),n=e in i.selectValueMap?i.selectValueMap[e]:e;return i.hasOption(n)?n:null},i.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&ca(d(n),!1),i.hasOption(e)){i.removeUnknownOption();var r=Nt(e);t.val(r in i.selectValueMap?r:e);var o=t[0].options[t[0].selectedIndex];ca(d(o),!0)}else i.selectUnknownOrEmptyOption(e)},i.addOption=function(e,t){if(t[0].nodeType!==Ue){Ne(e,'"option value"'),""===e&&(i.hasEmptyOption=!0,i.emptyOption=t);var n=r.get(e)||0;r.set(e,n+1),a()}},i.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.delete(e),""===e&&(i.hasEmptyOption=!1,i.emptyOption=void 0)):r.set(e,t-1))},i.hasOption=function(e){return!!r.get(e)},i.$hasEmptyOption=function(){return i.hasEmptyOption},i.$isUnknownOptionSelected=function(){return t[0].options[0]===i.unknownOption[0]},i.$isEmptyOptionSelected=function(){return i.hasEmptyOption&&t[0].options[t[0].selectedIndex]===i.emptyOption[0]},i.selectUnknownOrEmptyOption=function(e){null==e&&i.emptyOption?(i.removeUnknownOption(),i.selectEmptyOption()):i.unknownOption.parent().length?i.updateUnknownOption(e):i.renderUnknownOption(e)};var o=!1;function a(){o||(o=!0,n.$$postDigest(function(){o=!1,i.ngModelCtrl.$render()}))}var s=!1;function l(e){s||(s=!0,n.$$postDigest(function(){n.$$destroyed||(s=!1,i.ngModelCtrl.$setViewValue(i.readValue()),e&&i.ngModelCtrl.$render())}))}i.registerOption=function(e,t,n,r,o){if(n.$attr.ngValue){var s,u=NaN;n.$observe("value",function(e){var n,r=t.prop("selected");G(u)&&(i.removeOption(s),delete i.selectValueMap[u],n=!0),u=Nt(e),s=e,i.selectValueMap[u]=e,i.addOption(e,t),t.attr("value",u),n&&r&&l()})}else r?n.$observe("value",function(e){var n;i.readValue();var r=t.prop("selected");G(s)&&(i.removeOption(s),n=!0),s=e,i.addOption(e,t),n&&r&&l()}):o?e.$watch(o,function(e,r){n.$set("value",e);var o=t.prop("selected");r!==e&&i.removeOption(r),i.addOption(e,t),r&&o&&l()}):i.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(i.multiple?l(!0):(i.ngModelCtrl.$setViewValue(null),i.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=i.readValue(),t=n.value;i.removeOption(t),a(),(i.multiple&&e&&-1!==e.indexOf(t)||e===t)&&l(!0)})}}],pa=function(){return{restrict:"E",require:["select","?ngModel"],controller:da,priority:1,link:{pre:function(e,t,n,i){var r=i[0],o=i[1];if(!o)return void(r.registerOption=I);if(r.ngModelCtrl=o,t.on("change",function(){r.removeUnknownOption(),e.$apply(function(){o.$setViewValue(r.readValue())})}),n.multiple){r.multiple=!0,r.readValue=function(){var e=[];return S(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in r.selectValueMap?r.selectValueMap[n]:n)}}),e},r.writeValue=function(e){S(t.find("option"),function(t){var n=!!e&&(re(e,t.value)||re(e,r.selectValueMap[t.value])),i=t.selected;n!==i&&ca(d(t),n)})};var a,s=NaN;e.$watch(function(){s!==o.$viewValue||le(a,o.$viewValue)||(a=qe(o.$viewValue),o.$render()),s=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,i){var r=i[1];if(!r)return;var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}},ha=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var i,r;return G(n.ngValue)||(G(n.value)?i=e(n.value,!0):(r=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o=t.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.registerOption(e,t,n,i,r)}}}}],fa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},ga=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var o,a=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(j(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,we(t));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||F(o)||o.test(t)}}}}},ma=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){var t=O(e);r=A(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return r<0||i.$isEmpty(t)||t.length<=r}}}}},va=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=O(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load angular more than once."):(!function(){var t;if(!Ie){var n=ce();(p=F(n)?e.jQuery:n?e[n]:void 0)&&p.fn.on?(d=p,M(p.fn,{scope:Mt.scope,isolateScope:Mt.isolateScope,controller:Mt.controller,injector:Mt.injector,inheritedData:Mt.inheritedData}),t=p.cleanData,p.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)(n=p._data(i,"events"))&&n.$destroy&&p(i).triggerHandler("$destroy");t(e)}):d=ht,w.element=d,Ie=!0}}(),function(t){M(t,{errorHandlingConfig:n,bootstrap:Me,copy:ae,extend:M,merge:T,equals:le,element:d,forEach:S,injector:Zt,noop:I,bind:he,toJson:ge,fromJson:me,identity:R,isUndefined:F,isDefined:G,isString:j,isFunction:q,isObject:V,isNumber:z,isElement:ne,isArray:W,version:Ke,isDate:U,lowercase:l,uppercase:u,callbacks:{$$counter:0},getTestability:Oe,reloadWithDebugInfo:Te,$$minErr:r,$$csp:ue,$$encodeUriSegment:xe,$$encodeUriQuery:Ee,$$stringify:He}),(h=function(e){var t=r("$injector"),n=r("ng");function i(e,t,n){return e[t]||(e[t]=n())}var o=i(e,"angular",Object);return o.$$minErr=o.$$minErr||r,i(o,"module",function(){var e={};return function(r,o,a){var s={};return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name",t)}(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),i(e,r,function(){if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],i=[],l=[],u=d("$injector","invoke","push",i),c={_invokeQueue:e,_configBlocks:i,_runBlocks:l,info:function(e){if(G(e)){if(!V(e))throw n("aobj","Argument '{0}' must be an object","value");return s=e,this}return s},requires:o,name:r,provider:p("$provide","provider"),factory:p("$provide","factory"),service:p("$provide","service"),value:d("$provide","value"),constant:d("$provide","constant","unshift"),decorator:p("$provide","decorator",i),animation:p("$animateProvider","register"),filter:p("$filterProvider","register"),controller:p("$controllerProvider","register"),directive:p("$compileProvider","directive"),component:p("$compileProvider","component"),config:u,run:function(e){return l.push(e),this}};return a&&u(a),c;function d(t,n,i,r){return r||(r=e),function(){return r[i||"push"]([t,n,arguments]),c}}function p(t,n,i){return i||(i=e),function(e,o){return o&&q(o)&&(o.$$moduleName=r),i.push([t,n,arguments]),c}}})}})}(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:ji}),e.provider("$compile",fn).directive({a:Rr,input:mo,textarea:mo,form:Hr,script:la,select:pa,option:ha,ngBind:bo,ngBindHtml:$o,ngBindTemplate:wo,ngClass:xo,ngClassEven:ko,ngClassOdd:Eo,ngCloak:Do,ngController:_o,ngForm:jr,ngHide:ta,ngIf:Oo,ngInclude:Ao,ngInit:Io,ngNonBindable:Yo,ngPluralize:Jo,ngRepeat:Qo,ngShow:ea,ngStyle:na,ngSwitch:ia,ngSwitchWhen:ra,ngSwitchDefault:oa,ngOptions:Xo,ngTransclude:sa,ngModel:zo,ngList:Ro,ngChange:Co,pattern:ga,ngPattern:ga,required:fa,ngRequired:fa,minlength:va,ngMinlength:va,maxlength:ma,ngMaxlength:ma,ngValue:yo,ngModelOptions:Bo}).directive({ngInclude:Po}).directive(Lr).directive(Mo),e.provider({$anchorScroll:Xt,$animate:on,$animateCss:ln,$$animateJs:nn,$$animateQueue:rn,$$AnimateRunner:sn,$$animateAsyncRun:an,$browser:un,$cacheFactory:cn,$controller:Sn,$document:xn,$$isDocumentHidden:En,$exceptionHandler:kn,$filter:lr,$$forceReflow:Dn,$interpolate:Bn,$interval:qn,$http:jn,$httpParamSerializer:Rn,$httpParamSerializerJQLike:Ln,$httpBackend:Un,$xhrFactory:zn,$jsonpCallbacks:Yn,$location:pi,$log:hi,$parse:Pi,$rootScope:Hi,$q:Ii,$$q:Ri,$sce:Ki,$sceDelegate:Yi,$sniffer:Zi,$templateCache:dn,$templateRequest:Ji,$$testability:Qi,$timeout:er,$window:or,$$rAF:Vi,$$jqLite:Lt,$$Map:Ht,$$cookieReader:sr})}]).info({angularVersion:"1.6.5"})}(w),w.module("ngLocale",[],["$provide",function(e){var t="one",n="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,i){var r=0|e,o=function(e,t){var n=t;void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var i=Math.pow(10,n);return{v:n,f:(e*i|0)%i}}(e,i);return 1==r&&0==o.v?t:n}})}]),d(function(){_e(e.document,Me)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(e){var t;return t={},null!=e.sortable&&angular.extend(t,e.sortable),{require:"?ngModel",link:function(e,n,i,r){var o,a,s,l,u;return s=angular.extend({},t,e.$eval(i.uiOptions)),null!=r&&(o=function(e,t){return t.item.data("ui-sortable-start",t.item.index())},a=function(t,n){var i,o;return o=n.item.data("ui-sortable-start"),i=n.item.index(),r.$modelValue.splice(i,0,r.$modelValue.splice(o,1)[0]),e.$apply()},l=s.start,s.start=function(t,n){return o(t,n),"function"==typeof l&&l(t,n),e.$apply()},u=s.update,s.update=function(t,n){return a(t,n),"function"==typeof u&&u(t,n),e.$apply()}),n.sortable(s)}}}]),angular.module("ui.directives").directive("uiJq",["ui.config",function(e){return{restrict:"A",compile:function(t,n){if(!angular.isFunction(t[n.uiJq]))throw new Error('ui-jq: The "'+n.uiJq+'" function does not exist');var i=e.jq&&e.jq[n.uiJq];return function(e,t,n){var r=[],o="change";n.uiOptions?(r=e.$eval("["+n.uiOptions+"]"),angular.isObject(i)&&angular.isObject(r[0])&&(r[0]=angular.extend(i,r[0]))):i&&(r=[i]),n.ngModel&&t.is("select,input,textarea")&&(r&&angular.isObject(r[0])&&void 0!==r[0].ngChange&&(o=r[0].ngChange),o&&t.on(o,function(){t.trigger("input")})),t[n.uiJq].apply(t,r)}}}}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(e){return function(t,n,i){var r=t.$eval(i.uiEvent);angular.forEach(r,function(i,r){var o=e(i);n.bind(r,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),t.$apply(function(){o(t,{$event:e,$params:n})})})})}}]),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function(e,t,n,i){i.$render=function(){var r=i.$viewValue||"";t.val(r),t.mask(e.$eval(n.uiMask))},i.$parsers.push(function(e){var n=t.isMaskValid()||angular.isUndefined(t.isMaskValid())&&t.val().length>0;return i.$setValidity("mask",n),n?e:void 0}),t.bind("keyup",function(){e.$apply(function(){i.$setViewValue(t.mask())})})}}}]),angular.module("ui.directives").directive("uiModal",["$timeout",function(e){return{restrict:"EAC",require:"ngModel",link:function(t,n,i,r){n.addClass("modal hide"),n.on("shown",function(){n.find("[autofocus]").focus()}),t.$watch(i.ngModel,function(e){n.modal(e?"show":"hide")}),n.on(jQuery.support.transition?"shown":"show",function(){e(function(){r.$setViewValue(!0)})}),n.on(jQuery.support.transition?"hidden":"hide",function(){e(function(){r.$setViewValue(!1)})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(e){var t=null;return void 0!==e.reset&&(t=e.reset),{require:"ngModel",link:function(e,n,i,r){var o;o=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(o),o.bind("click",function(n){n.preventDefault(),e.$apply(function(){i.uiReset?r.$setViewValue(e.$eval(i.uiReset)):r.$setViewValue(t),r.$render()})})}}}]),function(){var e=angular.module("ui.directives");function t(e,t,n,i){angular.forEach(t.split(" "),function(t){var r={type:"map-"+t};google.maps.event.addListener(n,t,function(t){i.trigger(angular.extend({},r,t)),e.$$phase||e.$apply()})})}function n(n,i){e.directive(n,[function(){return{restrict:"A",link:function(e,r,o){e.$watch(o[n],function(n){t(e,i,n,r)})}}}])}e.directive("uiMap",["ui.config","$parse",function(e,n){var i=e.map||{};return{restrict:"A",link:function(e,r,o){var a=angular.extend({},i,e.$eval(o.uiOptions)),s=new google.maps.Map(r[0],a);n(o.uiMap).assign(e,s),t(e,"bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",s,r)}}}]),e.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(e,n,i){var r=e.mapInfoWindow||{};return{link:function(e,o,a){var s=angular.extend({},r,e.$eval(a.uiOptions));s.content=o[0];var l=n(a.uiMapInfoWindow),u=l(e);u||(u=new google.maps.InfoWindow(s),l.assign(e,u)),t(e,"closeclick content_change domready position_changed zindex_changed",u,o),o.replaceWith("<div></div>");var c=u.open;u.open=function(t,n,r,a,s,l){i(o.contents())(e),c.call(u,t,n,r,a,s,l)}}}}]),n("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),n("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),n("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),n("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),n("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),n("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").factory("keypressHelper",["$parse",function(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"};return function(n,i,r,o){var a,s,l=[];a=i.$eval(o["ui"+(s=n,s.charAt(0).toUpperCase()+s.slice(1))]),angular.forEach(a,function(t,n){var i,r;r=e(t),angular.forEach(n.split(" "),function(e){i={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){i.keys[e]=!0}),l.push(i)})}),r.bind(n,function(e){var r=e.metaKey||e.altKey,o=e.ctrlKey,a=e.shiftKey,s=e.keyCode;"keypress"===n&&!a&&s>=97&&s<=122&&(s-=32),angular.forEach(l,function(n){var s=n.keys[t[e.keyCode]]||n.keys[e.keyCode.toString()]||!1,l=n.keys.alt||!1,u=n.keys.ctrl||!1,c=n.keys.shift||!1;s&&l==r&&u==o&&c==a&&i.$apply(function(){n.expression(i,{$event:e})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,i){e("keydown",t,n,i)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,i){e("keypress",t,n,i)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,i){e("keyup",t,n,i)}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r,o=n.uiValidate;(o=e.$eval(o))&&(angular.isFunction(o)&&(o={validator:o}),angular.forEach(o,function(e,t){r=function(n){return e(n)?(i.$setValidity(t,!0),n):void i.$setValidity(t,!1)},i.$formatters.push(r),i.$parsers.push(r)}))}}}),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(e,t){var n={};return angular.isString(e.animate)?n.class=e.animate:e.animate&&(n=e.animate),{restrict:"A",link:function(e,i,r){var o={};r.uiAnimate&&(o=e.$eval(r.uiAnimate),angular.isString(o)&&(o={class:o})),o=angular.extend({class:"ui-animate"},n,o),i.addClass(o.class),t(function(){i.removeClass(o.class)},20,!1)}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$http",function(e,t){var n={};return e.select2&&angular.extend(n,e.select2),{require:"?ngModel",scope:{model:"=model"},compile:function(e,t){var i,r,o,a=e.is("select"),s=void 0!==t.multiple;return e.is("select")&&(r=e.find("option[ng-repeat], option[data-ng-repeat]")).length&&(o=r.attr("ng-repeat")||r.attr("data-ng-repeat"),i=jQuery.trim(o.split("|")[0]).split(" ").pop()),function(e,t,r,o){var l=angular.extend({},n,e.$eval(r.uiSelect2));if(l.data=e.model.datalist,angular.forEach(l.data,function(e){isNaN(e.id)&&isNaN(e.text)&&(e.id=e.id.trim(),e.text=e.text.trim())}),r.preview||(l.createSearchChoice=function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:e,text:e}}),a?(delete l.multiple,delete l.initSelection):s&&(l.multiple=!0),o&&(o.$render=function(){a?t.select2("val",o.$modelValue):s&&!o.$modelValue?t.select2("data",[]):t.select2("data",o.$modelValue)},i&&e.$watch(i,function(e,n,i){e&&setTimeout(function(){t.select2("val",o.$viewValue),t.trigger("change")})}),!a&&(t.bind("change",function(){e.$apply(function(){o.$setViewValue(t.select2("data"))})}),l.initSelection))){var u=l.initSelection;l.initSelection=function(e,t){u(e,function(e){o.$setViewValue(e),t(e)})}}r.$observe("placeholder",function(e){t.select2("val",o.$viewValue)}),r.$observe("datalist",function(t){if(e.model.value){var n=$.parseJSON(t),i=$.map(e.model.value,function(e,t){return $.map(n,function(t,n){if(e.id==t.id&&e.text==t.text)return e})});e.model.value=[],e.model.value=i}}),r.$observe("disabled",function(e){t.select2(e?"disable":"enable")}),e.$watch(r.ngMultiple,function(e){t.select2(l)}),t.val(e.$eval(r.ngModel)),setTimeout(function(){})}}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$parse",function(e,t){"use strict";return e.codemirror=e.codemirror||{},{require:"ngModel",link:function(n,i,r,o){if(!i.is("textarea"))throw new Error("ui-codemirror can only be applied to a textarea element");var a,s=t(r.uiCodemirror),l=function(e){var t=e.getValue();t!==o.$viewValue&&(o.$setViewValue(t),n.$apply())},u=function(t){var n=(t=angular.extend({},t,e.codemirror)).onChange;t.onChange=n?function(e){l(e),n(e)}:l,a&&a.toTextArea(),a=CodeMirror.fromTextArea(i[0],t)};u(s()),n.$watch(s,u,!0),o.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),o.$render=function(){a.setValue(o.$viewValue)}}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(e){return e.tinymce=e.tinymce||{},{require:"ngModel",link:function(t,n,i,r){var o,a={onchange_callback:function(e){e.isDirty()&&(e.save(),r.$setViewValue(n.val()),t.$$phase||t.$apply())},handle_event_callback:function(e){return this.isDirty()&&(this.save(),r.$setViewValue(n.val()),t.$$phase||t.$apply()),!0},setup:function(e){e.onSetContent.add(function(e,i){e.isDirty()&&(e.save(),r.$setViewValue(n.val()),t.$$phase||t.$apply())})}};o=i.uiTinymce?t.$eval(i.uiTinymce):{},angular.extend(a,e.tinymce,o),setTimeout(function(){n.tinymce(a)})}}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,i){t[0].doNotMove=!0;var r,o,a=i.uiIf;e.$watch(a,function(i){r&&(r.remove(),r=null),o&&(o.$destroy(),o=null),i&&(o=e.$new(),n(o,function(e){r=e,t.after(e)})),t.parent().trigger("$childrenChanged")})}}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function(e){"use strict";return{link:function(t,n,i){var r=n.offset().top;i.uiScrollfix?"-"===i.uiScrollfix.charAt(0)?i.uiScrollfix=r-i.uiScrollfix.substr(1):"+"===i.uiScrollfix.charAt(0)&&(i.uiScrollfix=r+parseFloat(i.uiScrollfix.substr(1))):i.uiScrollfix=r,angular.element(e).on("scroll.ui-scrollfix",function(){var t;angular.isDefined(e.pageYOffset)?t=e.pageYOffset:t=(document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body).scrollTop;!n.hasClass("ui-scrollfix")&&t>i.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&t<i.uiScrollfix&&n.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(e,t,n){e.$watch(n.uiShow,function(e,n){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,t,n){e.$watch(n.uiHide,function(e,n){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,t,n){e.$watch(n.uiToggle,function(e,n){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter","locale",function(e,t,n){var i={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return e.currency&&angular.extend(i,e.currency),{restrict:"EAC",require:"ngModel",link:function(e,r,o,a){var s,l,u;s=angular.extend({},i,e.$eval(o.uiCurrency)),e.currencySymbol=n.getCurrentCurrencyFormat(),l=function(n){var i;return(i=1*n)>0?r.addClass(s.pos):r.removeClass(s.pos),i<0?r.addClass(s.neg):r.removeClass(s.neg),0===i?r.addClass(s.zero):r.removeClass(s.zero),""===n?r.text(""):(r.text(t(i,s.symbol)),r.bind("blur",function(){r.val(t(e.model.value,s.symbol))})),!0},a.$render=function(){u=a.$viewValue,r.val(u),l(u)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(e){"use strict";var t;return t={},angular.isObject(e.date)&&angular.extend(t,e.date),{require:"?ngModel",link:function(t,n,i,r){var o=function(){return angular.extend({},e.date,t.$eval(i.uiDate))};t.$watch(o,function(){var e=o();if(r){var i=function(){t.$apply(function(){var e=n.datepicker("getDate");n.datepicker("setDate",n.val()),r.$setViewValue(e)})};if(e.onSelect){var a=e.onSelect;e.onSelect=function(e,t){return i(),a(e,t)}}else e.onSelect=i;n.bind("change",i),r.$render=function(){var e=r.$viewValue;if(angular.isDefined(e)&&null!==e&&!angular.isDate(e))throw new Error("ng-Model value must be a Date object - currently it is a "+typeof e+" - use ui-date-format to convert it from a string");n.datepicker("setDate",e)}}n.datepicker("destroy"),n.datepicker(e),r.$render()},!0)}}}]).directive("uiDateFormat",[function(){return{require:"ngModel",link:function(e,t,n,i){if(""===n.uiDateFormat)i.$formatters.push(function(e){if(angular.isString(e))return new Date(e)}),i.$parsers.push(function(e){if(e)return e.toISOString()});else{var r=n.uiDateFormat;i.$formatters.push(function(e){if(angular.isString(e))return $.datepicker.parseDate(r,e)}),i.$parsers.push(function(e){if(e)return $.datepicker.formatDate(r,e)})}}}}]),angular.module("ui.filters").filter("highlight",function(){return function(e,t,n){return t||angular.isNumber(t)?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.filters").filter("format",function(){return function(e,t){if(!e)return e;var n,i=e.toString();return void 0===t?i:angular.isArray(t)||angular.isObject(t)?(n=angular.isArray(t)?"$":":",angular.forEach(t,function(e,t){i=i.split(n+t).join(e)}),i):i.split("$0").join(t)}}),angular.module("ui.filters").filter("unique",function(){return function(e,t){if(!1===t)return e;if((t||angular.isUndefined(t))&&angular.isArray(e)){var n=[],i=function(e){return angular.isObject(e)&&angular.isString(t)?e[t]:e};angular.forEach(e,function(e){for(var t=!1,r=0;r<n.length;r++)if(angular.equals(i(n[r]),i(e))){t=!0;break}t||n.push(e)}),e=n}return e}}),angular.module("ui.filters").filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function t(e,t){return e.replace(/[A-Z]/g,function(e){return t+e})}var n={humanize:function(n){return e(t(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+t(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(t){return t=t.substr(0,1).toLowerCase()+e(t.split("_").join(" ")).substr(1).split(" ").join("")}};return function(e,t,i){return!1!==t&&angular.isString(e)?n[t=t||"humanize"](e):e}}),function(e){var t=window.ieShivDebug||!1,n=["ngInclude","ngPluralize","ngView","ngSwitch","uiCurrency","uiCodemirror","uiDate","uiEvent","uiKeypress","uiKeyup","uiKeydown","uiMask","uiMapInfoWindow","uiMapMarker","uiMapPolyline","uiMapPolygon","uiMapRectangle","uiMapCircle","uiMapGroundOverlay","uiModal","uiReset","uiScrollfix","uiSelect2","uiShow","uiHide","uiToggle","uiSortable","uiTinymce"];window.myCustomTags=window.myCustomTags||[],n.push.apply(n,window.myCustomTags);var i=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!==new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}();(i>-1&&i<9||t)&&function(){for(var e=0,t=n.length;e<t;e++)for(var i=(s=n[e],l=void 0,u=void 0,l=[],u=s.replace(/([A-Z])/g,function(e){return" "+e.toLowerCase()}).split(" "),c=u[0],d=u.slice(1).join("-"),l.push(c+":"+d),l.push(c+"-"+d),l.push("x-"+c+"-"+d),l.push("data-"+c+"-"+d),l),r=0,o=i.length;r<o;r++){var a=i[r];document.createElement(a)}var s,l,u,c,d}()}(window),function(e,t){"use strict";var n,i,r,o,a,s=t.module("ngRoute",[]).info({angularVersion:"1.6.5"}).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}n=t.isArray,i=t.isObject,r=t.isDefined,o=t.noop;var s={};function u(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},r=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,t,n,i){var o="?"===i||"*?"===i?"?":null,a="*"===i||"*?"===i?"*":null;return r.push({name:n,optional:!!o}),t=t||"",(o?"":t)+"(?:"+(o?t:"")+(a?"(.+?)":"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([/$*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}this.when=function(e,r){var o=function(e,t){if(n(e)){t=t||[];for(var r=0,o=e.length;r<o;r++)t[r]=e[r]}else if(i(e))for(var a in t=t||{},e)"$"===a.charAt(0)&&"$"===a.charAt(1)||(t[a]=e[a]);return t||e}(r);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),s[e]=t.extend(o,e&&u(e,o)),e){var a="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";s[a]=t.extend({redirectTo:e},u(a,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},a=!0,this.eagerInstantiationEnabled=function(e){return r(e)?(a=e,this):a},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(n,i,r,a,u,c,d,p){var h,f,g=!1,m={routes:s,reload:function(){g=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,g=!1}};n.$evalAsync(function(){v(e),e.defaultPrevented||y()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw l("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),i.path(C(this.current.$$route.originalPath,e)),i.search(e)}};return n.$on("$locationChangeStart",v),n.$on("$locationChangeSuccess",y),m;function v(r){var o,a,l=m.current;t.forEach(s,function(n,r){!a&&(o=function(e,t){var n=t.keys,i={};if(!t.regexp)return null;var r=t.regexp.exec(e);if(!r)return null;for(var o=1,a=r.length;o<a;++o){var s=n[o-1],l=r[o];s&&l&&(i[s.name]=l)}return i}(i.path(),n))&&((a=e(n,{params:t.extend({},i.search(),o),pathParams:o})).$$route=n)}),h=a||s.null&&e(s.null,{params:{},pathParams:{}}),(f=h&&l&&h.$$route===l.$$route&&t.equals(h.pathParams,l.pathParams)&&!h.reloadOnSearch&&!g)||!l&&!h||n.$broadcast("$routeChangeStart",h,l).defaultPrevented&&r&&r.preventDefault()}function y(){var e=m.current,i=h;if(f)e.params=i.params,t.copy(e.params,r),n.$broadcast("$routeUpdate",e);else if(i||e){g=!1,m.current=i;var s=a.resolve(i);p.$$incOutstandingRequestCount(),s.then(b).then(w).then(function(o){return o&&s.then($).then(function(o){i===m.current&&(i&&(i.locals=o,t.copy(i.params,r)),n.$broadcast("$routeChangeSuccess",i,e))})}).catch(function(t){i===m.current&&n.$broadcast("$routeChangeError",i,e,t)}).finally(function(){p.$$completeOutstandingRequest(o)})}}function b(e){var n={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(t.isString(e.redirectTo))n.path=C(e.redirectTo,e.params),n.search=e.params,n.hasRedirection=!0;else{var r=i.path(),o=i.search(),s=e.redirectTo(e.pathParams,r,o);t.isDefined(s)&&(n.url=s,n.hasRedirection=!0)}else if(e.resolveRedirectTo)return a.resolve(u.invoke(e.resolveRedirectTo)).then(function(e){return t.isDefined(e)&&(n.url=e,n.hasRedirection=!0),n});return n}function w(e){var t=!0;if(e.route!==m.current)t=!1;else if(e.hasRedirection){var n=i.url(),r=e.url;r?i.url(r).replace():r=i.path(e.path).search(e.search).replace().url(),r!==n&&(t=!1)}return t}function $(e){if(e){var n=t.extend({},e.resolve);t.forEach(n,function(e,i){n[i]=t.isString(e)?u.get(e):u.invoke(e,null,null,i)});var i=function(e){var n,i;t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(i=e.templateUrl)&&(t.isFunction(i)&&(i=i(e.params)),t.isDefined(i)&&(e.loadedTemplateUrl=d.valueOf(i),n=c(i)));return n}(e);return t.isDefined(i)&&(n.$template=i),a.all(n)}}function C(e,n){var i=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)i.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),o=r[1];i.push(n[o]),i.push(r[2]||""),delete n[o]}}),i.join("")}}]}).run(u),l=t.$$minErr("ngRoute");function u(e){a&&e.get("$route")}function c(e,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,o,a,s,l){var u,c,d,p=a.autoscroll,h=a.onload||"";function f(){d&&(i.cancel(d),d=null),u&&(u.$destroy(),u=null),c&&((d=i.leave(c)).done(function(e){!1!==e&&(d=null)}),c=null)}function g(){var a=e.current&&e.current.locals,s=a&&a.$template;if(t.isDefined(s)){var d=r.$new(),g=e.current,m=l(d,function(e){i.enter(e,null,c||o).done(function(e){!1===e||!t.isDefined(p)||p&&!r.$eval(p)||n()}),f()});c=m,(u=g.scope=d).$emit("$viewContentLoaded"),u.$eval(h)}else f()}r.$on("$routeChangeSuccess",g),g()}}}function d(e,t,n){return{restrict:"ECA",priority:-400,link:function(i,r){var o=n.current,a=o.locals;r.html(a.$template);var s=e(r.contents());if(o.controller){a.$scope=i;var l=t(o.controller,a);o.controllerAs&&(i[o.controllerAs]=l),r.data("$ngControllerController",l),r.children().data("$ngControllerController",l)}i[o.resolveAs||"$resolve"]=a,s(i)}}}u.$inject=["$injector"],s.provider("$routeParams",function(){this.$get=function(){return{}}}),s.directive("ngView",c),s.directive("ngView",d),c.$inject=["$route","$anchorScroll","$animate"],d.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t){"use strict";var n=t.$$minErr("$resource"),i=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function r(e,r){if(!function(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&i.test("."+e)}(r))throw n("badmember",'Dotted member path "@{0}" is invalid.',r);for(var o=r.split("."),a=0,s=o.length;a<s&&t.isDefined(e);a++){var l=o[a];e=null!==e?e[l]:void 0}return e}function o(e,n){for(var i in n=n||{},t.forEach(n,function(e,t){delete n[t]}),e)!e.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=e[i]);return n}t.module("ngResource",["ng"]).info({angularVersion:"1.6.5"}).provider("$resource",function(){var e=/^https?:\/\/\[[^\]]*][^/]*/,i=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,l,u){var c=t.noop,d=t.forEach,p=t.extend,h=t.copy,f=t.isArray,g=t.isDefined,m=t.isFunction,v=t.isNumber,y=t.$$encodeUriQuery,b=t.$$encodeUriSegment;function w(e,t){this.template=e,this.defaults=p({},i.defaults,t),this.urlParams={}}return w.prototype={setUrlParams:function(t,i,r){var o,a,s=this,l=r||s.template,u="",c=s.urlParams=Object.create(null);d(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(c[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(l)})}),l=(l=l.replace(/\\:/g,":")).replace(e,function(e){return u=e,""}),i=i||{},d(s.urlParams,function(e,t){o=i.hasOwnProperty(t)?i[t]:s.defaults[t],g(o)&&null!==o?(a=e.isQueryParamValue?y(o,!0):b(o),l=l.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,t){return a+t})):l=l.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,t,n){return"/"===n.charAt(0)?n:t+n})}),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=u+l.replace(/\/(\\|%5C)\./,"/."),d(i,function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},function e(t,y,b,$){var C=new w(t,$);function S(e){return e.resource}function x(e){o(e||{},this)}return b=p({},i.defaults.actions,b),x.prototype.toJSON=function(){var e=p({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},d(b,function(e,t){var i=!0===e.hasBody||!1!==e.hasBody&&/^(POST|PUT|PATCH)$/i.test(e.method),b=e.timeout,w=g(e.cancellable)?e.cancellable:C.defaults.cancellable;b&&!v(b)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,b=null),x[t]=function(s,g,v,$){var E,k,D,_={};switch(arguments.length){case 4:D=$,k=v;case 3:case 2:if(!m(g)){_=s,E=g,k=v;break}if(m(s)){k=s,D=g;break}k=g,D=v;case 1:m(s)?k=s:i?E=s:_=s;break;case 0:break;default:throw n("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var M,T,O=this instanceof x,A=O?E:e.isArray?[]:new x(E),P={},I=e.interceptor&&e.interceptor.response||S,R=e.interceptor&&e.interceptor.responseError||void 0,L=!!D,N=!!R;d(e,function(e,t){switch(t){default:P[t]=h(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!O&&w&&(M=l.defer(),P.timeout=M.promise,b&&(T=u(M.resolve,b))),i&&(P.data=E),C.setUrlParams(P,p({},function(e,t){var n={};return t=p({},y,t),d(t,function(t,i){m(t)&&(t=t(e)),n[i]=t&&t.charAt&&"@"===t.charAt(0)?r(e,t.substr(1)):t}),n}(E,e.params||{}),_),e.url);var F=a(P).then(function(i){var r=i.data;if(r){if(f(r)!==!!e.isArray)throw n("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",t,e.isArray?"array":"object",f(r)?"array":"object",P.method,P.url);if(e.isArray)A.length=0,d(r,function(e){"object"==typeof e?A.push(new x(e)):A.push(e)});else{var a=A.$promise;o(r,A),A.$promise=a}}return i.resource=A,i});return F=(F=F.finally(function(){A.$resolved=!0,!O&&w&&(A.$cancelRequest=c,u.cancel(T),M=T=P.timeout=null)})).then(function(e){var t=I(e);return(k||c)(t,e.headers,e.status,e.statusText),t},L||N?function(e){return L&&!N&&F.catch(c),L&&D(e),N?R(e):l.reject(e)}:void 0),O?F:(A.$promise=F,A.$resolved=!1,w&&(A.$cancelRequest=function(e){F.catch(c),M.resolve(e)}),A)},x.prototype["$"+t]=function(e,n,i){m(e)&&(i=n,n=e,e={});var r=x[t].call(this,e,this,n,i);return r.$promise||r}}),x.bind=function(n){var i=p({},y,n);return e(t,i,b,$)},x}}]})}(window,window.angular),function(e,t){"use strict";var n,i,r,o,a,s,l,u,c,d=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){var p=!1;this.$get=["$$sanitizeUri",function(e){return p&&i(S,$),function(t){var n=[];return u(t,c(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return o(e)?(p=e,this):p},n=t.bind,i=t.extend,r=t.forEach,o=t.isDefined,a=t.lowercase,s=t.noop,u=function(e,t){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e);var n=M(e);if(!n)return"";var i=5;do{if(0===i)throw d("uinput","Failed to sanitize html because the input is unstable");i--,e=n.innerHTML,n=M(e)}while(e!==n.innerHTML);for(var r=n.firstChild;r;){switch(r.nodeType){case 1:t.start(r.nodeName.toLowerCase(),T(r.attributes));break;case 3:t.chars(r.textContent)}var o;if(!((o=r.firstChild)||(1===r.nodeType&&t.end(r.nodeName.toLowerCase()),o=P("nextSibling",r))))for(;null==o&&(r=P("parentNode",r))!==n;)o=P("nextSibling",r),1===r.nodeType&&t.end(r.nodeName.toLowerCase());r=o}for(;r=n.firstChild;)n.removeChild(r)},c=function(e,t){var i=!1,o=n(e,e.push);return{start:function(e,n){e=a(e),!i&&C[e]&&(i=e),i||!0!==S[e]||(o("<"),o(e),r(n,function(n,i){var r=a(i),s="img"===e&&"src"===r||"background"===r;!0!==D[r]||!0===x[r]&&!t(n,s)||(o(" "),o(i),o('="'),o(O(n)),o('"'))}),o(">"))},end:function(e){e=a(e),i||!0!==S[e]||!0===g[e]||(o("</"),o(e),o(">")),e==i&&(i=!1)},chars:function(e){i||o(O(e))}}},l=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=/([^#-~ |!])/g,g=_("area,br,col,hr,img,wbr"),m=_("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=_("rp,rt"),y=i({},v,m),b=i({},m,_("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),w=i({},v,_("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),$=_("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=_("script,style"),S=i({},g,b,w,y),x=_("background,cite,href,longdesc,src,xlink:href"),E=_("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),k=_("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),D=i({},x,k,E);function _(e,t){var n,i={},r=e.split(",");for(n=0;n<r.length;n++)i[t?a(r[n]):r[n]]=!0;return i}var M=function(e,t){var n;if(!t||!t.implementation)throw d("noinert","Can't create an inert html document");var i=((n=t.implementation.createHTMLDocument("inert")).documentElement||n.getDocumentElement()).querySelector("body");return i.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',i.querySelector("svg")?(i.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',i.querySelector("svg img")?function(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(e){return}}:function(e){return i.innerHTML=e,t.documentMode&&A(i),i}):function(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return}var n=new e.XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+t,!1),n.send(null);var i=n.response.body;return i.firstChild.remove(),i}}(e,e.document);function T(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function O(e){return e.replace(/&/g,"&amp;").replace(h,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(f,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var o=n[i],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),i--,r--)}var s=t.firstChild;s&&A(s),t=P("nextSibling",t)}}function P(e,t){var n=t[e];if(n&&l.call(t,n))throw d("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}}).info({angularVersion:"1.6.5"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,r=t.$$minErr("linky"),o=t.isDefined,a=t.isFunction,l=t.isObject,u=t.isString;return function(t,d,p){if(null==t||""===t)return t;if(!u(t))throw r("notstring","Expected string but received: {0}",t);for(var h,f,g,m=a(p)?p:l(p)?function(){return p}:function(){return{}},v=t,y=[];h=v.match(n);)f=h[0],h[2]||h[4]||(f=(h[3]?"http://":"mailto:")+f),g=h.index,b(v.substr(0,g)),w(f,h[0].replace(i,"")),v=v.substring(g+h[0].length);return b(v),e(y.join(""));function b(e){var t,n;e&&y.push((t=e,c(n=[],s).chars(t),n.join("")))}function w(e,t){var n,i=m(e);for(n in y.push("<a "),i)y.push(n+'="'+i[n]+'" ');!o(d)||"target"in i||y.push('target="',d,'" '),y.push('href="',e.replace(/"/g,"&quot;"),'">'),b(t),y.push("</a>")}}}])}(window,window.angular),function(e,t){"use strict";function n(e,n,i){var r=i.baseHref(),o=e[0];return function(e,i,a){o.cookie=function(e,i,o){var a,s;s=(o=o||{}).expires,a=t.isDefined(o.path)?o.path:r,t.isUndefined(i)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(s)&&(s=new Date(s));var l=encodeURIComponent(e)+"="+encodeURIComponent(i);l+=a?";path="+a:"",l+=o.domain?";domain="+o.domain:"",l+=s?";expires="+s.toUTCString():"";var u=(l+=o.secure?";secure":"").length+1;return u>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+u+" > 4096 bytes)!"),l}(e,i,a)}}t.module("ngCookies",["ng"]).info({angularVersion:"1.6.5"}).provider("$cookies",[function(){var e=this.defaults={};function n(n){return n?t.extend({},e,n):e}this.$get=["$$cookieReader","$$cookieWriter",function(e,i){return{get:function(t){return e()[t]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return e()},put:function(e,t,r){i(e,t,n(r))},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(e,t){i(e,void 0,n(t))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";var i,r=t.isDefined,o=t.isFunction,a=t.isString,s=t.isObject,l=t.isArray,u=t.forEach,c=t.extend,d=t.copy,p=t.toJson;function h(e,t){return c(new(c(function(){},{prototype:e})),t)}function f(e){return u(arguments,function(t){t!==e&&u(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function g(e){if(Object.keys)return Object.keys(e);var t=[];return u(e,function(e,n){t.push(n)}),t}function m(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=n);i<n;i++)if(i in e&&e[i]===t)return i;return-1}function v(e,t,n,i){var r,o=function(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}(n,i),a={},s=[];for(var l in o)if(o[l]&&o[l].params&&(r=g(o[l].params)).length)for(var u in r)m(s,r[u])>=0||(s.push(r[u]),a[r[u]]=e[r[u]]);return c({},a,t)}function y(e,t){var n={};return u(e,function(e){n[e]=t[e]}),n}function b(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return u(n,function(n){n in e&&(t[n]=e[n])}),t}function w(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==m(n,i)&&(t[i]=e[i]);return t}function $(e,t){var n=l(e),i=n?[]:{};return u(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function C(e,t){var n=l(e)?[]:{};return u(e,function(e,i){n[i]=t(e,i)}),n}function S(e){return e.then(n,function(){})&&e}function x(e,t){var i=1,o=2,l={},d=[],p=l,h=c(e.when(l),{$$promises:l,$$values:l});this.study=function(l){if(!s(l))throw new Error("'invocables' must be an object");var v=g(l||{}),y=[],b=[],$={};function C(e){return s(e)&&e.then&&e.$$promises}return u(l,function e(n,r){if($[r]!==o){if(b.push(r),$[r]===i)throw b.splice(0,m(b,r)),new Error("Cyclic dependency: "+b.join(" -> "));if($[r]=i,a(n))y.push(r,[function(){return t.get(n)}],d);else{var s=t.annotate(n);u(s,function(t){t!==r&&l.hasOwnProperty(t)&&e(l[t],t)}),y.push(r,n,s)}b.pop(),$[r]=o}}),l=b=$=null,function(i,o,a){if(C(i)&&a===n&&(a=o,o=i,i=null),i){if(!s(i))throw new Error("'locals' must be an object")}else i=p;if(o){if(!C(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=h;var l=e.defer(),d=S(l.promise),g=d.$$promises={},m=c({},i),b=1+y.length/3,$=!1;function x(){--b||($||f(m,o.$$values),d.$$values=m,d.$$promises=d.$$promises||!0,delete d.$$inheritedValues,l.resolve(m))}function E(e){d.$$failure=e,l.reject(e)}if(S(d),r(o.$$failure))return E(o.$$failure),d;o.$$inheritedValues&&f(m,w(o.$$inheritedValues,v)),c(g,o.$$promises),o.$$values?($=f(m,w(o.$$values,v)),d.$$inheritedValues=w(o.$$values,v),x()):(o.$$inheritedValues&&(d.$$inheritedValues=w(o.$$inheritedValues,v)),o.then(x,E));for(var k=0,D=y.length;k<D;k+=3)i.hasOwnProperty(y[k])?x():_(y[k],y[k+1],y[k+2]);function _(n,o,s){var l=e.defer(),c=0;function p(e){l.reject(e),E(e)}function h(){if(!r(d.$$failure))try{l.resolve(t.invoke(o,a,m)),l.promise.then(function(e){m[n]=e,x()},p)}catch(e){p(e)}}u(s,function(e){g.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(c++,g[e].then(function(t){m[e]=t,--c||h()},p))}),c||h(),g[n]=S(l.promise)}return d}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function E(e,t,r){t=c({params:{}},s(t)?t:{});var o,a,l,u,d=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",g=0,m=this.segments=[],v=r?r.params:{},y=this.params=r?r.params.$$new():new i.ParamSet,b=[];function w(t,n,r,o){if(b.push(t),v[t])return v[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(y[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return y[t]=new i.Param(t,n,r,o),y[t]}function $(e,t,n,i){var r=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+t+r[1]}function C(r,o){var a,s,l,u,c;return a=r[2]||r[3],c=t.params[a],l=e.substring(g,r.index),(s=o?r[4]:r[4]||("*"==r[1]?".*":null))&&(u=i.type(s)||h(i.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:a,regexp:s,segment:l,type:u,cfg:c}}for(this.source=e;(o=d.exec(e))&&!((a=C(o,!1)).segment.indexOf("?")>=0);)l=w(a.id,a.type,a.cfg,"path"),f+=$(a.segment,l.type.pattern.source,l.squash,l.isOptional),m.push(a.segment),g=d.lastIndex;var S=(u=e.substring(g)).indexOf("?");if(S>=0){var x=this.sourceSearch=u.substring(S);if(u=u.substring(0,S),this.sourcePath=e.substring(0,g+S),x.length>0)for(g=0;o=p.exec(x);)l=w((a=C(o,!0)).id,a.type,a.cfg,"search"),g=d.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=$(u)+(!1===t.strict?"/?":"")+"$",m.push(u),this.regexp=new RegExp(f,t.caseInsensitive?"i":n),this.prefix=m[0],this.$$paramNames=b}function k(e){c(this,e)}function D(e,i){var s,u=[],d=null,p=!1;function h(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!r(i)||i}function f(i,r,o,l,c){var h,f=l.baseHref(),g=i.url();function m(e){if(!e||!e.defaultPrevented){h&&i.url();h=n;var t,r=u.length;for(t=0;t<r;t++)if(s(u[t]))return;d&&s(d)}function s(e){var t=e(o,i);return!!t&&(a(t)&&i.replace().url(t),!0)}}function v(){return s=s||r.$on("$locationChangeSuccess",m)}return p||v(),{sync:function(){m()},listen:function(){return v()},update:function(e){e?g=i.url():i.url()!==g&&(i.url(g),i.replace())},push:function(e,t,r){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),i.url(o),h=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled),a=a&&c.history;var s=n.format(r);if(o=o||{},a||null===s||(s="#"+e.hashPrefix()+s),null!==s&&r&&r["#"]&&(s+="#"+r["#"]),s=function(e,t,n){return"/"===f?e:t?f.slice(0,-1)+e:n?f.slice(1)+e:e}(s,a,o.absolute),!o.absolute||!s)return s;var l=!a&&s?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,l,s].join("")}}}this.rule=function(e){if(!o(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(a(e)){var t=e;e=function(){return t}}else if(!o(e))throw new Error("'rule' must be a function");return d=e,this},this.when=function(e,t){var n,r=a(t);if(a(e)&&(e=i.compile(e)),!r&&!o(t)&&!l(t))throw new Error("invalid 'handler' in when()");var s={matcher:function(e,t){return r&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),c(function(n,i){return h(n,t,e.exec(i.path(),i.search()))},{prefix:a(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return r&&(n=t,t=["$match",function(e){return t=e,n.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]});var t}]),c(function(n,i){return h(n,t,e.exec(i.path()))},{prefix:(i=e,o=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(i.source),null!=o?o[1].replace(/\\(.)/g,"$1"):"")});var i,o}},u={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var d in u)if(u[d])return this.rule(s[d](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),p=e},this.$get=f,f.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function _(e,p){var f,w,$={},x={},E="abstract",k={parent:function(e){if(r(e.parent)&&e.parent)return D(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?D(t[1]):f},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=h(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(a(t))return"^"==t.charAt(0)?p.compile(t.substring(1),n):(e.parent.navigable||f).url.concat(t,n);if(!t||p.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new i.ParamSet;return u(e.params||{},function(e,n){t[n]||(t[n]=new i.Param(n,null,e,"config"))}),t},params:function(e){var t=b(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?c(e.parent.params.$$new(),t):new i.ParamSet},views:function(e){var t={};return u(r(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?c({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};function D(e,t){if(!e)return n;var i,r=a(e),o=r?e:e.name;if(0===(i=o).indexOf(".")||0===i.indexOf("^")){if(!t)throw new Error("No reference point given for path '"+o+"'");t=D(t);for(var s=o.split("."),l=0,u=s.length,c=t;l<u;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+o+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;s=s.slice(l).join("."),o=c.name+(c.name&&s?".":"")+s}var d=$[o];return!d||!r&&(r||d!==e&&d.self!==e)?n:d}function _(t){var n=(t=h(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}})).name;if(!a(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if($.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):a(t.parent)?t.parent:s(t.parent)&&a(t.parent.name)?t.parent.name:"";if(i&&!$[i])return function(e,t){x[e]||(x[e]=[]),x[e].push(t)}(i,t.self);for(var r in k)o(k[r])&&(t[r]=k[r](t,k.$delegates[r]));return $[n]=t,!t[E]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){w.$current.navigable==t&&function(e,t,n){if(!n)for(var i in n=[],e)n.push(i);for(var r=0;r<n.length;r++){var o=n[r];if(e[o]!=t[o])return!1}return!0}(e,n)||w.transitionTo(t,e,{inherit:!0,location:!1})}]),function(e){for(var t=x[e]||[];t.length;)_(t.shift())}(n),t}function M(e,p,x,k,_,M,T,O,A){var P=new Error("transition superseded"),I=S(p.reject(P)),R=S(p.reject(new Error("transition prevented"))),L=S(p.reject(new Error("transition aborted"))),N=S(p.reject(new Error("transition failed")));function F(e,n,i,r,a,s){var c=i?n:y(e.params.$$keys(),n),d={$stateParams:c};a.resolve=_.resolve(e.resolve,d,a.resolve,e);var h=[a.resolve.then(function(e){a.globals=e})];return r&&h.push(r),p.all(h).then(function(){var n=[];return u(e.views,function(i,r){var u=i.resolve&&i.resolve!==e.resolve?i.resolve:{};u.$template=[function(){return x.load(r,{view:i,locals:a.globals,params:c,notify:s.notify})||""}],n.push(_.resolve(u,a.globals,a.resolve,e).then(function(n){if(o(i.controllerProvider)||l(i.controllerProvider)){var s=t.extend({},u,a.globals);n.$$controller=k.invoke(i.controllerProvider,null,s)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,a[r]=n}))}),p.all(n).then(function(){return a.globals})}).then(function(e){return a})}return f.locals={resolve:null,globals:{$stateParams:{}}},(w={params:{},current:f.self,$current:f,transition:null}).reload=function(e){return w.transitionTo(w.current,M,{reload:e||!0,inherit:!1,notify:!0})},w.go=function(e,t,n){return w.transitionTo(e,t,c({inherit:!0,relative:w.$current},n))},w.transitionTo=function(t,n,o){n=n||{},o=c({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var l=w.$current,u=w.params,g=l.path,m=D(t,o.relative),$=n["#"];if(!r(m)){var C={to:t,toParams:n,options:o},x=function(t,n,i,r){var o=e.$broadcast("$stateNotFound",t,n,i);if(o.defaultPrevented)return T.update(),L;if(!o.retry)return null;if(r.$retry)return T.update(),N;var a=w.transition=p.when(o.retry);return a.then(function(){return a!==w.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,n,i),I):(t.options.$retry=!0,w.transitionTo(t.to,t.toParams,t.options))},function(){return L}),T.update(),a}(C,l.self,u,o);if(x)return x;if(n=C.toParams,m=D(t=C.to,(o=C.options).relative),!r(m)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(m[E])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=v(M,n||{},w.$current,m)),!m.params.$$validates(n))return N;n=m.params.$$values(n);var _=(t=m).path,O=0,A=_[O],G=f.locals,V=[];if(o.reload){if(a(o.reload)||s(o.reload)){if(s(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var H=!0===o.reload?g[0]:D(o.reload);if(o.reload&&!H)throw new Error("No such reload state '"+(a(o.reload)?o.reload:o.reload.name)+"'");for(;A&&A===g[O]&&A!==H;)G=V[O]=A.locals,A=_[++O]}}else for(;A&&A===g[O]&&A.ownParams.$$equals(n,u);)G=V[O]=A.locals,A=_[++O];if(function(e,t,n,r,o,a){if(!a.reload&&e===n&&(o===n.locals||!1===e.self.reloadOnSearch&&function(e,t,n){var r=e.params.$$keys().filter(function(t){return"search"!=e.params[t].location}),o=b.apply({},[e.params].concat(r));return new i.ParamSet(o).$$equals(t,n)}(n,r,t)))return!0}(t,n,l,u,G,o))return $&&(n["#"]=$),w.params=n,d(w.params,M),d(y(t.params.$$keys(),M),t.locals.globals.$stateParams),o.location&&t.navigable&&t.navigable.url&&(T.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),T.update(!0)),w.transition=null,p.when(w.current);if(n=y(t.params.$$keys(),n||{}),$&&(n["#"]=$),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,l.self,u,o).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,l.self,u),null==w.transition&&T.update(),R;for(var j=p.when(G),z=O;z<_.length;A=_[++z])G=V[z]=h(G),j=F(A,n,A===t,j,G,o);var U=w.transition=j.then(function(){var i,r,a;if(w.transition!==U)return e.$broadcast("$stateChangeCancel",t.self,n,l.self,u),I;for(i=g.length-1;i>=O;i--)(a=g[i]).self.onExit&&k.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=O;i<_.length;i++)(r=_[i]).locals=V[i],r.self.onEnter&&k.invoke(r.self.onEnter,r.self,r.locals.globals);return w.transition!==U?(e.$broadcast("$stateChangeCancel",t.self,n,l.self,u),I):(w.$current=t,w.current=t.self,w.params=n,d(w.params,M),w.transition=null,o.location&&t.navigable&&T.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,l.self,u),T.update(!0),w.current)}).then(null,function(i){return i===P?I:w.transition!==U?(e.$broadcast("$stateChangeCancel",t.self,n,l.self,u),I):(w.transition=null,e.$broadcast("$stateChangeError",t.self,n,l.self,u,i).defaultPrevented||T.update(),p.reject(i))});return S(U),U},w.is=function(e,t,i){var o=D(e,(i=c({relative:w.$current},i||{})).relative);return r(o)?w.$current===o&&(!t||g(t).reduce(function(e,n){var i=o.params[n];return e&&!i||i.type.equals(M[n],t[n])},!0)):n},w.includes=function(e,t,i){if(i=c({relative:w.$current},i||{}),a(e)&&e.indexOf("*")>-1){if(!function(e){for(var t=e.split("."),n=w.$current.name.split("."),i=0,r=t.length;i<r;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(m(n,t[1]))).unshift("**"),"**"===t[t.length-1]&&(n.splice(m(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}(e))return!1;e=w.$current.name}var o=D(e,i.relative);if(!r(o))return n;if(!r(w.$current.includes[o.name]))return!1;if(!t)return!0;for(var s=g(t),l=0;l<s.length;l++){var u=s[l],d=o.params[u];if(d&&!d.type.equals(M[u],t[u]))return!1}return g(t).reduce(function(e,n){var i=o.params[n];return e&&!i||i.type.equals(M[n],t[n])},!0)},w.href=function(e,t,i){var o=D(e,(i=c({lossy:!0,inherit:!0,absolute:!1,relative:w.$current},i||{})).relative);if(!r(o))return null;i.inherit&&(t=v(M,t||{},w.$current,o));var a=o&&i.lossy?o.navigable:o;return a&&a.url!==n&&null!==a.url?T.href(a.url,y(o.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},w.get=function(e,t){if(0===arguments.length)return C(g($),function(e){return $[e].self});var n=D(e,t||w.$current);return n&&n.self?n.self:null},w}(f=_({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(e,t){if(a(e)&&!r(t))return k[e];if(!o(t)||!a(e))return this;k[e]&&!k.$delegates[e]&&(k.$delegates[e]=k[e]);return k[e]=t,this},this.state=function(e,t){s(e)?t=e:t.name=e;return _(t),this},this.$get=M,M.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function M(){function e(e,t){return{load:function(e,n){var i;return(n=c({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},n)).view&&(i=t.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function T(e,n,i,r,o){var a=n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}},s=a("$animator"),l=a("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,a,u){return function(n,a,c){var d,p,h,f,g=c.onload||"",m=c.autoscroll,v=function(e,n){if(l)return{enter:function(e,n,i){t.version.minor>2?l.enter(e,null,n).then(i):l.enter(e,null,n,i)},leave:function(e,n){t.version.minor>2?l.leave(e).then(n):l.leave(e,n)}};if(s){var i=s&&s(n,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}}(c,n);a.inheritedData("$uiView");function y(s){var l,y=A(n,c,a,r),b=y&&e.$current&&e.$current.locals[y];if(s||b!==f){l=n.$new(),f=e.$current.locals[y],l.$emit("$viewContentLoading",y);var w=u(l,function(e){var r=o.defer(),s=o.defer(),l={$animEnter:r.promise,$animLeave:s.promise,$$animLeave:s};e.data("$uiViewAnim",l),v.enter(e,a,function(){r.resolve(),h&&h.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&i(e)}),function(){if(d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),p){var e=p.data("$uiViewAnim");v.leave(p,function(){e.$$animLeave.resolve(),d=null}),d=p,p=null}}()});p=w,(h=l).$emit("$viewContentLoaded",y),h.$eval(g)}}n.$on("$stateChangeSuccess",function(){y(!1)}),y(!0)}}}}function O(e,n,i,r){return{restrict:"ECA",priority:-400,compile:function(a){var s=a.html();return a.empty?a.empty():a[0].innerHTML=null,function(a,l,u){var c=i.$current,d=A(a,u,l,r),p=c&&c.locals[d];if(!p)return l.html(s),void e(l.contents())(a);l.data("$uiView",{name:d,state:p.$$state}),l.html(p.$template?p.$template:s);var h=t.extend({},p);a[p.$$resolveAs]=h;var f=e(l.contents());if(p.$$controller){p.$scope=a,p.$element=l;var g=n(p.$$controller,p);p.$$controllerAs&&(a[p.$$controllerAs]=g,a[p.$$controllerAs][p.$$resolveAs]=h),o(g.$onInit)&&g.$onInit(),l.data("$ngControllerController",g),l.children().data("$ngControllerController",g)}f(a)}}}}function A(e,t,n,i){var r=i(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function P(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),!(n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function I(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function R(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function L(e,t,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.state,s.params,s.options)});o.preventDefault();var u=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function N(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){var s,l=P(o.uiSref,e.current.name),u={state:l.state,href:null,params:null},d=R(r),p=a[1]||a[0],h=null;u.options=c(function(e,t){return{relative:I(e)||t.$current,inherit:!0}}(r,e),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var f=function(n){n&&(u.params=t.copy(n)),u.href=e.href(l.state,u.params,u.options),h&&h(),p&&(h=p.$$addStateInfo(l.state,u.params)),null!==u.href&&o.$set(d.attr,u.href)};l.paramExpr&&(i.$watch(l.paramExpr,function(e){e!==u.params&&f(e)},!0),u.params=t.copy(i.$eval(l.paramExpr))),f(),d.clickable&&(s=L(r,e,n,d,function(){return u}),r[r.on?"on":"bind"]("click",s),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",s)}))}}}function F(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){var a,s=R(i),l=o[1]||o[0],u="["+[r.uiState,r.uiStateParams||null,r.uiStateOpts||null].map(function(e){return e||"null"}).join(", ")+"]",c={state:null,params:null,options:null,href:null},d=null;function p(t){c.state=t[0],c.params=t[1],c.options=t[2],c.href=e.href(c.state,c.params,c.options),d&&d(),l&&(d=l.$$addStateInfo(c.state,c.params)),c.href&&r.$set(s.attr,c.href)}n.$watch(u,p,!0),p(n.$eval(u)),s.clickable&&(a=L(i,e,t,s,function(){return c}),i[i.on?"on":"bind"]("click",a),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",a)}))}}}function G(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,i,r,o){var l,c,d=[],h={};l=n(r.uiSrefActiveEq||"",!1)(t);try{c=t.$eval(r.uiSrefActive)}catch(e){}function f(n,r,o){var l=e.get(n,I(i)),u=function(e,n){if(!a(e))throw new Error("state should be a string");if(s(n))return e+p(n);if(n=t.$eval(n),s(n))return e+p(n);return e}(n,r),c={state:l||{name:n},params:r,hash:u};return d.push(c),h[u]=o,function(){var e=d.indexOf(c);-1!==e&&d.splice(e,1)}}function g(){for(var t=0;t<d.length;t++)n=d[t].state,r=d[t].params,e.includes(n.name,r)?m(i,h[d[t].hash]):v(i,h[d[t].hash]),y(d[t].state,d[t].params)?m(i,l):v(i,l);var n,r}function m(e,t){o(function(){e.addClass(t)})}function v(e,t){e.removeClass(t)}function y(t,n){return e.is(t.name,n)}c=c||n(r.uiSrefActive||"",!1)(t),s(c)&&u(c,function(n,i){if(a(n)){var r=P(n,e.current.name);f(r.state,t.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(e,t){if(!(s(c)&&d.length>0)){var n=f(e,t,c);return g(),n}},t.$on("$stateChangeSuccess",g),g()}]}}function V(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function H(e){var t=function(t,n,i){return e.includes(t,n,i)};return t.$stateful=!0,t}t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),x.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",x),t.module("ui.router.util").provider("$templateFactory",function(){var e=t.version.minor<3;this.shouldUnsafelyUseHttp=function(t){e=!!t},this.$get=["$http","$templateCache","$injector",function(t,n,i){return new function(e,t,n,i){this.fromConfig=function(e,t,n){return r(e.template)?this.fromString(e.template,t):r(e.templateUrl)?this.fromUrl(e.templateUrl,t):r(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return o(e)?e(t):e},this.fromUrl=function(r,a){return o(r)&&(r=r(a)),null==r?null:i?e.get(r,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data}):n.get("$templateRequest")(r)},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}(t,n,i,e)}]}),E.prototype.concat=function(e,t){var n={caseInsensitive:i.caseInsensitive(),strict:i.strictMode(),squash:i.defaultSquashPolicy()};return new E(this.sourcePath+e+this.sourceSearch,c(n,t),this)},E.prototype.toString=function(){return this.source},E.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;t=t||{};var i,o,a,s,l,u=this.parameters(),c=u.length,d=this.segments.length-1,p={};if(d!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");function h(e){function t(e){return e.split("").reverse().join("")}return C(C(t(e).split(/-(?!\\)/),t),function(e){return e.replace(/\\-/g,"-")}).reverse()}for(i=0;i<d;i++){for(a=u[i],s=this.params[a],l=n[i+1],o=0;o<s.replace.length;o++)s.replace[o].from===l&&(l=s.replace[o].to);l&&!0===s.array&&(l=h(l)),r(l)&&(l=s.type.decode(l)),p[a]=s.value(l)}for(;i<c;i++){for(p[a=u[i]]=this.params[a].value(t[a]),s=this.params[a],l=t[a],o=0;o<s.replace.length;o++)s.replace[o].from===l&&(l=s.replace[o].to);r(l)&&(l=s.type.decode(l)),p[a]=s.value(l)}return p},E.prototype.parameters=function(e){return r(e)?this.params[e]||null:this.$$paramNames},E.prototype.validates=function(e){return this.params.$$validates(e)},E.prototype.format=function(e){e=e||{};var t=this.segments,n=this.parameters(),i=this.params;if(!this.validates(e))return null;var r,o=!1,s=t.length-1,u=n.length,c=t[0];function d(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}for(r=0;r<u;r++){var p=r<s,h=n[r],f=i[h],g=f.value(e[h]),m=f.isOptional&&f.type.equals(f.value(),g),v=!!m&&f.squash,y=f.type.encode(g);if(p){var b=t[r+1],w=r+1===s;if(!1===v)null!=y&&(l(y)?c+=C(y,d).join("-"):c+=encodeURIComponent(y)),c+=b;else if(!0===v){var $=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=b.match($)[1]}else a(v)&&(c+=v+b);w&&!0===f.squash&&"/"===c.slice(-1)&&(c=c.slice(0,-1))}else{if(null==y||m&&!1!==v)continue;if(l(y)||(y=[y]),0===y.length)continue;y=C(y,encodeURIComponent).join("&"+h+"="),c+=(o?"&":"?")+h+"="+y,o=!0}}return c},k.prototype.is=function(e,t){return!0},k.prototype.encode=function(e,t){return e},k.prototype.decode=function(e,t){return e},k.prototype.equals=function(e,t){return e==t},k.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},k.prototype.pattern=/.*/,k.prototype.toString=function(){return"{Type:"+this.name+"}"},k.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},k.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new function(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function o(e){return l(e)?e:r(e)?[e]:[]}function a(e){return!e}function s(e,i){return function(r){if(l(r)&&0===r.length)return r;var s=C(r=o(r),e);return!0===i?0===$(s,a).length:function(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}(s)}}var u;this.encode=s(i(e,"encode")),this.decode=s(i(e,"decode")),this.is=s(i(e,"is"),!0),this.equals=(u=i(e,"equals"),function(e,t){var n=o(e),i=o(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!u(n[r],i[r]))return!1;return!0}),this.pattern=e.pattern,this.$normalize=s(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",function e(){i=this;var d=!1,p=!0,f=!1;function v(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}var y,b={},w=!0,S=[],x={string:{encode:v,decode:function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e},is:function(e){return null==e||!r(e)||"string"==typeof e},pattern:/[^/]*/},int:{encode:v,decode:function(e){return parseInt(e,10)},is:function(e){return e!==n&&null!==e&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};function D(e){return o(e)||l(e)&&o(e[e.length-1])}function _(){for(;S.length;){var e=S.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(b[e.name],y.invoke(e.def))}}function M(e){c(this,e||{})}e.$$getDefaultValue=function(e){if(!D(e.value))return e.value;if(!y)throw new Error("Injectable functions cannot be called at configuration time");return y.invoke(e.value)},this.caseInsensitive=function(e){return r(e)&&(d=e),d},this.strictMode=function(e){return r(e)&&(p=e),p},this.defaultSquashPolicy=function(e){if(!r(e))return f;if(!0!==e&&!1!==e&&!a(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return f=e,e},this.compile=function(e,t){return new E(e,c({strict:p,caseInsensitive:d},t))},this.isMatcher=function(e){if(!s(e))return!1;var t=!0;return u(E.prototype,function(n,i){o(n)&&(t=t&&r(e[i])&&o(e[i]))}),t},this.type=function(e,t,n){if(!r(t))return b[e];if(b.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return b[e]=new k(c({name:e},t)),n&&(S.push({name:e,def:n}),w||_()),this},u(x,function(e,t){b[t]=new k(c({name:t},e))}),b=h(b,{}),this.$get=["$injector",function(e){return y=e,w=!1,_(),u(x,function(e,t){b[t]||(b[t]=new k(e))}),this}],this.Param=function(e,i,o,u){var d=this;o=function(e){var t=s(e)?g(e):[];return-1===m(t,"value")&&-1===m(t,"type")&&-1===m(t,"squash")&&-1===m(t,"array")&&(e={value:e}),e.$$fn=D(e.value)?e.value:function(){return e.value},e}(o),i=function(n,i,r){if(n.type&&i)throw new Error("Param '"+e+"' has two type configurations.");return i||(n.type?t.isString(n.type)?b[n.type]:n.type instanceof k?n.type:new k(n.type):"config"===r?b.any:b.string)}(o,i,u);var p,h,v=(p={array:"search"===u&&"auto"},h=e.match(/\[\]$/)?{array:!0}:{},c(p,h,o).array);"string"!==(i=v?i.$asArray(v,"search"===u):i).name||v||"path"!==u||o.value!==n||(o.value="");var w=o.value!==n,S=function(e,t){var n=e.squash;if(!t||!1===n)return!1;if(!r(n)||null==n)return f;if(!0===n||a(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(o,w),x=function(e,t,i,r){var o,s,u=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return o=l(e.replace)?e.replace:[],a(r)&&o.push({from:r,to:n}),s=C(o,function(e){return e.from}),$(u,function(e){return-1===m(s,e.from)}).concat(o)}(o,v,w,S);c(this,{id:e,type:i,location:u,array:v,squash:S,replace:x,isOptional:w,value:function(e){return e=function(e){var t,n=C($(d.replace,(t=e,function(e){return e.from===t})),function(e){return e.to});return n.length?n[0]:e}(e),r(e)?d.type.$normalize(e):function(){if(!y)throw new Error("Injectable functions cannot be called at configuration time");var e=y.invoke(o.$$fn);if(null!==e&&e!==n&&!d.type.is(e))throw new Error("Default value ("+e+") for parameter '"+d.id+"' is not an instance of Type ("+d.type.name+")");return e}()},dynamic:n,config:o,toString:function(){return"{Param:"+e+" "+i+" squash: '"+S+"' optional: "+w+"}"}})},M.prototype={$$new:function(){return h(this,c(new M,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=g(M.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),u(t,function(t){u(g(t),function(t){-1===m(e,t)&&-1===m(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return u(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return u(i.$$keys(),function(r){var o=e&&e[r],a=t&&t[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var i,r,o,a,s,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],(o=e[l[i]])!==n&&null!==o||!r.isOptional);i++){if(a=r.type.$normalize(o),!r.type.is(a))return!1;if(s=r.type.encode(a),t.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=M}),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),D.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",D),_.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",_).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),M.$inject=[],t.module("ui.router.state").provider("$view",M),t.module("ui.router.state").provider("$uiViewScroll",function(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}),T.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],O.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",T),t.module("ui.router.state").directive("uiView",O),N.$inject=["$state","$timeout"],F.$inject=["$state","$timeout"],G.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",N).directive("uiSrefActive",G).directive("uiSrefActiveEq",G).directive("uiState",F),V.$inject=["$state"],H.$inject=["$state"],t.module("ui.router.state").filter("isState",V).filter("includedByState",H)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,o,a){var s=n(a.expanding),l=n(a.expanded),u=n(a.collapsing),c=n(a.collapsed);function d(){o.removeClass("collapsing").addClass("collapse").css({height:"auto"}),l(i)}function p(){o.css({height:"0"}),o.removeClass("collapsing").addClass("collapse"),c(i)}i.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),i.$watch(a.uibCollapse,function(n){n?function(){if(!o.hasClass("collapse")&&!o.hasClass("in"))return p();t.resolve(u(i)).then(function(){o.css({height:o[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(o,{removeClass:"in",to:{height:"0"}}).start().finally(p):e.removeClass(o,"in",{to:{height:"0"}}).then(p)})}():o.hasClass("collapse")&&o.hasClass("in")||t.resolve(s(i)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(o,{addClass:"in",easing:"ease",to:{height:o[0].scrollHeight+"px"}}).start().finally(d):e.addClass(o,"in",{to:{height:o[0].scrollHeight+"px"}}).then(d)})})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var r="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=r+"-tab",e.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.uibAccordionTransclude]},function(e){if(e){var n=angular.element(t[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));n.html(""),n.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,i){e.closeable=!!t.close;var r=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;r&&i(function(){e.close()},parseInt(r,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,r){var o=r[0],a=r[1],s=e(i.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!i.disabled){var e=n.hasClass(o.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){a.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),a.$render()})}}),i.uibUncheckable&&t.$watch(s,function(e){i.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){var r=i[0],o=i[1];function a(){return s(n.btnCheckboxTrue,!0)}function s(t,n){return angular.isDefined(t)?e.$eval(t):n}t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(r.activeClass,angular.equals(o.$modelValue,a()))},t.on(r.toggleEvent,function(){n.disabled||e.$apply(function(){o.$setViewValue(t.hasClass(r.activeClass)?s(n.btnCheckboxFalse,!1):a()),o.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,i,r){var o,a,s=this,l=s.slides=e.slides=[],u="uib-slideDirection",c=e.active,d=[],p=!1;function h(){for(;d.length;)d.shift()}function f(e){for(var t=0;t<l.length;t++)l[t].slide.active=t===e}function g(e){for(var t=0;t<l.length;t++)if(l[t].slide===e)return t}function m(){o&&(n.cancel(o),o=null)}function v(){m();var t=+e.interval;!isNaN(t)&&t>0&&(o=n(y,t))}function y(){var t=+e.interval;a&&!isNaN(t)&&t>0&&l.length?e.next():e.pause()}s.addSlide=function(t,n){l.push({slide:t,element:n}),l.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===l.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),c=t.index,e.active=t.index,f(c),s.select(l[g(t)]),1===l.length&&e.play())},s.getCurrentIndex=function(){for(var e=0;e<l.length;e++)if(l[e].slide.index===c)return e},s.next=e.next=function(){var t=(s.getCurrentIndex()+1)%l.length;if(0!==t||!e.noWrap())return s.select(l[t],"next");e.pause()},s.prev=e.prev=function(){var t=s.getCurrentIndex()-1<0?l.length-1:s.getCurrentIndex()-1;if(!e.noWrap()||t!==l.length-1)return s.select(l[t],"prev");e.pause()},s.removeSlide=function(t){var n=g(t),i=d.indexOf(l[n]);-1!==i&&d.splice(i,1),l.splice(n,1),l.length>0&&c===n?n>=l.length?(c=l.length-1,e.active=c,f(c),s.select(l[l.length-1])):(c=n,e.active=c,f(c),s.select(l[n])):c>n&&(c--,e.active=c),0===l.length&&(c=null,e.active=null,h())},s.select=e.select=function(n,i){var o=g(n.slide);void 0===i&&(i=o>s.getCurrentIndex()?"next":"prev"),n.slide.index===c||e.$currentTransition?n&&n.slide.index!==c&&e.$currentTransition&&d.push(l[o]):function n(i,o,a){if(p)return;angular.extend(i,{direction:a});angular.extend(l[c].slide||{},{direction:a});if(r.enabled(t)&&!e.$currentTransition&&l[o].element&&s.slides.length>1){l[o].element.data(u,i.direction);var g=s.getCurrentIndex();angular.isNumber(g)&&l[g].element&&l[g].element.data(u,i.direction),e.$currentTransition=!0,r.on("addClass",l[o].element,function(t,i){if("close"===i&&(e.$currentTransition=null,r.off("addClass",t),d.length)){var o=d.pop().slide,a=o.index,l=a>s.getCurrentIndex()?"next":"prev";h(),n(o,a,l)}})}e.active=i.index;c=i.index;f(o);v()}(n.slide,o,i)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===l.length-1&&e.noWrap()},e.pause=function(){e.noPause||(a=!1,m())},e.play=function(){a||(a=!0,v())},e.$on("$destroy",function(){p=!0,m()}),e.$watch("noTransition",function(e){r.enabled(t,!e)}),e.$watch("interval",v),e.$watchCollection("slides",function(t){t.length||(e.$currentTransition=null,h())}),e.$watch("active",function(e){if(angular.isNumber(e)&&c!==e){for(var t=0;t<l.length;t++)if(l[t].slide.index===e){e=t;break}l[e]&&(f(e),s.select(l[e]),c=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)})}}}).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}return{beforeAddClass:function(n,i,r){if("active"===i){var o=n.data("uib-slideDirection"),a="next"===o?"left":"right",s=t.bind(this,n,a+" "+o,r);return n.addClass(o),e(n,{addClass:a}).start().done(s),function(){!0}}r()},beforeRemoveClass:function(n,i,r){if("active"===i){var o="next"===n.data("uib-slideDirection")?"left":"right",a=t.bind(this,n,o,r);return e(n,{addClass:o}).start().done(a),function(){!0}}r()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(e,t,n,i){var r,o,a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function s(e,t){var n=[],r=e.split(""),a=e.indexOf("'");if(a>-1){var s=!1;e=e.split("");for(var l=a;l<e.length;l++)s?("'"===e[l]&&(l+1<e.length&&"'"===e[l+1]?(e[l+1]="$",r[l+1]=""):(r[l]="",s=!1)),e[l]="$"):"'"===e[l]&&(e[l]="$",r[l]="",s=!0);e=e.join("")}return angular.forEach(o,function(i){var o=e.indexOf(i.key);if(o>-1){e=e.split(""),r[o]="("+i.regex+")",e[o]="$";for(var a=o+1,s=o+i.key.length;a<s;a++)r[a]="",e[a]="$";e=e.join(""),n.push({index:o,key:i.key,apply:i[t],matcher:i.regex})}}),{regex:new RegExp("^"+r.join("")+"$"),map:i(n,"index")}}function l(e){return parseInt(e,10)}function u(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function c(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function d(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return c(e,n*(u(t,i)-i))}this.init=function(){r=t.id,this.parsers={},this.formatters={},o=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],i=t[2],r=t[3];this.hours+=l(n+i),this.minutes+=l(n+r)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}]},this.init(),this.filter=function(e,n){if(!angular.isDate(e)||isNaN(e)||!n)return"";n=t.DATETIME_FORMATS[n]||n,t.id!==r&&this.init(),this.formatters[n]||(this.formatters[n]=s(n,"formatter"));var i=this.formatters[n].map,o=n;return i.reduce(function(t,n,r){var a=o.match(new RegExp("(.*)"+n.key));a&&angular.isString(a[1])&&(t+=a[1],o=o.replace(a[1]+n.key,""));var s=r===i.length-1?o:"";return n.apply?t+n.apply.call(null,e)+s:t+s},"")},this.parse=function(n,i,o){if(!angular.isString(n)||!i)return n;i=(i=t.DATETIME_FORMATS[i]||i).replace(a,"\\$&"),t.id!==r&&this.init(),this.parsers[i]||(this.parsers[i]=s(i,"apply"));var l=this.parsers[i],u=l.regex,c=l.map,d=n.match(u),p=!1;if(d&&d.length){var h,f;angular.isDate(o)&&!isNaN(o.getTime())?h={year:o.getFullYear(),month:o.getMonth(),date:o.getDate(),hours:o.getHours(),minutes:o.getMinutes(),seconds:o.getSeconds(),milliseconds:o.getMilliseconds()}:(o&&e.warn("dateparser:","baseDate is not a valid date"),h={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var g=1,m=d.length;g<m;g++){var v=c[g-1];"Z"===v.matcher&&(p=!0),v.apply&&v.apply.call(h,d[g])}var y=p?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,b=p?Date.prototype.setUTCHours:Date.prototype.setHours;return function(e,t,n){if(n<1)return!1;if(1===t&&n>28)return 29===n&&(e%4==0&&e%100!=0||e%400==0);if(3===t||5===t||8===t||10===t)return n<31;return!0}(h.year,h.month,h.date)&&(!angular.isDate(o)||isNaN(o.getTime())||p?(f=new Date(0),y.call(f,h.year,h.month,h.date),b.call(f,h.hours||0,h.minutes||0,h.seconds||0,h.milliseconds||0)):(f=new Date(o),y.call(f,h.year,h.month,h.date),b.call(f,h.hours,h.minutes,h.seconds,h.milliseconds))),f}},this.toTimezone=function(e,t){return e&&t?d(e,t):e},this.fromTimezone=function(e,t){return e&&t?d(e,t,!0):e},this.timezoneToOffset=u,this.addDateMinutes=c,this.convertTimezoneToLocal=d}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){var o=[],a=[],s={},l=r.uibIsClass.match(t),u=l[2],c=l[1].split(",");return function(t,i,r){o.push(t),a.push({scope:t,element:i}),c.forEach(function(i,r){!function(t,i){var r=t.match(n),o=i.$eval(r[1]),l=r[2],c=s[t];if(!c){var d=function(t){var n=null;a.some(function(e){var i=e.scope.$eval(u);if(i===t)return n=e,!0}),c.lastActivated!==n&&(c.lastActivated&&e.removeClass(c.lastActivated.element,o),n&&e.addClass(n.element,o),c.lastActivated=n)};s[t]=c={lastActivated:null,scope:i,watchFn:d,compareWithExp:l,watcher:i.$watch(l,d)}}c.watchFn(i.$eval(l))}(i,t)}),t.$on("$destroy",d)};function d(e){var t=e.targetScope,n=o.indexOf(t);if(o.splice(n,1),a.splice(n,1),o.length){var i=o[0];angular.forEach(s,function(e){e.scope===t&&(e.watcher=i.$watch(e.compareWithExp,e.watchFn),e.scope=i)})}else s={}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,i,r,o,a,s,l,u,c){var d=this,p={$setViewValue:angular.noop},h={},f=[];t.datepickerOptions;e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:s.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":d[t]=angular.isDefined(e.datepickerOptions[t])?i(e.datepickerOptions[t])(e.$parent):s[t];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":d[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:s[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?d.startingDay=e.datepickerOptions.startingDay:angular.isNumber(s.startingDay)?d.startingDay=s.startingDay:d.startingDay=(r.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?d[t]=c.fromTimezone(new Date(e),h.timezone):(l&&o.warn("Literal date support has been deprecated, please switch to date object usage"),d[t]=new Date(a(e,"medium"))):d[t]=s[t]?c.fromTimezone(new Date(s[t]),h.timezone):null,d.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){d[t]=e[t]=angular.isDefined(n)?n:datepickerOptions[t],("minMode"===t&&d.modes.indexOf(e.datepickerOptions.datepickerMode)<d.modes.indexOf(d[t])||"maxMode"===t&&d.modes.indexOf(e.datepickerOptions.datepickerMode)>d.modes.indexOf(d[t]))&&(e.datepickerMode=d[t],e.datepickerOptions.datepickerMode=d[t])}):d[t]=e[t]=s[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(t.disabled)||!1,angular.isDefined(t.ngDisabled)&&f.push(e.$parent.$watch(t.ngDisabled,function(t){e.disabled=t,d.refreshView()})),e.isActive=function(t){return 0===d.compare(t.date,d.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){p=t,h=t.$options||s.ngModelOptions,e.datepickerOptions.initDate?(d.activeDate=c.fromTimezone(e.datepickerOptions.initDate,h.timezone)||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(d.activeDate=c.fromTimezone(e,h.timezone),d.refreshView())})):d.activeDate=new Date;var n=p.$modelValue?new Date(p.$modelValue):new Date;this.activeDate=isNaN(n)?c.fromTimezone(new Date,h.timezone):c.fromTimezone(n,h.timezone),p.$render=function(){d.render()}},this.render=function(){if(p.$viewValue){var e=new Date(p.$viewValue);!isNaN(e)?this.activeDate=c.fromTimezone(e,h.timezone):u||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=p.$viewValue?new Date(p.$viewValue):null;t=c.fromTimezone(t,h.timezone),p.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var i=p.$viewValue?new Date(p.$viewValue):null;i=c.fromTimezone(i,h.timezone);var r=new Date;r=c.fromTimezone(r,h.timezone);var o=this.compare(t,r),a={date:t,label:c.filter(t,n),selected:i&&0===this.compare(t,i),disabled:this.isDisabled(t),past:o<0,current:0===o,future:o>0,customClass:this.customClass(t)||null};return i&&0===this.compare(t,i)&&(e.selectedDt=a),d.activeDate&&0===this.compare(a.date,d.activeDate)&&(e.activeDt=a),a},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===d.minMode){var n=p.$viewValue?c.fromTimezone(new Date(p.$viewValue),h.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=c.toTimezone(n,h.timezone),p.$setViewValue(n),p.$render()}else d.activeDate=t,g(d.modes[d.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=d.activeDate.getFullYear()+e*(d.step.years||0),n=d.activeDate.getMonth()+e*(d.step.months||0);d.activeDate.setFullYear(t,n,1),d.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===d.maxMode&&1===t||e.datepickerMode===d.minMode&&-1===t||(g(d.modes[d.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function g(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}e.$on("uib:datepicker.focus",function(){d.element[0].focus()}),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),d.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(d.isDisabled(d.activeDate))return;e.select(d.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(d.handleKeyDown(n,t),d.refreshView()):e.toggleMode("up"===n?1:-1)},e.$on("$destroy",function(){for(;f.length;)f.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){var i=[31,28,31,30,31,30,31,31,30,31,30,31];function r(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?i[t]:29}function o(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),r=new Date(e),o=0;o<t;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),r=new Date(this.activeDate);r.setFullYear(t,i,1);var a=this.startingDay-r.getDay(),s=a>0?7-a:-a,l=new Date(r);s>0&&l.setDate(1-s);for(var u=this.getDates(l,42),c=0;c<42;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==i,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var d=0;d<7;d++)e.labels[d]={abbr:n(u[d].date,this.formatDayHeader),full:n(u[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,h=e.rows.length,f=0;f<h;f++)e.weekNumbers.push(o(e.rows[f][p].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),r=this.activeDate.getFullYear(),o=0;o<12;o++)(t=new Date(this.activeDate)).setFullYear(r,o,1),i[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,3)},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){var i,r;function o(e){return parseInt((e-1)/r,10)*r+1}this.element=t,this.yearpickerInit=function(){i=this.yearColumns,r=this.yearRows*i,this.step={years:r}},this._refreshView=function(){for(var t,n=new Array(r),a=0,s=o(this.activeDate.getFullYear());a<r;a++)(t=new Date(this.activeDate)).setFullYear(s+a,0,1),n[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[r-1].label].join(" - "),e.rows=this.split(n,i),e.columns=i},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=i:"right"===e?n+=1:"down"===e?n+=i:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*r:"home"===e?n=o(this.activeDate.getFullYear()):"end"===e&&(n=o(this.activeDate.getFullYear())+r-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){var i,r=(n=this.getRawNode(n)).offsetParent||e[0].documentElement;for(;r&&r!==e[0].documentElement&&(i=r,"static"===(t.getComputedStyle(i).position||"static"));)r=r.offsetParent;return r||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-o[0].clientWidth,i=isFinite(i)?i:0,o.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(o,a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:i+s,originalRight:i,heightOverflow:o.scrollHeight>o.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?r.hidden:r.normal,o=t.getComputedStyle(e);return i.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,i,o){n=this.getRawNode(n);var a=i?r.hidden:r.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var u="absolute"===l.position,c=n.parentElement||s;if(c===s||"fixed"===l.position)return s;for(;c.parentElement&&c!==s;){var d=t.getComputedStyle(c);if(u&&"static"!==d.position&&(u=!1),!u&&a.test(d.overflow+d.overflowY+d.overflowX))break;c=c.parentElement}return c},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var o=t.getComputedStyle(n);r.top-=this.parseStyle(o.marginTop),r.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==e[0].documentElement&&((s=this.offset(a)).top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){var i=(n=this.getRawNode(n)).getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){r=!1!==r;var o=(n=this.getRawNode(n)).getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=i?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,r){var u=t.getComputedStyle(s);a.top+=this.parseStyle(u.paddingTop),a.bottom-=this.parseStyle(u.paddingBottom),a.left+=this.parseStyle(u.paddingLeft),a.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),(e=e.split("-"))[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,i,r){e=this.getRawNode(e),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=r?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(i[2]){var c=this.viewportOffset(e,r),d=t.getComputedStyle(n),p={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(i[0]="top"===i[0]&&p.height>c.top&&p.height<=c.bottom?"bottom":"bottom"===i[0]&&p.height>c.bottom&&p.height<=c.top?"top":"left"===i[0]&&p.width>c.left&&p.width<=c.right?"right":"right"===i[0]&&p.width>c.right&&p.width<=c.left?"left":i[0],i[1]="top"===i[1]&&p.height-l.height>c.bottom&&p.height-l.height<=c.top?"bottom":"bottom"===i[1]&&p.height-l.height>c.top&&p.height-l.height<=c.bottom?"top":"left"===i[1]&&p.width-l.width>c.right&&p.width-l.width<=c.left?"right":"right"===i[1]&&p.width-l.width>c.left&&p.width-l.width<=c.right?"left":i[1],"center"===i[1])if(o.vertical.test(i[0])){var h=l.width/2-a/2;c.left+h<0&&p.width-l.width<=c.right?i[1]="left":c.right+h<0&&p.width-l.width<=c.left&&(i[1]="right")}else{var f=l.height/2-p.height/2;c.top+f<0&&p.height-l.height<=c.bottom?i[1]="top":c.bottom+f<0&&p.height-l.height<=c.top&&(i[1]="bottom")}}switch(i[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-a;break;case"right":u.left=l.left+l.width}switch(i[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-a;break;case"center":o.vertical.test(i[0])?u.left=l.left+l.width/2-a/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],u},positionArrow:function(e,n){var i=(e=this.getRawNode(e)).querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),a=r?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if("center"!==(n=this.parsePlacement(n))[1]){var l="border-"+n[0]+"-width",u=t.getComputedStyle(a)[l],c="border-";o.vertical.test(n[0])?c+=n[0]+"-"+n[1]:c+=n[1]+"-"+n[0],c+="-radius";var d=t.getComputedStyle(r?i:e)[c];switch(n[0]){case"top":s.bottom=r?"0":"-"+u;break;case"bottom":s.top=r?"0":"-"+u;break;case"left":s.right=r?"0":"-"+u;break;case"right":s.left=r?"0":"-"+u}s[n[1]]=d,angular.element(a).css(s)}else angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,i,r,o,a,s,l,u,c,d,p,h,f,g){var m,v,y,b,w,$,C,S,x,E,k,D,_,M,T=!1,O=[];function A(t){var n=d.parse(t,m,e.date);if(isNaN(n))for(var i=0;i<_.length;i++)if(n=d.parse(t,_[i],e.date),!isNaN(n))return n;return n}function P(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=A(e);if(!isNaN(t))return d.toTimezone(t,M)}return E.$options&&E.$options.allowInvalid?e:void 0}function I(e,t){var i=e||t;return!n.ngRequired&&!i||(angular.isNumber(i)&&(i=new Date(i)),!i||(!(!angular.isDate(i)||isNaN(i))||!!angular.isString(i)&&!isNaN(A(t))))}function R(n){if(e.isOpen||!e.disabled){var i=D[0],r=t[0].contains(n.target),o=void 0!==i.contains&&i.contains(n.target);!e.isOpen||r||o||e.$apply(function(){e.isOpen=!1})}}function L(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function N(){if(e.isOpen){var i=angular.element(D[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:p.placement,o=u.positionElements(t,i,r,y);i.css({top:o.top+"px",left:o.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}this.init=function(r){if(E=r,k=r.$options,v=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,y=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,b=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):p.onOpenFocus,w=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,$=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,_=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):p.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(m=p.html5Types[n.type],T=!0):(m=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||p.datepickerPopup;if(n!==m&&(m=n,E.$modelValue=null,!m))throw new Error("uibDatepickerPopup must have a date format specified.")})),!m)throw new Error("uibDatepickerPopup must have a date format specified.");if(T&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");C=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),k?(M=k.timezone,e.ngModelOptions=angular.copy(k),e.ngModelOptions.timezone=null,!0===e.ngModelOptions.updateOnDefault&&(e.ngModelOptions.updateOn=e.ngModelOptions.updateOn?e.ngModelOptions.updateOn+" default":"default"),C.attr("ng-model-options","ngModelOptions")):M=null,C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":w}),(S=angular.element(C.children()[0])).attr("template-url",$),e.datepickerOptions||(e.datepickerOptions={}),T&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),S.attr("datepicker-options","datepickerOptions"),T?E.$formatters.push(function(t){return e.date=d.fromTimezone(t,M),t}):(E.$$parserName="date",E.$validators.date=I,E.$parsers.unshift(P),E.$formatters.push(function(t){return E.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,M),d.filter(e.date,m))})),E.$viewChangeListeners.push(function(){e.date=A(E.$viewValue)}),t.on("keydown",L),D=i(C)(e),C.remove(),y?s.find("body").append(D):t.after(D),e.$on("$destroy",function(){for(!0===e.isOpen&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),D.remove(),t.off("keydown",L),s.off("click",R),x&&x.off("scroll",N),angular.element(a).off("resize",N);O.length;)O.shift()()})},e.getText=function(t){return e[t+"Text"]||p[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,M));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=d.fromTimezone(new Date(e.datepickerOptions[t]),M):(g&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(c(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var i=e.date?d.filter(e.date,m):null;t.val(i),E.$setViewValue(i),v&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var i=new Date;angular.isDate(e.date)?(t=new Date(e.date)).setFullYear(i.getFullYear(),i.getMonth(),i.getDate()):t=new Date(i.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&O.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(i){i?e.disabled?e.isOpen=!1:h(function(){N(),b&&e.$broadcast("uib:datepicker.focus"),s.on("click",R);var i=n.popupPlacement?n.popupPlacement:p.placement;y||u.parsePlacement(i)[2]?(x=x||angular.element(u.scrollParent(t)))&&x.on("scroll",N):x=null,angular.element(a).on("resize",N)},0,!1):(s.off("click",R),x&&x.off("scroll",N),angular.element(a).off("resize",N))}),e.$on("uib:datepicker.mode",function(){h(N,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var i;return function(){var r=this,o=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e(function(){t.apply(r,o)},n)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t,o){n||(e.on("click",i),o.on("keydown",r)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t,o){n===t&&(n=null,e.off("click",i),o.off("keydown",r))};var i=function(e){if(n&&!(e&&"disabled"===n.getAutoClose()||e&&3===e.which)){var i=n.getToggleElement();if(!(e&&i&&i[0].contains(e.target))){var r=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},r=function(e){27===e.which?(e.stopPropagation(),n.focusToggleElement(),i()):n.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,r,o,a,s,l,u,c){var d,p,h=this,f=e.$new(),g=r.appendToOpenClass,m=r.openClass,v=angular.noop,y=n.onToggle?i(n.onToggle):angular.noop,b=!1,w=null,$=!1,C=l.find("body");t.addClass("dropdown"),this.init=function(){if(n.isOpen&&(p=i(n.isOpen),v=p.assign,e.$watch(p,function(e){f.isOpen=!!e})),angular.isDefined(n.dropdownAppendTo)){var r=i(n.dropdownAppendTo)(f);r&&(w=angular.element(r))}b=angular.isDefined(n.dropdownAppendToBody),$=angular.isDefined(n.keyboardNav),b&&!w&&(w=C),w&&h.dropdownMenu&&(w.append(h.dropdownMenu),t.on("$destroy",function(){h.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen,angular.isFunction(v)&&v(f,f.isOpen),f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return h.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return $},f.focusDropdownEntry=function(e){var n=h.dropdownMenu?angular.element(h.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(h.selectedOption)?h.selectedOption=h.selectedOption===n.length-1?h.selectedOption:h.selectedOption+1:h.selectedOption=0;break;case 38:angular.isNumber(h.selectedOption)?h.selectedOption=0===h.selectedOption?0:h.selectedOption-1:h.selectedOption=n.length-1}n[h.selectedOption].focus()},f.getDropdownElement=function(){return h.dropdownMenu},f.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},f.$watch("isOpen",function(n,i){if(w&&h.dropdownMenu){var r,l,p,$=s.positionElements(t,h.dropdownMenu,"bottom-left",!0);if(r={top:$.top+"px",display:n?"block":"none"},(l=h.dropdownMenu.hasClass("dropdown-menu-right"))?(r.left="auto",p=s.scrollbarWidth(!0),r.right=window.innerWidth-p-($.left+t.prop("offsetWidth"))+"px"):(r.left=$.left+"px",r.right="auto"),!b){var C=s.offset(w);r.top=$.top-C.top+"px",l?r.right=window.innerWidth-($.left-C.left+t.prop("offsetWidth"))+"px":r.left=$.left-C.left+"px"}h.dropdownMenu.css(r)}var S=w||t;if(S.hasClass(w?g:m)===!n&&a[n?"addClass":"removeClass"](S,w?g:m).then(function(){angular.isDefined(n)&&n!==i&&y(e,{open:!!n})}),n)h.dropdownMenuTemplateUrl&&c(h.dropdownMenuTemplateUrl).then(function(e){d=f.$new(),u(e.trim())(d,function(e){var t=e;h.dropdownMenu.replaceWith(t),h.dropdownMenu=t})}),f.focusToggleElement(),o.open(f,t);else{if(h.dropdownMenuTemplateUrl){d&&d.$destroy();var x=angular.element('<ul class="dropdown-menu"></ul>');h.dropdownMenu.replaceWith(x),h.dropdownMenu=x}o.close(f,t),h.selectedOption=null}angular.isFunction(v)&&v(e,n)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",r)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var i=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,o,a){if(i)return i.resolve(e,r,o,a);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},i=0;return angular.forEach(e,function(e,r){n[r]=t[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),i}};function i(t,i,r){r.modalInClass&&(e.addClass(i,r.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();t.modalOptions.animation?e.removeClass(i,r.modalInClass).then(a):a()}))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,i){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,o,a){o.addClass(a.windowClass||""),o.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",r.close),r.$isRendered=!0;var s=t.defer();a.$observe("modalRender",function(e){"true"===e&&s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();n(o,{removeClass:a.modalInClass}).start().then(i)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!o[0].contains(i[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,i,r,o,a,s,l){var u,c,d,p="modal-open",h=s.createNew(),f=a.createNew(),g={NOW_CLOSING_EVENT:"modal.stack.now-closing"},m=0,v=null;function y(){for(var e=-1,t=h.keys(),n=0;n<t.length;n++)h.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<m&&(e=m),e}function b(e,t){var n=h.get(e).value,i=n.appendTo;h.remove(e),(v=h.top())&&(m=parseInt(v.value.modalDomEl.attr("index"),10)),$(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||p;f.remove(t,e);var r=f.hasKey(t);i.toggleClass(t,r),!r&&d&&d.heightOverflow&&d.scrollbarWidth&&(d.originalRight?i.css({paddingRight:d.originalRight+"px"}):i.css({paddingRight:""}),d=null),w(!0)},n.closedDeferred),function(){if(u&&-1===y()){$(u,c,function(){null}),u=void 0,c=void 0}}(),t&&t.focus?t.focus():i.focus&&i.focus()}function w(e){var t;h.length()>0&&(t=h.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function $(t,n,i,r){var a,s=null;return n.$broadcast(g.NOW_CLOSING_EVENT,function(){return a||(a=o.defer(),s=a.promise),function(){a.resolve()}}),o.when(s).then(function o(){if(o.done)return;o.done=!0;e.leave(t).then(function(){t.remove(),r&&r.resolve()});n.$destroy();i&&i()})}function C(e){if(e.isDefaultPrevented())return e;var t=h.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply(function(){g.dismiss(t.key,"escape key press")}));break;case 9:var n=g.loadFocusElementList(t),i=!1;e.shiftKey?(g.isFocusInFirstItem(e,n)||g.isModalFocused(e,t))&&(i=g.focusLastFocusableElement(n)):g.isFocusInLastItem(e,n)&&(i=g.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function S(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}return r.$watch(y,function(e){c&&(c.index=e)}),n.on("keydown",C),r.$on("$destroy",function(){n.off("keydown",C)}),g.open=function(t,o){var a=n[0].activeElement,s=o.openedClass||p;w(!1),v=h.top(),h.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),f.put(s,t);var g=o.appendTo,b=y();if(!g.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");b>=0&&!u&&((c=r.$new(!0)).modalOptions=o,c.index=b,(u=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr("backdrop-class",o.backdropClass),o.animation&&u.attr("modal-animation","true"),i(u)(c),e.enter(u,g),(d=l.scrollbarPadding(g)).heightOverflow&&d.scrollbarWidth&&g.css({paddingRight:d.right+"px"})),m=v?parseInt(v.value.modalDomEl.attr("index"),10)+1:0;var $=angular.element('<div uib-modal-window="modal-window"></div>');$.attr({"template-url":o.windowTemplateUrl,"window-class":o.windowClass,"window-top-class":o.windowTopClass,size:o.size,index:m,animate:"animate"}).html(o.content),o.animation&&$.attr("modal-animation","true"),g.addClass(s),e.enter(i($)(o.scope),g),h.top().value.modalDomEl=$,h.top().value.modalOpener=a},g.close=function(e,t){var n=h.get(e);return n&&S(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),b(e,n.value.modalOpener),!0):!n},g.dismiss=function(e,t){var n=h.get(e);return n&&S(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),b(e,n.value.modalOpener),!0):!n},g.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},g.getTop=function(){return h.top()},g.modalRendered=function(e){var t=h.get(e);t&&t.value.renderDeferred.resolve()},g.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},g.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},g.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},g.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},g.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},g.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)}):n}}},g}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,i,r,o,a,s){var l={};var u=null;return l.getPromiseChain=function(){return u},l.open=function(l){var c=n.defer(),d=n.defer(),p=n.defer(),h=n.defer(),f={result:c.promise,opened:d.promise,closed:p.promise,rendered:h.promise,close:function(e){return s.close(f,e)},dismiss:function(e){return s.dismiss(f,e)}};if((l=angular.extend({},e.options,l)).resolve=l.resolve||{},l.appendTo=l.appendTo||i.find("body").eq(0),!l.template&&!l.templateUrl)throw new Error("One of template or templateUrl options is required.");var g,m,v=n.all([(g=l,g.template?n.when(g.template):r(angular.isFunction(g.templateUrl)?g.templateUrl():g.templateUrl)),a.resolve(l.resolve,{},null,null)]);function y(){return v}return m=u=n.all([u]).then(y,y).then(function(e){var n=l.scope||t,i=n.$new();i.$close=f.close,i.$dismiss=f.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var r,a,u={};l.controller&&(u.$scope=i,u.$scope.$resolve={},u.$uibModalInstance=f,angular.forEach(e[1],function(e,t){u[t]=e,u.$scope.$resolve[t]=e}),a=o(l.controller,u,!0,l.controllerAs),l.controllerAs&&l.bindToController&&((r=a.instance).$close=i.$close,r.$dismiss=i.$dismiss,angular.extend(r,{$resolve:u.$scope.$resolve},n)),r=a(),angular.isFunction(r.$onInit)&&r.$onInit()),s.open(f,{scope:i,deferred:c,renderDeferred:h,closedDeferred:p,content:e[0],animation:l.animation,backdrop:l.backdrop,keyboard:l.keyboard,backdropClass:l.backdropClass,windowTopClass:l.windowTopClass,windowClass:l.windowClass,windowTemplateUrl:l.windowTemplateUrl,size:l.size,openedClass:l.openedClass,appendTo:l.appendTo}),d.resolve(!0)},function(e){d.reject(e),c.reject(e)}).finally(function(){u===m&&(u=null)}),f},l}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,i){t.setNumPages=i.numPages?e(i.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,r){t.ngModelCtrl=e,t.config=r,e.$render=function(){t.render()},i.itemsPerPage?t._watchers.push(n.$parent.$watch(i.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",function(e,i){(angular.isDefined(e)||e!==i)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,i){i&&i.preventDefault(),(!n.ngDisabled||!i)&&n.page!==e&&e>0&&e<=n.totalPages&&(i&&i.target&&i.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(t,n,i,r){var o=r[0],a=r[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,i,r){var o=this,a=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):r.maxSize,s=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):r.rotate,l=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):r.forceEllipses,u=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):r.boundaryLinkNumbers,c=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;function d(e,t,n){return{number:e,text:t,active:n}}e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):r.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):r.directionLinks,i.create(this,e,t),t.maxSize&&o._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){a=parseInt(e,10),o.render()}));var p=this.render;this.render=function(){p(),e.page>0&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],i=1,r=t,o=angular.isDefined(a)&&a<t;o&&(s?(r=(i=Math.max(e-Math.floor(a/2),1))+a-1)>t&&(i=(r=t)-a+1):(i=(Math.ceil(e/a)-1)*a+1,r=Math.min(i+a-1,t)));for(var p=i;p<=r;p++){var h=d(p,c(p),p===e);n.push(h)}if(o&&a>0&&(!s||l||u)){if(i>1){if(!u||i>3){var f=d(i-1,"...",!1);n.unshift(f)}if(u){if(3===i){var g=d(2,"2",!1);n.unshift(g)}var m=d(1,"1",!1);n.unshift(m)}}if(r<t){if(!u||r<t-2){var v=d(r+1,"...",!1);n.push(v)}if(u){if(r===t-2){var y=d(t-1,t-1,!1);n.push(y)}var b=d(t,t,!1);n.push(b)}}}return n}(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(e,n,i,r){var o=r[0],a=r[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},t={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(e){angular.extend(t,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,r,o,a,s,l,u,c,d){var p=d.createNew();function h(e){if(27===e.which){var t=p.top();t&&(t.value.close(),p.removeTop(),t=null)}}return a.on("keypress",h),u.$on("$destroy",function(){a.off("keypress",h)}),function(i,u,d,h){function f(e){var n=(e||h.trigger||d).split(" ");return{show:n,hide:n.map(function(e){return t[e]||e})}}h=angular.extend({},e,n,h);var g=i.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}),m=l.startSymbol(),v=l.endSymbol(),y="<div "+g+'-popup uib-title="'+m+"title"+v+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+v+'" ')+'placement="'+m+"placement"+v+'" popup-class="'+m+"popupClass"+v+'" animation="animation" is-open="isOpen" origin-scope="origScope" class="uib-position-measure"></div>';return{compile:function(e,t){var n=r(y);return function(e,t,r,l){var d,g,m,v,y,b,w,$=!!angular.isDefined(h.appendToBody)&&h.appendToBody,C=f(void 0),S=angular.isDefined(r[u+"Enable"]),x=e.$new(!0),E=!1,k=!!angular.isDefined(r[u+"IsOpen"])&&c(r[u+"IsOpen"]),D=!!h.useContentExp&&c(r[i]),_=[],M=function(){d&&d.html()&&(b||(b=o(function(){var e=s.positionElements(t,d,x.placement,$);d.css({top:e.top+"px",left:e.left+"px"}),d.hasClass(e.placement.split("-")[0])||(d.removeClass(w.split("-")[0]),d.addClass(e.placement.split("-")[0])),d.hasClass(h.placementClassPrefix+e.placement)||(d.removeClass(h.placementClassPrefix+w),d.addClass(h.placementClassPrefix+e.placement)),d.hasClass("uib-position-measure")?(s.positionArrow(d,e.placement),d.removeClass("uib-position-measure")):w!==e.placement&&s.positionArrow(d,e.placement),w=e.placement,b=null},0,!1)))};function T(){x.isOpen?A():O()}function O(){S&&!e.$eval(r[u+"Enable"])||(L(),function(){x.title=r[u+"Title"],x.content=D?D(e):r[i];x.popupClass=r[u+"Class"],x.placement=angular.isDefined(r[u+"Placement"])?r[u+"Placement"]:h.placement;var t=s.parsePlacement(x.placement);w=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(r[u+"PopupDelay"],10),o=parseInt(r[u+"PopupCloseDelay"],10);x.popupDelay=isNaN(n)?h.popupDelay:n,x.popupCloseDelay=isNaN(o)?h.popupCloseDelay:o}(),x.popupDelay?v||(v=o(P,x.popupDelay,!1)):P())}function A(){I(),x.popupCloseDelay?y||(y=o(R,x.popupCloseDelay,!1)):R()}function P(){if(I(),L(),!x.content)return angular.noop;!function(){if(d)return;g=x.$new(),d=n(g,function(e){$?a.find("body").append(e):t.after(e)}),function(){_.length=0,D?(_.push(e.$watch(D,function(e){x.content=e,!e&&x.isOpen&&R()})),_.push(g.$watch(function(){E||(E=!0,g.$$postDigest(function(){E=!1,x&&x.isOpen&&M()}))}))):_.push(r.$observe(i,function(e){x.content=e,!e&&x.isOpen?R():M()}));_.push(r.$observe(u+"Title",function(e){x.title=e,x.isOpen&&M()})),_.push(r.$observe(u+"Placement",function(e){x.placement=e||h.placement,x.isOpen&&M()}))}()}(),x.$evalAsync(function(){x.isOpen=!0,F(!0),M()})}function I(){v&&(o.cancel(v),v=null),b&&(o.cancel(b),b=null)}function R(){x&&x.$evalAsync(function(){x&&(x.isOpen=!1,F(!1),x.animation?m||(m=o(N,150,!1)):N())})}function L(){y&&(o.cancel(y),y=null),m&&(o.cancel(m),m=null)}function N(){I(),L(),_.length&&(angular.forEach(_,function(e){e()}),_.length=0),d&&(d.remove(),d=null),g&&(g.$destroy(),g=null)}function F(t){k&&angular.isFunction(k.assign)&&k.assign(e,t)}function G(e){x&&x.isOpen&&d&&(t[0].contains(e.target)||d[0].contains(e.target)||A())}x.origScope=e,x.isOpen=!1,p.add(x,{close:R}),x.contentExp=function(){return x.content},r.$observe("disabled",function(e){e&&I(),e&&x.isOpen&&R()}),k&&e.$watch(k,function(e){x&&!e===x.isOpen&&T()});var V,H=function(){C.show.forEach(function(e){"outsideClick"===e?t.off("click",T):(t.off(e,O),t.off(e,T))}),C.hide.forEach(function(e){"outsideClick"===e?a.off("click",G):t.off(e,A)})};V=r[u+"Trigger"],H(),"none"!==(C=f(V)).show&&C.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",T),a.on("click",G)):e===C.hide[n]?t.on(e,T):e&&(t.on(e,O),t.on(C.hide[n],A)),t.on("keypress",function(e){27===e.which&&A()})});var j,z=e.$eval(r[u+"Animation"]);x.animation=angular.isDefined(z)?!!z:h.animation;var U=u+"AppendToBody";j=U in r&&void 0===r[U]||e.$eval(r[U]),$=angular.isDefined(j)?j:$,e.$on("$destroy",function(){H(),N(),p.remove(x),x=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,o,a){var s,l,u,c=r.$eval(a.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++d;t?(i(t,!0).then(function(i){if(a===d){var r=c.$new(),l=n(i)(r,function(t){p(),e.enter(t,o)});u=l,(s=r).$emit("$includeContentLoaded",t)}},function(){a===d&&(p(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):p()}),r.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var r=e.parsePlacement(t.placement);n.addClass(r[0])}t.popupClass&&n.addClass(t.popupClass),t.animation()&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{uibTitle:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",uibTitle:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{uibTitle:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;function o(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}this.bars=[],e.max=o(),this.addBar=function(e,t,n){r||t.css({transition:"none"}),this.bars.push(e),e.max=o(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){i.bars.forEach(function(e){e.max=o(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){(i=r).$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=r.enableReset&&i.$viewValue===t?0:t;i.$setViewValue(n),i.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue,e.title=r.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t,n,i=this;function r(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}i.tabs=[],i.select=function(e,o){if(!n){var a=r(t),s=i.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var l=i.tabs[e];l?(l.tab.onSelect({$event:o}),l.tab.active=!0,i.active=l.index,t=l.index):!l&&angular.isDefined(t)&&(i.active=null,t=null)}},i.addTab=function(e){if(i.tabs.push({tab:e,index:e.index}),i.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var t=r(e.index);i.select(t)}},i.removeTab=function(e){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===e){t=n;break}if(i.tabs[t].index===i.active){var r=t===i.tabs.length-1?t-1:t+1%i.tabs.length;i.select(r)}i.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==t&&i.select(r(e))}),e.$on("$destroy",function(){n=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,i,r,o){t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),angular.isUndefined(i.index)&&(r.tabs&&r.tabs.length?t.index=Math.max.apply(null,r.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(i.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===t){n=i;break}r.select(n,e)}},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function(e,t,n){var i=e.$eval(n.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){!function(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}(e)?t.append(e):i.headingElement=e})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,r,o,a){var s=new Date,l=[],u={$setViewValue:angular.noop},c=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,d=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){(u=t).$render=this.render,u.$formatters.unshift(function(e){return e?new Date(e):null});var r=i.eq(0),o=i.eq(1),s=i.eq(2);(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(r,o,s),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys)&&this.setupArrowkeyEvents(r,o,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o,s)};var p=a.hourStep;n.hourStep&&l.push(e.$parent.$watch(i(n.hourStep),function(e){p=+e}));var h,f,g=a.minuteStep;n.minuteStep&&l.push(e.$parent.$watch(i(n.minuteStep),function(e){g=+e})),l.push(e.$parent.$watch(i(n.min),function(e){var t=new Date(e);h=isNaN(t)?void 0:t})),l.push(e.$parent.$watch(i(n.max),function(e){var t=new Date(e);f=isNaN(t)?void 0:t}));var m=!1;n.ngDisabled&&l.push(e.$parent.$watch(i(n.ngDisabled),function(e){m=e})),e.noIncrementHours=function(){var e=E(s,60*p);return m||e>f||e<s&&e<h},e.noDecrementHours=function(){var e=E(s,60*-p);return m||e<h||e>s&&e>f},e.noIncrementMinutes=function(){var e=E(s,g);return m||e>f||e<s&&e<h},e.noDecrementMinutes=function(){var e=E(s,-g);return m||e<h||e>s&&e>f},e.noIncrementSeconds=function(){var e=k(s,v);return m||e>f||e<s&&e<h},e.noDecrementSeconds=function(){var e=k(s,-v);return m||e<h||e>s&&e>f},e.noToggleMeridian=function(){return s.getHours()<12?m||E(s,720)>f:m||E(s,-720)<h};var v=a.secondStep;function y(){var t=+e.hours;if((e.showMeridian?t>0&&t<13:t>=0&&t<24)&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===c[1]&&(t+=12)),t}function b(){var t=+e.minutes;if(t>=0&&t<60&&""!==e.minutes)return t}function w(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function $(e){C(),u.$setViewValue(new Date(s)),S(e)}function C(){u.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function S(t){if(u.$modelValue){var n=s.getHours(),i=s.getMinutes(),r=s.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:w(n,!d),"m"!==t&&(e.minutes=w(i)),e.meridian=s.getHours()<12?c[0]:c[1],"s"!==t&&(e.seconds=w(r)),e.meridian=s.getHours()<12?c[0]:c[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=c[0]}function x(e){s=k(s,e),$()}function E(e,t){return k(e,60*t)}function k(e,t){var n=new Date(e.getTime()+1e3*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function D(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}n.secondStep&&l.push(e.$parent.$watch(i(n.secondStep),function(e){v=+e})),e.showSeconds=a.showSeconds,n.showSeconds&&l.push(e.$parent.$watch(i(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=a.showMeridian,n.showMeridian&&l.push(e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,u.$error.time){var n=y(),i=b();angular.isDefined(n)&&angular.isDefined(i)&&(s.setHours(n),$())}else S()})),this.setupMousewheelEvents=function(t,n,i){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){m||e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){m||e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),i.bind("mousewheel wheel",function(t){m||e.$apply(r(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,i){t.bind("keydown",function(t){m||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.bind("keydown",function(t){m||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),i.bind("keydown",function(t){m||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,i){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var r=function(t,n,i){u.$setViewValue(null),u.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n),angular.isDefined(i)&&(e.invalidSeconds=i)};e.updateHours=function(){var e=y(),t=b();u.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(s.setHours(e),s.setMinutes(t),s<h||s>f?r(!0):$("h")):r(!0)},t.bind("blur",function(t){u.$setTouched(),D()?C():null===e.hours||""===e.hours?r(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=w(e.hours,!d)})}),e.updateMinutes=function(){var e=b(),t=y();u.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(s.setHours(t),s.setMinutes(e),s<h||s>f?r(void 0,!0):$("m")):r(void 0,!0)},n.bind("blur",function(t){u.$setTouched(),D()?C():null===e.minutes?r(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=w(e.minutes)})}),e.updateSeconds=function(){var t=function(){var t=+e.seconds;return t>=0&&t<60?t:void 0}();u.$setDirty(),angular.isDefined(t)?(s.setSeconds(t),$("s")):r(void 0,void 0,!0)},i.bind("blur",function(t){D()?C():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=w(e.seconds)})})},this.render=function(){var t=u.$viewValue;isNaN(t)?(u.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(s=t),s<h||s>f?(u.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):C(),S())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||x(60*p*60)},e.decrementHours=function(){e.noDecrementHours()||x(60*-p*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||x(60*g)},e.decrementMinutes=function(){e.noDecrementMinutes()||x(60*-g)},e.incrementSeconds=function(){e.noIncrementSeconds()||x(v)},e.decrementSeconds=function(){e.noDecrementSeconds()||x(-v)},e.toggleMeridian=function(){var t=b(),n=y();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?x(720*(s.getHours()<12?60:-60)):e.meridian=e.meridian===c[0]?c[1]:c[0])},e.blur=function(){u.$setTouched()},e.$on("$destroy",function(){for(;l.length;)l.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,i,r,o,a,s,l,u,c,d,p){var h,f,g=[9,13,27,38,40],m=e.$eval(n.typeaheadMinLength);m||0===m||(m=1),e.$watch(n.typeaheadMinLength,function(e){m=e||0===e?e:1});var v=e.$eval(n.typeaheadWaitMs)||0,y=!1!==e.$eval(n.typeaheadEditable);e.$watch(n.typeaheadEditable,function(e){y=!1!==e});var b,w,$=r(n.typeaheadLoading).assign||angular.noop,C=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},S=r(n.typeaheadOnSelect),x=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),E=r(n.typeaheadNoResults).assign||angular.noop,k=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,D=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),_=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,M=!1!==e.$eval(n.typeaheadFocusFirst),T=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),O=r(n.typeaheadIsOpen).assign||angular.noop,A=e.$eval(n.typeaheadShowHint)||!1,P=r(n.ngModel),I=r(n.ngModel+"($$$p)"),R=p.parse(n.uibTypeahead),L=e.$new(),N=e.$on("$destroy",function(){L.$destroy()});L.$on("$destroy",N);var F,G,V="typeahead-"+L.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":V}),A&&((F=angular.element("<div></div>")).css("position","relative"),t.after(F),(G=t.clone()).attr("placeholder",""),G.attr("tabindex","-1"),G.val(""),G.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),F.append(G),G.after(t));var H=angular.element("<div uib-typeahead-popup></div>");H.attr({id:V,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&H.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&H.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var j=function(){L.matches=[],L.activeIdx=-1,t.attr("aria-expanded",!1),A&&G.val("")},z=function(e){return V+"-option-"+e};L.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",z(e))});var U=function(n,i){var r={$viewValue:n};$(e,!0),E(e,!1),o.when(R.source(e,r)).then(function(o){var a=n===h.$viewValue;if(a&&b)if(o&&o.length>0){L.activeIdx=M?0:-1,E(e,!1),L.matches.length=0;for(var s=0;s<o.length;s++)r[R.itemName]=o[s],L.matches.push({id:z(s),label:R.viewMapper(L,r),model:o[s]});if(L.query=n,Y(),t.attr("aria-expanded",!0),T&&1===L.matches.length&&function(e,t){return!!(L.matches.length>t&&e)&&e.toUpperCase()===L.matches[t].label.toUpperCase()}(n,0)&&(angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)?c(function(){L.select(0,i)},angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate.default):L.select(0,i)),A){var l=L.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?G.val(n+l.slice(n.length)):G.val("")}}else j(),E(e,!0);a&&$(e,!1)},function(){j(),$(e,!1),E(e,!0)})};D&&(angular.element(l).on("resize",q),s.find("body").on("scroll",q));var W,B=c(function(){L.matches.length&&Y(),L.moveInProgress=!1},200);function q(){L.moveInProgress||(L.moveInProgress=!0,L.$digest()),B()}function Y(){L.position=D?d.offset(t):d.position(t),L.position.top+=t.prop("offsetHeight")}L.moveInProgress=!1,L.query=void 0;var K=function(){W&&a.cancel(W)};j(),L.assignIsOpen=function(t){O(e,t)},L.select=function(i,r){var o,s,l={};w=!0,l[R.itemName]=s=L.matches[i].model,o=R.modelMapper(e,l),function(t,n){angular.isFunction(P(e))&&f&&f.$options&&f.$options.getterSetter?I(t,{$$$p:n}):P.assign(t,n)}(e,o),h.$setValidity("editable",!0),h.$setValidity("parse",!0),S(e,{$item:s,$model:o,$label:R.viewMapper(e,l),$event:r}),j(),!1!==L.$eval(n.typeaheadFocusOnSelect)&&a(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==L.matches.length&&-1!==g.indexOf(t.which)){var n,i=C(e,{$event:t});if(-1===L.activeIdx&&i||9===t.which&&t.shiftKey)return j(),void L.$digest();switch(t.preventDefault(),t.which){case 27:t.stopPropagation(),j(),e.$digest();break;case 38:L.activeIdx=(L.activeIdx>0?L.activeIdx:L.matches.length)-1,L.$digest(),(n=H.find("li")[L.activeIdx]).parentNode.scrollTop=n.offsetTop;break;case 40:L.activeIdx=(L.activeIdx+1)%L.matches.length,L.$digest(),(n=H.find("li")[L.activeIdx]).parentNode.scrollTop=n.offsetTop;break;default:i&&L.$apply(function(){angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)?c(function(){L.select(L.activeIdx,t)},angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate.default):L.select(L.activeIdx,t)})}}}),t.bind("focus",function(e){b=!0,0!==m||h.$viewValue||a(function(){U(h.$viewValue,e)},0)}),t.bind("blur",function(e){x&&L.matches.length&&-1!==L.activeIdx&&!w&&(w=!0,L.$apply(function(){angular.isObject(L.debounceUpdate)&&angular.isNumber(L.debounceUpdate.blur)?c(function(){L.select(L.activeIdx,e)},L.debounceUpdate.blur):L.select(L.activeIdx,e)})),!y&&h.$error.editable&&(h.$setViewValue(),h.$setValidity("editable",!0),h.$setValidity("parse",!0),t.val("")),b=!1,w=!1});var Z=function(n){t[0]!==n.target&&3!==n.which&&0!==L.matches.length&&(j(),u.$$phase||e.$digest())};s.on("click",Z),e.$on("$destroy",function(){s.off("click",Z),(D||_)&&X.remove(),D&&(angular.element(l).off("resize",q),s.find("body").off("scroll",q)),H.remove(),A&&F.remove()});var X=i(H)(L);D?s.find("body").append(X):_?angular.element(_).eq(0).append(X):t.after(X),this.init=function(t,n){h=t,f=n,L.debounceUpdate=h.$options&&r(h.$options.debounce)(e),h.$parsers.unshift(function(t){return b=!0,0===m||t&&t.length>=m?v>0?(K(),function(e){W=a(function(){U(e)},v)}(t)):U(t):($(e,!1),K(),j()),y?t:t?void h.$setValidity("editable",!1):(h.$setValidity("editable",!0),null)}),h.$formatters.push(function(t){var n,i={};return y||h.$setValidity("editable",!0),k?(i.$model=t,k(e,i)):(i[R.itemName]=t,n=R.viewMapper(e,i),i[R.itemName]=void 0,n!==R.viewMapper(e,i)?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,i){t.templateUrl=i.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,i){var r=t.debounce();angular.isNumber(r)||angular.isObject(r)?e(function(){t.select({activeIdx:n,evt:i})},angular.isNumber(r)?r:r.default):t.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";e(a).then(function(e){var n=angular.element(e.trim());r.replaceWith(n),t(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){var i;return i=t.has("$sanitize"),function(t,r){return!i&&function(e){return/<.*>/g.test(e)}(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(r.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,i||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,o,a){var s=n(a.expanding),l=n(a.expanded),u=n(a.collapsing),c=n(a.collapsed);function d(){o.removeClass("collapsing").addClass("collapse").css({height:"auto"}),l(i)}function p(){o.css({height:"0"}),o.removeClass("collapsing").addClass("collapse"),c(i)}i.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),i.$watch(a.uibCollapse,function(n){n?function(){if(!o.hasClass("collapse")&&!o.hasClass("in"))return p();t.resolve(u(i)).then(function(){o.css({height:o[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(o,{removeClass:"in",to:{height:"0"}}).start().finally(p):e.removeClass(o,"in",{to:{height:"0"}}).then(p)})}():o.hasClass("collapse")&&o.hasClass("in")||t.resolve(s(i)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(o,{addClass:"in",easing:"ease",to:{height:o[0].scrollHeight+"px"}}).start().finally(d):e.addClass(o,"in",{to:{height:o[0].scrollHeight+"px"}}).then(d)})})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var r="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=r+"-tab",e.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.uibAccordionTransclude]},function(e){if(e){var n=angular.element(t[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));n.html(""),n.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,i){e.closeable=!!t.close;var r=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;r&&i(function(){e.close()},parseInt(r,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,r){var o=r[0],a=r[1],s=e(i.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!i.disabled){var e=n.hasClass(o.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){a.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),a.$render()})}}),i.uibUncheckable&&t.$watch(s,function(e){i.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){var r=i[0],o=i[1];function a(){return s(n.btnCheckboxTrue,!0)}function s(t,n){return angular.isDefined(t)?e.$eval(t):n}t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(r.activeClass,angular.equals(o.$modelValue,a()))},t.on(r.toggleEvent,function(){n.disabled||e.$apply(function(){o.$setViewValue(t.hasClass(r.activeClass)?s(n.btnCheckboxFalse,!1):a()),o.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,i,r){var o,a,s=this,l=s.slides=e.slides=[],u="uib-slideDirection",c=e.active,d=[],p=!1;function h(){for(;d.length;)d.shift()}function f(e){for(var t=0;t<l.length;t++)l[t].slide.active=t===e}function g(e){for(var t=0;t<l.length;t++)if(l[t].slide===e)return t}function m(){o&&(n.cancel(o),o=null)}function v(){m();var t=+e.interval;!isNaN(t)&&t>0&&(o=n(y,t))}function y(){var t=+e.interval;a&&!isNaN(t)&&t>0&&l.length?e.next():e.pause()}s.addSlide=function(t,n){l.push({slide:t,element:n}),l.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===l.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),c=t.index,e.active=t.index,f(c),s.select(l[g(t)]),1===l.length&&e.play())},s.getCurrentIndex=function(){for(var e=0;e<l.length;e++)if(l[e].slide.index===c)return e},s.next=e.next=function(){var t=(s.getCurrentIndex()+1)%l.length;if(0!==t||!e.noWrap())return s.select(l[t],"next");e.pause()},s.prev=e.prev=function(){var t=s.getCurrentIndex()-1<0?l.length-1:s.getCurrentIndex()-1;if(!e.noWrap()||t!==l.length-1)return s.select(l[t],"prev");e.pause()},s.removeSlide=function(t){var n=g(t),i=d.indexOf(l[n]);-1!==i&&d.splice(i,1),l.splice(n,1),l.length>0&&c===n?n>=l.length?(c=l.length-1,e.active=c,f(c),s.select(l[l.length-1])):(c=n,e.active=c,f(c),s.select(l[n])):c>n&&(c--,e.active=c),0===l.length&&(c=null,e.active=null,h())},s.select=e.select=function(n,i){var o=g(n.slide);void 0===i&&(i=o>s.getCurrentIndex()?"next":"prev"),n.slide.index===c||e.$currentTransition?n&&n.slide.index!==c&&e.$currentTransition&&d.push(l[o]):function n(i,o,a){if(p)return;angular.extend(i,{direction:a});angular.extend(l[c].slide||{},{direction:a});if(r.enabled(t)&&!e.$currentTransition&&l[o].element&&s.slides.length>1){l[o].element.data(u,i.direction);var g=s.getCurrentIndex();angular.isNumber(g)&&l[g].element&&l[g].element.data(u,i.direction),e.$currentTransition=!0,r.on("addClass",l[o].element,function(t,i){if("close"===i&&(e.$currentTransition=null,r.off("addClass",t),d.length)){var o=d.pop().slide,a=o.index,l=a>s.getCurrentIndex()?"next":"prev";h(),n(o,a,l)}})}e.active=i.index;c=i.index;f(o);v()}(n.slide,o,i)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===l.length-1&&e.noWrap()},e.pause=function(){e.noPause||(a=!1,m())},e.play=function(){a||(a=!0,v())},e.$on("$destroy",function(){p=!0,m()}),e.$watch("noTransition",function(e){r.enabled(t,!e)}),e.$watch("interval",v),e.$watchCollection("slides",function(t){t.length||(e.$currentTransition=null,h())}),e.$watch("active",function(e){if(angular.isNumber(e)&&c!==e){for(var t=0;t<l.length;t++)if(l[t].slide.index===e){e=t;break}l[e]&&(f(e),s.select(l[e]),c=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)})}}}).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}return{beforeAddClass:function(n,i,r){if("active"===i){var o=n.data("uib-slideDirection"),a="next"===o?"left":"right",s=t.bind(this,n,a+" "+o,r);return n.addClass(o),e(n,{addClass:a}).start().done(s),function(){!0}}r()},beforeRemoveClass:function(n,i,r){if("active"===i){var o="next"===n.data("uib-slideDirection")?"left":"right",a=t.bind(this,n,o,r);return e(n,{addClass:o}).start().done(a),function(){!0}}r()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(e,t,n,i){var r,o,a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function s(e,t){var n=[],r=e.split(""),a=e.indexOf("'");if(a>-1){var s=!1;e=e.split("");for(var l=a;l<e.length;l++)s?("'"===e[l]&&(l+1<e.length&&"'"===e[l+1]?(e[l+1]="$",r[l+1]=""):(r[l]="",s=!1)),e[l]="$"):"'"===e[l]&&(e[l]="$",r[l]="",s=!0);e=e.join("")}return angular.forEach(o,function(i){var o=e.indexOf(i.key);if(o>-1){e=e.split(""),r[o]="("+i.regex+")",e[o]="$";for(var a=o+1,s=o+i.key.length;a<s;a++)r[a]="",e[a]="$";e=e.join(""),n.push({index:o,key:i.key,apply:i[t],matcher:i.regex})}}),{regex:new RegExp("^"+r.join("")+"$"),map:i(n,"index")}}function l(e){return parseInt(e,10)}function u(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function c(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function d(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return c(e,n*(u(t,i)-i))}this.init=function(){r=t.id,this.parsers={},this.formatters={},o=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],i=t[2],r=t[3];this.hours+=l(n+i),this.minutes+=l(n+r)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}]},this.init(),this.filter=function(e,n){if(!angular.isDate(e)||isNaN(e)||!n)return"";n=t.DATETIME_FORMATS[n]||n,t.id!==r&&this.init(),this.formatters[n]||(this.formatters[n]=s(n,"formatter"));var i=this.formatters[n].map,o=n;return i.reduce(function(t,n,r){var a=o.match(new RegExp("(.*)"+n.key));a&&angular.isString(a[1])&&(t+=a[1],o=o.replace(a[1]+n.key,""));var s=r===i.length-1?o:"";return n.apply?t+n.apply.call(null,e)+s:t+s},"")},this.parse=function(n,i,o){if(!angular.isString(n)||!i)return n;i=(i=t.DATETIME_FORMATS[i]||i).replace(a,"\\$&"),t.id!==r&&this.init(),this.parsers[i]||(this.parsers[i]=s(i,"apply"));var l=this.parsers[i],u=l.regex,c=l.map,d=n.match(u),p=!1;if(d&&d.length){var h,f;angular.isDate(o)&&!isNaN(o.getTime())?h={year:o.getFullYear(),month:o.getMonth(),date:o.getDate(),hours:o.getHours(),minutes:o.getMinutes(),seconds:o.getSeconds(),milliseconds:o.getMilliseconds()}:(o&&e.warn("dateparser:","baseDate is not a valid date"),h={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var g=1,m=d.length;g<m;g++){var v=c[g-1];"Z"===v.matcher&&(p=!0),v.apply&&v.apply.call(h,d[g])}var y=p?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,b=p?Date.prototype.setUTCHours:Date.prototype.setHours;return function(e,t,n){if(n<1)return!1;if(1===t&&n>28)return 29===n&&(e%4==0&&e%100!=0||e%400==0);if(3===t||5===t||8===t||10===t)return n<31;return!0}(h.year,h.month,h.date)&&(!angular.isDate(o)||isNaN(o.getTime())||p?(f=new Date(0),y.call(f,h.year,h.month,h.date),b.call(f,h.hours||0,h.minutes||0,h.seconds||0,h.milliseconds||0)):(f=new Date(o),y.call(f,h.year,h.month,h.date),b.call(f,h.hours,h.minutes,h.seconds,h.milliseconds))),f}},this.toTimezone=function(e,t){return e&&t?d(e,t):e},this.fromTimezone=function(e,t){return e&&t?d(e,t,!0):e},this.timezoneToOffset=u,this.addDateMinutes=c,this.convertTimezoneToLocal=d}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){var o=[],a=[],s={},l=r.uibIsClass.match(t),u=l[2],c=l[1].split(",");return function(t,i,r){o.push(t),a.push({scope:t,element:i}),c.forEach(function(i,r){!function(t,i){var r=t.match(n),o=i.$eval(r[1]),l=r[2],c=s[t];if(!c){var d=function(t){var n=null;a.some(function(e){var i=e.scope.$eval(u);if(i===t)return n=e,!0}),c.lastActivated!==n&&(c.lastActivated&&e.removeClass(c.lastActivated.element,o),n&&e.addClass(n.element,o),c.lastActivated=n)};s[t]=c={lastActivated:null,scope:i,watchFn:d,compareWithExp:l,watcher:i.$watch(l,d)}}c.watchFn(i.$eval(l))}(i,t)}),t.$on("$destroy",d)};function d(e){var t=e.targetScope,n=o.indexOf(t);if(o.splice(n,1),a.splice(n,1),o.length){var i=o[0];angular.forEach(s,function(e){e.scope===t&&(e.watcher=i.$watch(e.compareWithExp,e.watchFn),e.scope=i)})}else s={}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,i,r,o,a,s,l,u,c){var d=this,p={$setViewValue:angular.noop},h={},f=[];t.datepickerOptions;e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:s.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":d[t]=angular.isDefined(e.datepickerOptions[t])?i(e.datepickerOptions[t])(e.$parent):s[t];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":d[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:s[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?d.startingDay=e.datepickerOptions.startingDay:angular.isNumber(s.startingDay)?d.startingDay=s.startingDay:d.startingDay=(r.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?d[t]=c.fromTimezone(new Date(e),h.timezone):(l&&o.warn("Literal date support has been deprecated, please switch to date object usage"),d[t]=new Date(a(e,"medium"))):d[t]=s[t]?c.fromTimezone(new Date(s[t]),h.timezone):null,d.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){d[t]=e[t]=angular.isDefined(n)?n:datepickerOptions[t],("minMode"===t&&d.modes.indexOf(e.datepickerOptions.datepickerMode)<d.modes.indexOf(d[t])||"maxMode"===t&&d.modes.indexOf(e.datepickerOptions.datepickerMode)>d.modes.indexOf(d[t]))&&(e.datepickerMode=d[t],e.datepickerOptions.datepickerMode=d[t])}):d[t]=e[t]=s[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(t.disabled)||!1,angular.isDefined(t.ngDisabled)&&f.push(e.$parent.$watch(t.ngDisabled,function(t){e.disabled=t,d.refreshView()})),e.isActive=function(t){return 0===d.compare(t.date,d.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){p=t,h=t.$options||s.ngModelOptions,e.datepickerOptions.initDate?(d.activeDate=c.fromTimezone(e.datepickerOptions.initDate,h.timezone)||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(d.activeDate=c.fromTimezone(e,h.timezone),d.refreshView())})):d.activeDate=new Date;var n=p.$modelValue?new Date(p.$modelValue):new Date;this.activeDate=isNaN(n)?c.fromTimezone(new Date,h.timezone):c.fromTimezone(n,h.timezone),p.$render=function(){d.render()}},this.render=function(){if(p.$viewValue){var e=new Date(p.$viewValue);!isNaN(e)?this.activeDate=c.fromTimezone(e,h.timezone):u||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=p.$viewValue?new Date(p.$viewValue):null;t=c.fromTimezone(t,h.timezone),p.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var i=p.$viewValue?new Date(p.$viewValue):null;i=c.fromTimezone(i,h.timezone);var r=new Date;r=c.fromTimezone(r,h.timezone);var o=this.compare(t,r),a={date:t,label:c.filter(t,n),selected:i&&0===this.compare(t,i),disabled:this.isDisabled(t),past:o<0,current:0===o,future:o>0,customClass:this.customClass(t)||null};return i&&0===this.compare(t,i)&&(e.selectedDt=a),d.activeDate&&0===this.compare(a.date,d.activeDate)&&(e.activeDt=a),a},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===d.minMode){var n=p.$viewValue?c.fromTimezone(new Date(p.$viewValue),h.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=c.toTimezone(n,h.timezone),p.$setViewValue(n),p.$render()}else d.activeDate=t,g(d.modes[d.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=d.activeDate.getFullYear()+e*(d.step.years||0),n=d.activeDate.getMonth()+e*(d.step.months||0);d.activeDate.setFullYear(t,n,1),d.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===d.maxMode&&1===t||e.datepickerMode===d.minMode&&-1===t||(g(d.modes[d.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function g(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}e.$on("uib:datepicker.focus",function(){d.element[0].focus()}),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),d.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(d.isDisabled(d.activeDate))return;e.select(d.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(d.handleKeyDown(n,t),d.refreshView()):e.toggleMode("up"===n?1:-1)},e.$on("$destroy",function(){for(;f.length;)f.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){var i=[31,28,31,30,31,30,31,31,30,31,30,31];function r(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?i[t]:29}function o(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),r=new Date(e),o=0;o<t;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),r=new Date(this.activeDate);r.setFullYear(t,i,1);var a=this.startingDay-r.getDay(),s=a>0?7-a:-a,l=new Date(r);s>0&&l.setDate(1-s);for(var u=this.getDates(l,42),c=0;c<42;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==i,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var d=0;d<7;d++)e.labels[d]={abbr:n(u[d].date,this.formatDayHeader),full:n(u[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,h=e.rows.length,f=0;f<h;f++)e.weekNumbers.push(o(e.rows[f][p].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),r=this.activeDate.getFullYear(),o=0;o<12;o++)(t=new Date(this.activeDate)).setFullYear(r,o,1),i[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,3)},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){var i,r;function o(e){return parseInt((e-1)/r,10)*r+1}this.element=t,this.yearpickerInit=function(){i=this.yearColumns,r=this.yearRows*i,this.step={years:r}},this._refreshView=function(){for(var t,n=new Array(r),a=0,s=o(this.activeDate.getFullYear());a<r;a++)(t=new Date(this.activeDate)).setFullYear(s+a,0,1),n[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[r-1].label].join(" - "),e.rows=this.split(n,i),e.columns=i},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=i:"right"===e?n+=1:"down"===e?n+=i:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*r:"home"===e?n=o(this.activeDate.getFullYear()):"end"===e&&(n=o(this.activeDate.getFullYear())+r-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){var i,r=(n=this.getRawNode(n)).offsetParent||e[0].documentElement;for(;r&&r!==e[0].documentElement&&(i=r,"static"===(t.getComputedStyle(i).position||"static"));)r=r.offsetParent;return r||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-o[0].clientWidth,i=isFinite(i)?i:0,o.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(o,a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:i+s,originalRight:i,heightOverflow:o.scrollHeight>o.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?r.hidden:r.normal,o=t.getComputedStyle(e);return i.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,i,o){n=this.getRawNode(n);var a=i?r.hidden:r.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var u="absolute"===l.position,c=n.parentElement||s;if(c===s||"fixed"===l.position)return s;for(;c.parentElement&&c!==s;){var d=t.getComputedStyle(c);if(u&&"static"!==d.position&&(u=!1),!u&&a.test(d.overflow+d.overflowY+d.overflowX))break;c=c.parentElement}return c},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var o=t.getComputedStyle(n);r.top-=this.parseStyle(o.marginTop),r.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==e[0].documentElement&&((s=this.offset(a)).top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){var i=(n=this.getRawNode(n)).getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){r=!1!==r;var o=(n=this.getRawNode(n)).getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=i?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,r){var u=t.getComputedStyle(s);a.top+=this.parseStyle(u.paddingTop),a.bottom-=this.parseStyle(u.paddingBottom),a.left+=this.parseStyle(u.paddingLeft),a.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),(e=e.split("-"))[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,i,r){e=this.getRawNode(e),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=r?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(i[2]){var c=this.viewportOffset(e,r),d=t.getComputedStyle(n),p={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(i[0]="top"===i[0]&&p.height>c.top&&p.height<=c.bottom?"bottom":"bottom"===i[0]&&p.height>c.bottom&&p.height<=c.top?"top":"left"===i[0]&&p.width>c.left&&p.width<=c.right?"right":"right"===i[0]&&p.width>c.right&&p.width<=c.left?"left":i[0],i[1]="top"===i[1]&&p.height-l.height>c.bottom&&p.height-l.height<=c.top?"bottom":"bottom"===i[1]&&p.height-l.height>c.top&&p.height-l.height<=c.bottom?"top":"left"===i[1]&&p.width-l.width>c.right&&p.width-l.width<=c.left?"right":"right"===i[1]&&p.width-l.width>c.left&&p.width-l.width<=c.right?"left":i[1],"center"===i[1])if(o.vertical.test(i[0])){var h=l.width/2-a/2;c.left+h<0&&p.width-l.width<=c.right?i[1]="left":c.right+h<0&&p.width-l.width<=c.left&&(i[1]="right")}else{var f=l.height/2-p.height/2;c.top+f<0&&p.height-l.height<=c.bottom?i[1]="top":c.bottom+f<0&&p.height-l.height<=c.top&&(i[1]="bottom")}}switch(i[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-a;break;case"right":u.left=l.left+l.width}switch(i[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-a;break;case"center":o.vertical.test(i[0])?u.left=l.left+l.width/2-a/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],u},positionArrow:function(e,n){var i=(e=this.getRawNode(e)).querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),a=r?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if("center"!==(n=this.parsePlacement(n))[1]){var l="border-"+n[0]+"-width",u=t.getComputedStyle(a)[l],c="border-";o.vertical.test(n[0])?c+=n[0]+"-"+n[1]:c+=n[1]+"-"+n[0],c+="-radius";var d=t.getComputedStyle(r?i:e)[c];switch(n[0]){case"top":s.bottom=r?"0":"-"+u;break;case"bottom":s.top=r?"0":"-"+u;break;case"left":s.right=r?"0":"-"+u;break;case"right":s.left=r?"0":"-"+u}s[n[1]]=d,angular.element(a).css(s)}else angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,i,r,o,a,s,l,u,c,d,p,h,f,g){var m,v,y,b,w,$,C,S,x,E,k,D,_,M,T=!1,O=[];function A(t){var n=d.parse(t,m,e.date);if(isNaN(n))for(var i=0;i<_.length;i++)if(n=d.parse(t,_[i],e.date),!isNaN(n))return n;return n}function P(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=A(e);if(!isNaN(t))return d.toTimezone(t,M)}return E.$options&&E.$options.allowInvalid?e:void 0}function I(e,t){var i=e||t;return!n.ngRequired&&!i||(angular.isNumber(i)&&(i=new Date(i)),!i||(!(!angular.isDate(i)||isNaN(i))||!!angular.isString(i)&&!isNaN(A(t))))}function R(n){if(e.isOpen||!e.disabled){var i=D[0],r=t[0].contains(n.target),o=void 0!==i.contains&&i.contains(n.target);!e.isOpen||r||o||e.$apply(function(){e.isOpen=!1})}}function L(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function N(){if(e.isOpen){var i=angular.element(D[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:p.placement,o=u.positionElements(t,i,r,y);i.css({top:o.top+"px",left:o.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}this.init=function(r){if(E=r,k=r.$options,v=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,y=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,b=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):p.onOpenFocus,w=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,$=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,_=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):p.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(m=p.html5Types[n.type],T=!0):(m=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||p.datepickerPopup;if(n!==m&&(m=n,E.$modelValue=null,!m))throw new Error("uibDatepickerPopup must have a date format specified.")})),!m)throw new Error("uibDatepickerPopup must have a date format specified.");if(T&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");C=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),k?(M=k.timezone,e.ngModelOptions=angular.copy(k),e.ngModelOptions.timezone=null,!0===e.ngModelOptions.updateOnDefault&&(e.ngModelOptions.updateOn=e.ngModelOptions.updateOn?e.ngModelOptions.updateOn+" default":"default"),C.attr("ng-model-options","ngModelOptions")):M=null,C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":w}),(S=angular.element(C.children()[0])).attr("template-url",$),e.datepickerOptions||(e.datepickerOptions={}),T&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),S.attr("datepicker-options","datepickerOptions"),T?E.$formatters.push(function(t){return e.date=d.fromTimezone(t,M),t}):(E.$$parserName="date",E.$validators.date=I,E.$parsers.unshift(P),E.$formatters.push(function(t){return E.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,M),d.filter(e.date,m))})),E.$viewChangeListeners.push(function(){e.date=A(E.$viewValue)}),t.on("keydown",L),D=i(C)(e),C.remove(),y?s.find("body").append(D):t.after(D),e.$on("$destroy",function(){for(!0===e.isOpen&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),D.remove(),t.off("keydown",L),s.off("click",R),x&&x.off("scroll",N),angular.element(a).off("resize",N);O.length;)O.shift()()})},e.getText=function(t){return e[t+"Text"]||p[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,M));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=d.fromTimezone(new Date(e.datepickerOptions[t]),M):(g&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(c(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var i=e.date?d.filter(e.date,m):null;t.val(i),E.$setViewValue(i),v&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var i=new Date;angular.isDate(e.date)?(t=new Date(e.date)).setFullYear(i.getFullYear(),i.getMonth(),i.getDate()):t=new Date(i.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&O.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(i){i?e.disabled?e.isOpen=!1:h(function(){N(),b&&e.$broadcast("uib:datepicker.focus"),s.on("click",R);var i=n.popupPlacement?n.popupPlacement:p.placement;y||u.parsePlacement(i)[2]?(x=x||angular.element(u.scrollParent(t)))&&x.on("scroll",N):x=null,angular.element(a).on("resize",N)},0,!1):(s.off("click",R),x&&x.off("scroll",N),angular.element(a).off("resize",N))}),e.$on("uib:datepicker.mode",function(){h(N,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var i;return function(){var r=this,o=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e(function(){t.apply(r,o)},n)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t,o){n||(e.on("click",i),o.on("keydown",r)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t,o){n===t&&(n=null,e.off("click",i),o.off("keydown",r))};var i=function(e){if(n&&!(e&&"disabled"===n.getAutoClose()||e&&3===e.which)){var i=n.getToggleElement();if(!(e&&i&&i[0].contains(e.target))){var r=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},r=function(e){27===e.which?(e.stopPropagation(),n.focusToggleElement(),i()):n.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,r,o,a,s,l,u,c){var d,p,h=this,f=e.$new(),g=r.appendToOpenClass,m=r.openClass,v=angular.noop,y=n.onToggle?i(n.onToggle):angular.noop,b=!1,w=null,$=!1,C=l.find("body");t.addClass("dropdown"),this.init=function(){if(n.isOpen&&(p=i(n.isOpen),v=p.assign,e.$watch(p,function(e){f.isOpen=!!e})),angular.isDefined(n.dropdownAppendTo)){var r=i(n.dropdownAppendTo)(f);r&&(w=angular.element(r))}b=angular.isDefined(n.dropdownAppendToBody),$=angular.isDefined(n.keyboardNav),b&&!w&&(w=C),w&&h.dropdownMenu&&(w.append(h.dropdownMenu),t.on("$destroy",function(){h.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen,angular.isFunction(v)&&v(f,f.isOpen),f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return h.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return $},f.focusDropdownEntry=function(e){var n=h.dropdownMenu?angular.element(h.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(h.selectedOption)?h.selectedOption=h.selectedOption===n.length-1?h.selectedOption:h.selectedOption+1:h.selectedOption=0;break;case 38:angular.isNumber(h.selectedOption)?h.selectedOption=0===h.selectedOption?0:h.selectedOption-1:h.selectedOption=n.length-1}n[h.selectedOption].focus()},f.getDropdownElement=function(){return h.dropdownMenu},f.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},f.$watch("isOpen",function(n,i){if(w&&h.dropdownMenu){var r,l,p,$=s.positionElements(t,h.dropdownMenu,"bottom-left",!0);if(r={top:$.top+"px",display:n?"block":"none"},(l=h.dropdownMenu.hasClass("dropdown-menu-right"))?(r.left="auto",p=s.scrollbarWidth(!0),r.right=window.innerWidth-p-($.left+t.prop("offsetWidth"))+"px"):(r.left=$.left+"px",r.right="auto"),!b){var C=s.offset(w);r.top=$.top-C.top+"px",l?r.right=window.innerWidth-($.left-C.left+t.prop("offsetWidth"))+"px":r.left=$.left-C.left+"px"}h.dropdownMenu.css(r)}var S=w||t;if(S.hasClass(w?g:m)===!n&&a[n?"addClass":"removeClass"](S,w?g:m).then(function(){angular.isDefined(n)&&n!==i&&y(e,{open:!!n})}),n)h.dropdownMenuTemplateUrl&&c(h.dropdownMenuTemplateUrl).then(function(e){d=f.$new(),u(e.trim())(d,function(e){var t=e;h.dropdownMenu.replaceWith(t),h.dropdownMenu=t})}),f.focusToggleElement(),o.open(f,t);else{if(h.dropdownMenuTemplateUrl){d&&d.$destroy();var x=angular.element('<ul class="dropdown-menu"></ul>');h.dropdownMenu.replaceWith(x),h.dropdownMenu=x}o.close(f,t),h.selectedOption=null}angular.isFunction(v)&&v(e,n)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",r)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var i=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,o,a){if(i)return i.resolve(e,r,o,a);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},i=0;return angular.forEach(e,function(e,r){n[r]=t[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),i}};function i(t,i,r){r.modalInClass&&(e.addClass(i,r.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();t.modalOptions.animation?e.removeClass(i,r.modalInClass).then(a):a()}))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,i){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,o,a){o.addClass(a.windowClass||""),o.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",r.close),r.$isRendered=!0;var s=t.defer();a.$observe("modalRender",function(e){"true"===e&&s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();n(o,{removeClass:a.modalInClass}).start().then(i)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!o[0].contains(i[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,i,r,o,a,s,l){var u,c,d,p="modal-open",h=s.createNew(),f=a.createNew(),g={NOW_CLOSING_EVENT:"modal.stack.now-closing"},m=0,v=null;function y(){for(var e=-1,t=h.keys(),n=0;n<t.length;n++)h.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<m&&(e=m),e}function b(e,t){var n=h.get(e).value,i=n.appendTo;h.remove(e),(v=h.top())&&(m=parseInt(v.value.modalDomEl.attr("index"),10)),$(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||p;f.remove(t,e);var r=f.hasKey(t);i.toggleClass(t,r),!r&&d&&d.heightOverflow&&d.scrollbarWidth&&(d.originalRight?i.css({paddingRight:d.originalRight+"px"}):i.css({paddingRight:""}),d=null),w(!0)},n.closedDeferred),function(){if(u&&-1===y()){$(u,c,function(){null}),u=void 0,c=void 0}}(),t&&t.focus?t.focus():i.focus&&i.focus()}function w(e){var t;h.length()>0&&(t=h.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function $(t,n,i,r){var a,s=null;return n.$broadcast(g.NOW_CLOSING_EVENT,function(){return a||(a=o.defer(),s=a.promise),function(){a.resolve()}}),o.when(s).then(function o(){if(o.done)return;o.done=!0;e.leave(t).then(function(){t.remove(),r&&r.resolve()});n.$destroy();i&&i()})}function C(e){if(e.isDefaultPrevented())return e;var t=h.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply(function(){g.dismiss(t.key,"escape key press")}));break;case 9:var n=g.loadFocusElementList(t),i=!1;e.shiftKey?(g.isFocusInFirstItem(e,n)||g.isModalFocused(e,t))&&(i=g.focusLastFocusableElement(n)):g.isFocusInLastItem(e,n)&&(i=g.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function S(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}return r.$watch(y,function(e){c&&(c.index=e)}),n.on("keydown",C),r.$on("$destroy",function(){n.off("keydown",C)}),g.open=function(t,o){var a=n[0].activeElement,s=o.openedClass||p;w(!1),v=h.top(),h.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),f.put(s,t);var g=o.appendTo,b=y();if(!g.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");b>=0&&!u&&((c=r.$new(!0)).modalOptions=o,c.index=b,(u=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr("backdrop-class",o.backdropClass),o.animation&&u.attr("modal-animation","true"),i(u)(c),e.enter(u,g),(d=l.scrollbarPadding(g)).heightOverflow&&d.scrollbarWidth&&g.css({paddingRight:d.right+"px"})),m=v?parseInt(v.value.modalDomEl.attr("index"),10)+1:0;var $=angular.element('<div uib-modal-window="modal-window"></div>');$.attr({"template-url":o.windowTemplateUrl,"window-class":o.windowClass,"window-top-class":o.windowTopClass,size:o.size,index:m,animate:"animate"}).html(o.content),o.animation&&$.attr("modal-animation","true"),g.addClass(s),e.enter(i($)(o.scope),g),h.top().value.modalDomEl=$,h.top().value.modalOpener=a},g.close=function(e,t){var n=h.get(e);return n&&S(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),b(e,n.value.modalOpener),!0):!n},g.dismiss=function(e,t){var n=h.get(e);return n&&S(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),b(e,n.value.modalOpener),!0):!n},g.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},g.getTop=function(){return h.top()},g.modalRendered=function(e){var t=h.get(e);t&&t.value.renderDeferred.resolve()},g.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},g.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},g.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},g.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},g.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},g.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)}):n}}},g}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,i,r,o,a,s){var l={};var u=null;return l.getPromiseChain=function(){return u},l.open=function(l){var c=n.defer(),d=n.defer(),p=n.defer(),h=n.defer(),f={result:c.promise,opened:d.promise,closed:p.promise,rendered:h.promise,close:function(e){return s.close(f,e)},dismiss:function(e){return s.dismiss(f,e)}};if((l=angular.extend({},e.options,l)).resolve=l.resolve||{},l.appendTo=l.appendTo||i.find("body").eq(0),!l.template&&!l.templateUrl)throw new Error("One of template or templateUrl options is required.");var g,m,v=n.all([(g=l,g.template?n.when(g.template):r(angular.isFunction(g.templateUrl)?g.templateUrl():g.templateUrl)),a.resolve(l.resolve,{},null,null)]);function y(){return v}return m=u=n.all([u]).then(y,y).then(function(e){var n=l.scope||t,i=n.$new();i.$close=f.close,i.$dismiss=f.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var r,a,u={};l.controller&&(u.$scope=i,u.$scope.$resolve={},u.$uibModalInstance=f,angular.forEach(e[1],function(e,t){u[t]=e,u.$scope.$resolve[t]=e}),a=o(l.controller,u,!0,l.controllerAs),l.controllerAs&&l.bindToController&&((r=a.instance).$close=i.$close,r.$dismiss=i.$dismiss,angular.extend(r,{$resolve:u.$scope.$resolve},n)),r=a(),angular.isFunction(r.$onInit)&&r.$onInit()),s.open(f,{scope:i,deferred:c,renderDeferred:h,closedDeferred:p,content:e[0],animation:l.animation,backdrop:l.backdrop,keyboard:l.keyboard,backdropClass:l.backdropClass,windowTopClass:l.windowTopClass,windowClass:l.windowClass,windowTemplateUrl:l.windowTemplateUrl,size:l.size,openedClass:l.openedClass,appendTo:l.appendTo}),d.resolve(!0)},function(e){d.reject(e),c.reject(e)}).finally(function(){u===m&&(u=null)}),f},l}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,i){t.setNumPages=i.numPages?e(i.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,r){t.ngModelCtrl=e,t.config=r,e.$render=function(){t.render()},i.itemsPerPage?t._watchers.push(n.$parent.$watch(i.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",function(e,i){(angular.isDefined(e)||e!==i)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,i){i&&i.preventDefault(),(!n.ngDisabled||!i)&&n.page!==e&&e>0&&e<=n.totalPages&&(i&&i.target&&i.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(t,n,i,r){var o=r[0],a=r[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,i,r){var o=this,a=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):r.maxSize,s=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):r.rotate,l=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):r.forceEllipses,u=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):r.boundaryLinkNumbers,c=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;function d(e,t,n){return{number:e,text:t,active:n}}e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):r.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):r.directionLinks,i.create(this,e,t),t.maxSize&&o._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){a=parseInt(e,10),o.render()}));var p=this.render;this.render=function(){p(),e.page>0&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],i=1,r=t,o=angular.isDefined(a)&&a<t;o&&(s?(r=(i=Math.max(e-Math.floor(a/2),1))+a-1)>t&&(i=(r=t)-a+1):(i=(Math.ceil(e/a)-1)*a+1,r=Math.min(i+a-1,t)));for(var p=i;p<=r;p++){var h=d(p,c(p),p===e);n.push(h)}if(o&&a>0&&(!s||l||u)){if(i>1){if(!u||i>3){var f=d(i-1,"...",!1);n.unshift(f)}if(u){if(3===i){var g=d(2,"2",!1);n.unshift(g)}var m=d(1,"1",!1);n.unshift(m)}}if(r<t){if(!u||r<t-2){var v=d(r+1,"...",!1);n.push(v)}if(u){if(r===t-2){var y=d(t-1,t-1,!1);n.push(y)}var b=d(t,t,!1);n.push(b)}}}return n}(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(e,n,i,r){var o=r[0],a=r[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},t={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(e){angular.extend(t,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,r,o,a,s,l,u,c,d){var p=d.createNew();function h(e){if(27===e.which){var t=p.top();t&&(t.value.close(),p.removeTop(),t=null)}}return a.on("keypress",h),u.$on("$destroy",function(){a.off("keypress",h)}),function(i,u,d,h){function f(e){var n=(e||h.trigger||d).split(" ");return{show:n,hide:n.map(function(e){return t[e]||e})}}h=angular.extend({},e,n,h);var g=i.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}),m=l.startSymbol(),v=l.endSymbol(),y="<div "+g+'-popup uib-title="'+m+"title"+v+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+v+'" ')+'placement="'+m+"placement"+v+'" popup-class="'+m+"popupClass"+v+'" animation="animation" is-open="isOpen" origin-scope="origScope" class="uib-position-measure"></div>';return{compile:function(e,t){var n=r(y);return function(e,t,r,l){var d,g,m,v,y,b,w,$=!!angular.isDefined(h.appendToBody)&&h.appendToBody,C=f(void 0),S=angular.isDefined(r[u+"Enable"]),x=e.$new(!0),E=!1,k=!!angular.isDefined(r[u+"IsOpen"])&&c(r[u+"IsOpen"]),D=!!h.useContentExp&&c(r[i]),_=[],M=function(){d&&d.html()&&(b||(b=o(function(){var e=s.positionElements(t,d,x.placement,$);d.css({top:e.top+"px",left:e.left+"px"}),d.hasClass(e.placement.split("-")[0])||(d.removeClass(w.split("-")[0]),d.addClass(e.placement.split("-")[0])),d.hasClass(h.placementClassPrefix+e.placement)||(d.removeClass(h.placementClassPrefix+w),d.addClass(h.placementClassPrefix+e.placement)),d.hasClass("uib-position-measure")?(s.positionArrow(d,e.placement),d.removeClass("uib-position-measure")):w!==e.placement&&s.positionArrow(d,e.placement),w=e.placement,b=null},0,!1)))};function T(){x.isOpen?A():O()}function O(){S&&!e.$eval(r[u+"Enable"])||(L(),function(){x.title=r[u+"Title"],x.content=D?D(e):r[i];x.popupClass=r[u+"Class"],x.placement=angular.isDefined(r[u+"Placement"])?r[u+"Placement"]:h.placement;var t=s.parsePlacement(x.placement);w=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(r[u+"PopupDelay"],10),o=parseInt(r[u+"PopupCloseDelay"],10);x.popupDelay=isNaN(n)?h.popupDelay:n,x.popupCloseDelay=isNaN(o)?h.popupCloseDelay:o}(),x.popupDelay?v||(v=o(P,x.popupDelay,!1)):P())}function A(){I(),x.popupCloseDelay?y||(y=o(R,x.popupCloseDelay,!1)):R()}function P(){if(I(),L(),!x.content)return angular.noop;!function(){if(d)return;g=x.$new(),d=n(g,function(e){$?a.find("body").append(e):t.after(e)}),function(){_.length=0,D?(_.push(e.$watch(D,function(e){x.content=e,!e&&x.isOpen&&R()})),_.push(g.$watch(function(){E||(E=!0,g.$$postDigest(function(){E=!1,x&&x.isOpen&&M()}))}))):_.push(r.$observe(i,function(e){x.content=e,!e&&x.isOpen?R():M()}));_.push(r.$observe(u+"Title",function(e){x.title=e,x.isOpen&&M()})),_.push(r.$observe(u+"Placement",function(e){x.placement=e||h.placement,x.isOpen&&M()}))}()}(),x.$evalAsync(function(){x.isOpen=!0,F(!0),M()})}function I(){v&&(o.cancel(v),v=null),b&&(o.cancel(b),b=null)}function R(){x&&x.$evalAsync(function(){x&&(x.isOpen=!1,F(!1),x.animation?m||(m=o(N,150,!1)):N())})}function L(){y&&(o.cancel(y),y=null),m&&(o.cancel(m),m=null)}function N(){I(),L(),_.length&&(angular.forEach(_,function(e){e()}),_.length=0),d&&(d.remove(),d=null),g&&(g.$destroy(),g=null)}function F(t){k&&angular.isFunction(k.assign)&&k.assign(e,t)}function G(e){x&&x.isOpen&&d&&(t[0].contains(e.target)||d[0].contains(e.target)||A())}x.origScope=e,x.isOpen=!1,p.add(x,{close:R}),x.contentExp=function(){return x.content},r.$observe("disabled",function(e){e&&I(),e&&x.isOpen&&R()}),k&&e.$watch(k,function(e){x&&!e===x.isOpen&&T()});var V,H=function(){C.show.forEach(function(e){"outsideClick"===e?t.off("click",T):(t.off(e,O),t.off(e,T))}),C.hide.forEach(function(e){"outsideClick"===e?a.off("click",G):t.off(e,A)})};V=r[u+"Trigger"],H(),"none"!==(C=f(V)).show&&C.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",T),a.on("click",G)):e===C.hide[n]?t.on(e,T):e&&(t.on(e,O),t.on(C.hide[n],A)),t.on("keypress",function(e){27===e.which&&A()})});var j,z=e.$eval(r[u+"Animation"]);x.animation=angular.isDefined(z)?!!z:h.animation;var U=u+"AppendToBody";j=U in r&&void 0===r[U]||e.$eval(r[U]),$=angular.isDefined(j)?j:$,e.$on("$destroy",function(){H(),N(),p.remove(x),x=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,o,a){var s,l,u,c=r.$eval(a.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++d;t?(i(t,!0).then(function(i){if(a===d){var r=c.$new(),l=n(i)(r,function(t){p(),e.enter(t,o)});u=l,(s=r).$emit("$includeContentLoaded",t)}},function(){a===d&&(p(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):p()}),r.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var r=e.parsePlacement(t.placement);n.addClass(r[0])}t.popupClass&&n.addClass(t.popupClass),t.animation()&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{uibTitle:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",uibTitle:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{uibTitle:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;function o(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}this.bars=[],e.max=o(),this.addBar=function(e,t,n){r||t.css({transition:"none"}),this.bars.push(e),e.max=o(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){i.bars.forEach(function(e){e.max=o(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){(i=r).$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=r.enableReset&&i.$viewValue===t?0:t;i.$setViewValue(n),i.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue,e.title=r.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t,n,i=this;function r(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}i.tabs=[],i.select=function(e,o){if(!n){var a=r(t),s=i.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var l=i.tabs[e];l?(l.tab.onSelect({$event:o}),l.tab.active=!0,i.active=l.index,t=l.index):!l&&angular.isDefined(t)&&(i.active=null,t=null)}},i.addTab=function(e){if(i.tabs.push({tab:e,index:e.index}),i.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var t=r(e.index);i.select(t)}},i.removeTab=function(e){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===e){t=n;break}if(i.tabs[t].index===i.active){var r=t===i.tabs.length-1?t-1:t+1%i.tabs.length;i.select(r)}i.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==t&&i.select(r(e))}),e.$on("$destroy",function(){n=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,i,r,o){t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),angular.isUndefined(i.index)&&(r.tabs&&r.tabs.length?t.index=Math.max.apply(null,r.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(i.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===t){n=i;break}r.select(n,e)}},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function(e,t,n){var i=e.$eval(n.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){!function(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}(e)?t.append(e):i.headingElement=e})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,r,o,a){var s=new Date,l=[],u={$setViewValue:angular.noop},c=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,d=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){(u=t).$render=this.render,u.$formatters.unshift(function(e){return e?new Date(e):null});var r=i.eq(0),o=i.eq(1),s=i.eq(2);(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(r,o,s),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys)&&this.setupArrowkeyEvents(r,o,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o,s)};var p=a.hourStep;n.hourStep&&l.push(e.$parent.$watch(i(n.hourStep),function(e){p=+e}));var h,f,g=a.minuteStep;n.minuteStep&&l.push(e.$parent.$watch(i(n.minuteStep),function(e){g=+e})),l.push(e.$parent.$watch(i(n.min),function(e){var t=new Date(e);h=isNaN(t)?void 0:t})),l.push(e.$parent.$watch(i(n.max),function(e){var t=new Date(e);f=isNaN(t)?void 0:t}));var m=!1;n.ngDisabled&&l.push(e.$parent.$watch(i(n.ngDisabled),function(e){m=e})),e.noIncrementHours=function(){var e=E(s,60*p);return m||e>f||e<s&&e<h},e.noDecrementHours=function(){var e=E(s,60*-p);return m||e<h||e>s&&e>f},e.noIncrementMinutes=function(){var e=E(s,g);return m||e>f||e<s&&e<h},e.noDecrementMinutes=function(){var e=E(s,-g);return m||e<h||e>s&&e>f},e.noIncrementSeconds=function(){var e=k(s,v);return m||e>f||e<s&&e<h},e.noDecrementSeconds=function(){var e=k(s,-v);return m||e<h||e>s&&e>f},e.noToggleMeridian=function(){return s.getHours()<12?m||E(s,720)>f:m||E(s,-720)<h};var v=a.secondStep;function y(){var t=+e.hours;if((e.showMeridian?t>0&&t<13:t>=0&&t<24)&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===c[1]&&(t+=12)),t}function b(){var t=+e.minutes;if(t>=0&&t<60&&""!==e.minutes)return t}function w(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function $(e){C(),u.$setViewValue(new Date(s)),S(e)}function C(){u.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function S(t){if(u.$modelValue){var n=s.getHours(),i=s.getMinutes(),r=s.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:w(n,!d),"m"!==t&&(e.minutes=w(i)),e.meridian=s.getHours()<12?c[0]:c[1],"s"!==t&&(e.seconds=w(r)),e.meridian=s.getHours()<12?c[0]:c[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=c[0]}function x(e){s=k(s,e),$()}function E(e,t){return k(e,60*t)}function k(e,t){var n=new Date(e.getTime()+1e3*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function D(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}n.secondStep&&l.push(e.$parent.$watch(i(n.secondStep),function(e){v=+e})),e.showSeconds=a.showSeconds,n.showSeconds&&l.push(e.$parent.$watch(i(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=a.showMeridian,n.showMeridian&&l.push(e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,u.$error.time){var n=y(),i=b();angular.isDefined(n)&&angular.isDefined(i)&&(s.setHours(n),$())}else S()})),this.setupMousewheelEvents=function(t,n,i){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){m||e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){m||e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),i.bind("mousewheel wheel",function(t){m||e.$apply(r(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,i){t.bind("keydown",function(t){m||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.bind("keydown",function(t){m||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),i.bind("keydown",function(t){m||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,i){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var r=function(t,n,i){u.$setViewValue(null),u.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n),angular.isDefined(i)&&(e.invalidSeconds=i)};e.updateHours=function(){var e=y(),t=b();u.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(s.setHours(e),s.setMinutes(t),s<h||s>f?r(!0):$("h")):r(!0)},t.bind("blur",function(t){u.$setTouched(),D()?C():null===e.hours||""===e.hours?r(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=w(e.hours,!d)})}),e.updateMinutes=function(){var e=b(),t=y();u.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(s.setHours(t),s.setMinutes(e),s<h||s>f?r(void 0,!0):$("m")):r(void 0,!0)},n.bind("blur",function(t){u.$setTouched(),D()?C():null===e.minutes?r(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=w(e.minutes)})}),e.updateSeconds=function(){var t=function(){var t=+e.seconds;return t>=0&&t<60?t:void 0}();u.$setDirty(),angular.isDefined(t)?(s.setSeconds(t),$("s")):r(void 0,void 0,!0)},i.bind("blur",function(t){D()?C():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=w(e.seconds)})})},this.render=function(){var t=u.$viewValue;isNaN(t)?(u.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(s=t),s<h||s>f?(u.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):C(),S())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||x(60*p*60)},e.decrementHours=function(){e.noDecrementHours()||x(60*-p*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||x(60*g)},e.decrementMinutes=function(){e.noDecrementMinutes()||x(60*-g)},e.incrementSeconds=function(){e.noIncrementSeconds()||x(v)},e.decrementSeconds=function(){e.noDecrementSeconds()||x(-v)},e.toggleMeridian=function(){var t=b(),n=y();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?x(720*(s.getHours()<12?60:-60)):e.meridian=e.meridian===c[0]?c[1]:c[0])},e.blur=function(){u.$setTouched()},e.$on("$destroy",function(){for(;l.length;)l.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,i,r,o,a,s,l,u,c,d,p){var h,f,g=[9,13,27,38,40],m=e.$eval(n.typeaheadMinLength);m||0===m||(m=1),e.$watch(n.typeaheadMinLength,function(e){m=e||0===e?e:1});var v=e.$eval(n.typeaheadWaitMs)||0,y=!1!==e.$eval(n.typeaheadEditable);e.$watch(n.typeaheadEditable,function(e){y=!1!==e});var b,w,$=r(n.typeaheadLoading).assign||angular.noop,C=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},S=r(n.typeaheadOnSelect),x=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),E=r(n.typeaheadNoResults).assign||angular.noop,k=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,D=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),_=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,M=!1!==e.$eval(n.typeaheadFocusFirst),T=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),O=r(n.typeaheadIsOpen).assign||angular.noop,A=e.$eval(n.typeaheadShowHint)||!1,P=r(n.ngModel),I=r(n.ngModel+"($$$p)"),R=p.parse(n.uibTypeahead),L=e.$new(),N=e.$on("$destroy",function(){L.$destroy()});L.$on("$destroy",N);var F,G,V="typeahead-"+L.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":V}),A&&((F=angular.element("<div></div>")).css("position","relative"),t.after(F),(G=t.clone()).attr("placeholder",""),G.attr("tabindex","-1"),G.val(""),G.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),F.append(G),G.after(t));var H=angular.element("<div uib-typeahead-popup></div>");H.attr({id:V,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&H.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&H.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var j=function(){L.matches=[],L.activeIdx=-1,t.attr("aria-expanded",!1),A&&G.val("")},z=function(e){return V+"-option-"+e};L.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",z(e))});var U=function(n,i){var r={$viewValue:n};$(e,!0),E(e,!1),o.when(R.source(e,r)).then(function(o){var a=n===h.$viewValue;if(a&&b)if(o&&o.length>0){L.activeIdx=M?0:-1,E(e,!1),L.matches.length=0;for(var s=0;s<o.length;s++)r[R.itemName]=o[s],L.matches.push({id:z(s),label:R.viewMapper(L,r),model:o[s]});if(L.query=n,Y(),t.attr("aria-expanded",!0),T&&1===L.matches.length&&function(e,t){return!!(L.matches.length>t&&e)&&e.toUpperCase()===L.matches[t].label.toUpperCase()}(n,0)&&(angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)?c(function(){L.select(0,i)},angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate.default):L.select(0,i)),A){var l=L.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?G.val(n+l.slice(n.length)):G.val("")}}else j(),E(e,!0);a&&$(e,!1)},function(){j(),$(e,!1),E(e,!0)})};D&&(angular.element(l).on("resize",q),s.find("body").on("scroll",q));var W,B=c(function(){L.matches.length&&Y(),L.moveInProgress=!1},200);function q(){L.moveInProgress||(L.moveInProgress=!0,L.$digest()),B()}function Y(){L.position=D?d.offset(t):d.position(t),L.position.top+=t.prop("offsetHeight")}L.moveInProgress=!1,L.query=void 0;var K=function(){W&&a.cancel(W)};j(),L.assignIsOpen=function(t){O(e,t)},L.select=function(i,r){var o,s,l={};w=!0,l[R.itemName]=s=L.matches[i].model,o=R.modelMapper(e,l),function(t,n){angular.isFunction(P(e))&&f&&f.$options&&f.$options.getterSetter?I(t,{$$$p:n}):P.assign(t,n)}(e,o),h.$setValidity("editable",!0),h.$setValidity("parse",!0),S(e,{$item:s,$model:o,$label:R.viewMapper(e,l),$event:r}),j(),!1!==L.$eval(n.typeaheadFocusOnSelect)&&a(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==L.matches.length&&-1!==g.indexOf(t.which)){var n,i=C(e,{$event:t});if(-1===L.activeIdx&&i||9===t.which&&t.shiftKey)return j(),void L.$digest();switch(t.preventDefault(),t.which){case 27:t.stopPropagation(),j(),e.$digest();break;case 38:L.activeIdx=(L.activeIdx>0?L.activeIdx:L.matches.length)-1,L.$digest(),(n=H.find("li")[L.activeIdx]).parentNode.scrollTop=n.offsetTop;break;case 40:L.activeIdx=(L.activeIdx+1)%L.matches.length,L.$digest(),(n=H.find("li")[L.activeIdx]).parentNode.scrollTop=n.offsetTop;break;default:i&&L.$apply(function(){angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)?c(function(){L.select(L.activeIdx,t)},angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate.default):L.select(L.activeIdx,t)})}}}),t.bind("focus",function(e){b=!0,0!==m||h.$viewValue||a(function(){U(h.$viewValue,e)},0)}),t.bind("blur",function(e){x&&L.matches.length&&-1!==L.activeIdx&&!w&&(w=!0,L.$apply(function(){angular.isObject(L.debounceUpdate)&&angular.isNumber(L.debounceUpdate.blur)?c(function(){L.select(L.activeIdx,e)},L.debounceUpdate.blur):L.select(L.activeIdx,e)})),!y&&h.$error.editable&&(h.$setViewValue(),h.$setValidity("editable",!0),h.$setValidity("parse",!0),t.val("")),b=!1,w=!1});var Z=function(n){t[0]!==n.target&&3!==n.which&&0!==L.matches.length&&(j(),u.$$phase||e.$digest())};s.on("click",Z),e.$on("$destroy",function(){s.off("click",Z),(D||_)&&X.remove(),D&&(angular.element(l).off("resize",q),s.find("body").off("scroll",q)),H.remove(),A&&F.remove()});var X=i(H)(L);D?s.find("body").append(X):_?angular.element(_).eq(0).append(X):t.after(X),this.init=function(t,n){h=t,f=n,L.debounceUpdate=h.$options&&r(h.$options.debounce)(e),h.$parsers.unshift(function(t){return b=!0,0===m||t&&t.length>=m?v>0?(K(),function(e){W=a(function(){U(e)},v)}(t)):U(t):($(e,!1),K(),j()),y?t:t?void h.$setValidity("editable",!1):(h.$setValidity("editable",!0),null)}),h.$formatters.push(function(t){var n,i={};return y||h.$setValidity("editable",!0),k?(i.$model=t,k(e,i)):(i[R.itemName]=t,n=R.viewMapper(e,i),i[R.itemName]=void 0,n!==R.viewMapper(e,i)?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,i){t.templateUrl=i.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,i){var r=t.debounce();angular.isNumber(r)||angular.isObject(r)?e(function(){t.select({activeIdx:n,evt:i})},angular.isNumber(r)?r:r.default):t.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";e(a).then(function(e){var n=angular.element(e.trim());r.replaceWith(n),t(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){var i;return i=t.has("$sanitize"),function(t,r){return!i&&function(e){return/<.*>/g.test(e)}(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(r.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,i||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",ENTITY_BINDING:"$$this",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["¤","؋","Ar","Ƀ","฿","B/.","Br","Bs.","Bs.F.","GH₵","¢","c","Ch.","₡","C$","D","ден","دج",".د.ب","د.ع","JD","د.ك","ل.د","дин","د.ت","د.م.","د.إ","Db","$","₫","Esc","€","ƒ","Ft","FBu","FCFA","CFA","Fr","FRw","G","gr","₲","h","₴","₭","Kč","kr","kn","MK","ZK","Kz","K","L","Le","лв","E","lp","M","KM","MT","₥","Nfk","₦","Nu.","UM","T$","MOP$","₱","Pt.","£","ج.م.","LL","LS","P","Q","q","R","R$","ر.ع.","ر.ق","ر.س","៛","RM","p","Rf.","₹","₨","SRe","Rp","₪","Ksh","Sh.So.","USh","S/","SDR","сом","৳\t","WS$","₮","VT","₩","¥","zł"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,n,i){return{priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,r,o,a){if(a&&t.col.compiledElementFn)(0,t.col.compiledElementFn)(t,function(e,t){r.append(e)});else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e,t){r.append(e)})});else{var s=t.col.cellTemplate.replace(i.MODEL_COL_FIELD,"row.entity."+n.preEval(t.col.field)).replace(i.COL_FIELD,"grid.getCellValue(row, col)"),l=e(s)(t);r.append(l)}},post:function(e,t,n,r){var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(n){var i=t;a&&(i.removeClass(a),a=null),a=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,i.addClass(a)};e.col.cellClass&&s();var l=e.grid.registerDataChangeCallback(s,[i.dataChange.COLUMN,i.dataChange.EDIT]),u=e.$watch("row",function(n,i){if(n!==i){(a||e.col.cellClass)&&s();var r=e.col.getColClass(!1);r!==o&&(t.removeClass(o),t.addClass(r),o=r)}}),c=function(){l(),u()};e.$on("$destroy",c),t.on("$destroy",c)}}}}}]),angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,n){var i={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){void 0!==t&&t&&angular.isArray(t)?(t.forEach(function(t){void 0!==t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return!!(e.grid.options.enableSorting&&void 0!==e.col&&e.col&&e.col.enableSorting)},isActiveSort:function(e,t){return void 0!==e.col&&void 0!==e.col.sort&&void 0!==e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return!(!e.col||!e.col.suppressRemoveSort)},hideable:function(e){return void 0===e.col||!e.col||!e.col.colDef||!1!==e.col.colDef.enableHiding},getDefaultMenuItems:function(n){return[{title:e.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),n.sortColumn(e,t.ASC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.ASC)}},{title:e.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),n.sortColumn(e,t.DESC)},shown:function(){return i.sortable(n)},active:function(){return i.isActiveSort(n,t.DESC)}},{title:e.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.unsortColumn()},shown:function(){return i.sortable(n)&&void 0!==n.col&&void 0!==n.col.sort&&void 0!==n.col.sort.direction&&null!==n.col.sort.direction&&!i.suppressRemoveSort(n)}},{title:e.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return i.hideable(n)},action:function(e){e.stopPropagation(),n.hideColumn()}}]},getColumnElementPosition:function(e,t,i){var r={};return r.left=i[0].offsetLeft,r.top=i[0].offsetTop,r.parentLeft=i[0].offsetParent.offsetLeft,r.offset=0,t.grid.options.offsetLeft&&(r.offset=t.grid.options.offsetLeft),r.height=n.elementHeight(i,!0),r.width=n.elementWidth(i,!0),r},repositionMenu:function(e,t,i,r,o){var a=r[0].querySelectorAll(".ui-grid-menu"),s=n.closestElm(o,".ui-grid-render-container"),l=s.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,u=s.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,c=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,d=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var p=a[0].querySelectorAll(".ui-grid-menu-mid");0===p.length||angular.element(p).hasClass("ng-hide")||(c=n.elementWidth(a,!0),e.lastMenuWidth=c,t.lastMenuWidth=c,d=parseInt(n.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=d,t.lastMenuPaddingRight=d)}var h=i.left+l-u+i.parentLeft+i.width-c+d;h<i.offset&&(h=i.offset),r.css("left",h+"px"),r.css("top",i.top+i.height+"px")}};return i}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(e,t,n,i,r){return{priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(o,a,s,l){i.initialize(o,l),o.defaultMenuItems=i.getDefaultMenuItems(o),o.menuItems=o.defaultMenuItems,i.setColMenuItemWatch(o),o.showMenu=function(e,t,n){o.col=e;var r=i.getColumnElementPosition(o,e,t);o.menuShown?(o.colElement=t,o.colElementPosition=r,o.hideThenShow=!0,o.$broadcast("hide-menu",{originalEvent:n})):(o.menuShown=!0,i.repositionMenu(o,e,r,a,t),o.colElement=t,o.colElementPosition=r,o.$broadcast("show-menu",{originalEvent:n}))},o.hideMenu=function(e){o.menuShown=!1,e||o.$broadcast("hide-menu")},o.$on("menu-hidden",function(){o.hideThenShow?(delete o.hideThenShow,i.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),o.$broadcast("show-menu"),o.menuShown=!0):(o.hideMenu(!0),o.col&&t.focus.bySelector(r,".ui-grid-header-cell."+o.col.getColClass()+" .ui-grid-column-menu-button",o.col.grid,!1))}),o.$on("menu-shown",function(){e(function(){i.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),t.focus.bySelector(r,".ui-grid-menu-items .ui-grid-menu-item",!0),delete o.colElementPosition,delete o.columnElement},200)}),o.sortColumn=function(e,t){e.stopPropagation(),o.grid.sortColumn(o.col,t,!0).then(function(){o.grid.refresh(),o.hideMenu()})},o.unsortColumn=function(){o.col.unsort(),o.grid.refresh(),o.hideMenu()},o.hideColumn=function(){o.col.colDef.visible=!1,o.col.visible=!1,o.grid.queueGridRefresh(),o.hideMenu(),o.grid.api.core.notifyDataChange(n.dataChange.COLUMN),o.grid.api.core.raise.columnVisibilityChanged(o.col),e(function(){var e,n,i=function(){return t.focus.byId("grid-menu",o.grid)};if(o.grid.columns.some(function(t,n){return angular.equals(t,o.col)?(e=n,!0):void 0}),o.grid.columns.some(function(t,i){if(!t.visible)return!1;if(e>i)n=t;else{if(i>e&&!n)return n=t,!0;if(i>e&&n)return!0}}),n){var a=n.getColClass();t.focus.bySelector(r,".ui-grid-header-cell."+a+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(e){return"canceled"!==e?i():void 0})}else i()})}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]}}]),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(e,t,n,i){return{compile:function(){return{pre:function(t,n,i,r){t.col.updateFilters=function(i){if(n.children().remove(),i){var r=t.col.filterHeaderTemplate;n.append(e(r)(t))}},t.$on("$destroy",function(){delete t.col.updateFilters})},post:function(e,t,r,o){e.aria=n.getSafeText("headerCell.aria"),e.removeFilter=function(e,n){e.term=null,i.focus.bySelector(t,".ui-grid-filter-input-"+n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,n,i){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(e,t,r){return{pre:function(e,t,n,r){var o=i(e.col.footerCellTemplate)(e);t.append(o)},post:function(e,t,i,r){e.grid=r.grid;var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(n){var i=t;a&&(i.removeClass(a),a=null),a=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,i.addClass(a)};e.col.footerCellClass&&s(),e.col.updateAggregationValue();var l=e.grid.registerDataChangeCallback(s,[n.dataChange.COLUMN]);e.grid.api.core.on.rowsRendered(e,e.col.updateAggregationValue),e.grid.api.core.on.rowsRendered(e,s),e.$on("$destroy",l)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i,r){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,r,o){var a=o[0],s=o[1];e.grid=a.grid,e.colContainer=s.colContainer,s.footer=n;var l=e.grid.options.footerTemplate;i.getTemplate(l).then(function(i){var r=angular.element(i),o=t(r)(e);if(n.append(o),s){var a=n[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}})},post:function(e,t,n,r){var o=r[0],a=r[1];o.grid,i.disableAnimations(t),a.footer=t;var s=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];s&&(a.footerViewport=s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,i,r){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(e,n){return{pre:function(e,n,r,o){e.grid=o.grid;var a=e.grid.options.gridFooterTemplate;i.getTemplate(a).then(function(i){var r=angular.element(i),o=t(r)(e);n.append(o)})},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(t,i){return{pre:function(t,i,r,o){var a=t.grid.options.groupPanelTemplate||"ui-grid/ui-grid-group-panel";n.getTemplate(a).then(function(n){var r=angular.element(n),o=e(r)(t);i.append(o)})},post:function(e,t,n,i){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(e,t,n,i,r,o,a,s){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,n,i){var r=e(t.col.headerCellTemplate)(t);n.append(r)},post:function(e,n,r,a){var l=a[0],u=a[1];e.i18n={headerCell:s.getSafeText("headerCell"),sort:s.getSafeText("sort")},e.isSortPriorityVisible=function(){return angular.isNumber(e.col.sort.priority)&&e.grid.columns.some(function(t,n){return angular.isNumber(t.sort.priority)&&t!==e.col})},e.getSortDirectionAriaLabel=function(){var t=e.col,n=t.sort.direction===o.ASC?e.i18n.sort.ascending:t.sort.direction===o.DESC?e.i18n.sort.descending:e.i18n.sort.none;return e.isSortPriorityVisible()&&(n=n+". "+e.i18n.headerCell.priority+" "+t.sort.priority),n},e.grid=l.grid,e.renderContainer=l.grid.renderContainers[u.containerId];var c=e.col.getColClass(!1);n.addClass(c),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC;var d,p,h=(angular.element(n[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(n[0].querySelectorAll(".ui-grid-cell-contents"))),f=[];e.downFn=function(r){r.stopPropagation(),void 0!==r.originalEvent&&void 0!==r.originalEvent&&(r=r.originalEvent),r.button&&0!==r.button||(p=r.pageX,e.mousedownStartTime=(new Date).getTime(),e.mousedownTimeout=t(function(){},500),e.mousedownTimeout.then(function(){e.colMenu&&l.columnMenuScope.showMenu(e.col,n,r)}),l.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:r,columnName:e.col.colDef.name}),e.offAllEvents(),"touchstart"===r.type?(i.on("touchend",e.upFn),i.on("touchmove",e.moveFn)):"mousedown"===r.type&&(i.on("mouseup",e.upFn),i.on("mousemove",e.moveFn)))},e.upFn=function(n){n.stopPropagation(),t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type),(new Date).getTime()-e.mousedownStartTime>500||e.sortable&&e.handleClick(n)},e.moveFn=function(n){0!==n.pageX-p&&(t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type))},e.clickFn=function(t){t.stopPropagation(),h.off("click",e.clickFn)},e.offAllEvents=function(){h.off("touchstart",e.downFn),h.off("mousedown",e.downFn),i.off("touchend",e.upFn),i.off("mouseup",e.upFn),i.off("touchmove",e.moveFn),i.off("mousemove",e.moveFn),h.off("click",e.clickFn)},e.onDownEvents=function(n){switch(n){case"touchmove":case"touchend":h.on("click",e.clickFn),h.on("touchstart",e.downFn),t(function(){h.on("mousedown",e.downFn)},500);break;case"mousemove":case"mouseup":h.on("click",e.clickFn),h.on("mousedown",e.downFn),t(function(){h.on("touchstart",e.downFn)},500);break;default:h.on("click",e.clickFn),h.on("touchstart",e.downFn),h.on("mousedown",e.downFn)}};var g=function(i){var r=n;d&&(r.removeClass(d),d=null),d=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,r.addClass(d),t(function(){var t=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===t.visibleColumnCache[t.visibleColumnCache.length-1]}),e.col.enableSorting?e.sortable=!0:e.sortable=!1;var a=e.filterable;l.grid.options.enableFiltering&&e.col.enableFiltering?e.filterable=!0:e.filterable=!1,a!==e.filterable&&(void 0!==e.col.updateFilters&&e.col.updateFilters(e.filterable),e.filterable?(e.col.filters.forEach(function(t,n){f.push(e.$watch("col.filters["+n+"].term",function(e,t){e!==t&&(l.grid.api.core.raise.filterChanged(),l.grid.api.core.notifyDataChange(o.dataChange.COLUMN),l.grid.queueGridRefresh())}))}),e.$on("$destroy",function(){f.forEach(function(e){e()})})):f.forEach(function(e){e()})),e.col.grid.options&&!1!==e.col.grid.options.enableColumnMenus&&e.col.colDef&&!1!==e.col.colDef.enableColumnMenu?e.colMenu=!0:e.colMenu=!1,e.offAllEvents(),(e.sortable||e.colMenu)&&(e.onDownEvents(),e.$on("$destroy",function(){e.offAllEvents()}))};g();var m=e.grid.registerDataChangeCallback(g,[o.dataChange.COLUMN]);e.$on("$destroy",m),e.handleClick=function(t){var n=!1;t.shiftKey&&(n=!0),l.grid.sortColumn(e.col,n).then(function(){l.columnMenuScope&&l.columnMenuScope.hideMenu(),l.grid.refresh()})},e.toggleMenu=function(t){t.stopPropagation(),l.columnMenuScope.menuShown&&l.columnMenuScope.col===e.col?l.columnMenuScope.hideMenu():l.columnMenuScope.showMenu(e.col,n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,t,n,i,r,o){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,r,a){function s(){d.header=d.colContainer.header=n;var e=n[0].getElementsByClassName("ui-grid-header-canvas");e.length>0?d.headerCanvas=d.colContainer.headerCanvas=e[0]:d.headerCanvas=null}function l(e){if(!c.grid.isScrollingHorizontally){var t=i.normalizeScrollLeft(d.headerViewport,c.grid),n=d.colContainer.scrollHorizontal(t),r=new o(c.grid,null,d.colContainer,o.Sources.ViewPortScroll);r.newScrollLeft=t,n>-1&&(r.x={percentage:n}),c.grid.scrollContainers(null,r)}}var u,c=a[0],d=a[1];e.grid=c.grid,e.colContainer=d.colContainer,s(),u=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:"ui-grid/ui-grid-header":"ui-grid/ui-grid-no-header",i.getTemplate(u).then(function(i){var r=angular.element(i),o=t(r)(e);if(n.replaceWith(o),n=o,s(),d){var a=n[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(d.headerViewport=a,angular.element(a).on("scroll",l),e.$on("$destroy",function(){angular.element(a).off("scroll",l)}))}e.grid.queueRefresh()})},post:function(e,t,n,r){var o=r[0],a=r[1];o.grid,i.disableAnimations(t),a.header=t;var s=t[0].getElementsByClassName("ui-grid-header-viewport")[0];s&&(a.headerViewport=s),o&&o.grid.registerStyleComputation({priority:15,func:function(){var e="",t=0;return a.colContainer.visibleColumnCache.forEach(function(n){e+=n.getColClassDefinition(),t+=n.drawnWidth}),a.colContainer.canvasWidth=t,e}})}}}}}])}(),angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,n){var i={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",i.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",i.removeFromGridMenu)},addToGridMenu:function(t,n){angular.isArray(n)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(n)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,n){var i=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,r){t.id===n&&(i>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):i=r)}),i>-1&&t.gridMenuScope.registeredMenuItems.splice(i,1)},getMenuItems:function(n){var r=[];n.grid.options.gridMenuCustomItems&&(angular.isArray(n.grid.options.gridMenuCustomItems)?r=r.concat(n.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var o=[{title:t.getSafeText("gridMenu.clearAllFilters"),action:function(e){n.grid.clearAllFilters()},shown:function(){return n.grid.options.enableFiltering},order:100}];return r=(r=r.concat(o)).concat(n.registeredMenuItems),!1!==n.grid.options.gridMenuShowHideColumns&&(r=r.concat(i.showHideColumns(n))),r.sort(function(e,t){return e.order-t.order}),r},showHideColumns:function(e){var n=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(n.push({title:t.getSafeText("gridMenu.columns"),order:300}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t,r){if(!1!==t.enableHiding){var o={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),i.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!0===this.context.gridCol.colDef.visible||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r};i.setMenuItemTitle(o,t,e.grid),n.push(o),o={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),i.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(!0===this.context.gridCol.colDef.visible||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r+1},i.setMenuItemTitle(o,t,e.grid),n.push(o)}}),n):n},setMenuItemTitle:function(t,n,i){var r=i.options.gridMenuTitleFilter(n.displayName||e.readableColumnName(n.name)||n.field);"string"==typeof r?t.title=r:r.then?(t.title="",r.then(function(e){t.title=e},function(e){t.title=e})):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(!0===e.colDef.visible||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(n.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return i}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(e,t,n,i){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(t,r,o,a){var s=a[0];t.i18n={aria:i.getSafeText("gridMenu.aria")},n.initialize(t,s.grid),t.shown=!1,t.toggleMenu=function(){t.shown?(t.$broadcast("hide-menu"),t.shown=!1):(t.menuItems=n.getMenuItems(t),t.$broadcast("show-menu"),t.shown=!0)},t.$on("menu-hidden",function(){t.shown=!1,e.focus.bySelector(r,".ui-grid-icon-container")})}}}]),angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(e,t,n,i,r,o,a){return{priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(i,s,l,u){if(i.dynamicStyles="",u&&u.grid&&u.grid.options&&u.grid.options.gridMenuTemplate){var c=u.grid.options.gridMenuTemplate;r.getTemplate(c).then(function(t){var n=angular.element(t),r=e(n)(i);s.replaceWith(r)})}var d=function(e){var t=e-u.grid.headerHeight-20;i.dynamicStyles=[".grid"+u.grid.id+" .ui-grid-menu-mid {","max-height: "+t+"px;","}"].join(" ")};u&&(d(u.grid.gridHeight),u.grid.api.core.on.gridDimensionChanged(i,function(e,t,n,i){d(n)})),i.i18n={close:a.getSafeText("columnMenu.close")},i.showMenu=function(e,n){i.shown?i.shownMid||(i.shownMid=!0,i.$emit("menu-shown")):(i.shown=!0,t(function(){i.shownMid=!0,i.$emit("menu-shown")}));var o="click";n&&n.originalEvent&&n.originalEvent.type&&"touchstart"===n.originalEvent.type&&(o=n.originalEvent.type),angular.element(document).off("click touchstart",p),s.off("keyup",h),s.off("keydown",f),t(function(){angular.element(document).on(o,p),s.on("keyup",h),s.on("keydown",f)}),r.focus.bySelector(s,"button[type=button]",!0)},i.hideMenu=function(e){i.shown&&(i.shownMid=!1,t(function(){i.shownMid||(i.shown=!1,i.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",p),s.off("keyup",h),s.off("keydown",f)},i.$on("hide-menu",function(e,t){i.hideMenu(e,t)}),i.$on("show-menu",function(e,t){i.showMenu(e,t)});var p=function(){i.shown&&i.$apply(function(){i.hideMenu()})},h=function(e){27===e.keyCode&&i.hideMenu()},f=function(e){var t=function(t){return t.focus(),e.preventDefault(),!1};if(9===e.keyCode){var n,i,r=s[0].querySelectorAll("button:not(.ng-hide)");r.length>0&&(n=r[0],i=r[r.length-1],e.target!==i||e.shiftKey?e.target===n&&e.shiftKey&&t(i):t(n))}};(void 0===i.autoHide||void 0===i.autoHide)&&(i.autoHide=!0),i.autoHide&&angular.element(n).on("resize",p),i.$on("$destroy",function(){angular.element(n).off("resize",p),angular.element(document).off("click touchstart",p),s.off("keyup",h),s.off("keydown",f)}),u&&i.$on("$destroy",u.grid.api.core.on.scrollBegin(i,p)),i.$on("$destroy",i.$on(o.events.ITEM_DRAGGING,p))}}}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,n){return{priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(n,i){n.templateUrl&&e.getTemplate(n.templateUrl).then(function(e){var r=angular.element(e),o=t(r)(n);i.replaceWith(o)})},post:function(t,i,r,o){var a=o[0];(void 0===t.shown||null===t.shown)&&(t.shown=function(){return!0}),t.itemShown=function(){var e={};return t.context&&(e.context=t.context),void 0!==a&&a&&(e.grid=a.grid),t.shown.call(e)},t.itemAction=function(n,r){if(n.stopPropagation(),"function"==typeof t.action){var o={};t.context&&(o.context=t.context),void 0!==a&&a&&(o.grid=a.grid),t.action.call(o,n,r),t.leaveOpen?e.focus.bySelector(angular.element(e.closestElm(i,".ui-grid-menu-items")),"button[type=button]",!0):t.$emit("hide-menu")}},t.i18n=n.get()}}}}}]),function(){"use strict";var e=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(t){var n="uiGridOneBind",i=(t.aria?n+"Aria":n)+(t.directiveName?t.directiveName:t.tag);e.directive(i,["gridUtil",function(e){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(n,r,o,a){var s=function(t){var r;if(n.grid)r=n.grid;else if(n.col&&n.col.grid)r=n.col.grid;else if(!a.some(function(e){return e&&e.grid?(r=e.grid,!0):void 0}))throw e.logError("["+i+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+t),new Error("No valid grid could be found");r&&(new RegExp(r.id.toString()).test(t)||(t=r.id.toString()+"-"+t));return t},l=n.$watch(o[i],function(e){if(e){if(t.appendGridId){var n=null;angular.forEach(e.split(" "),function(e){n=(n?n+" ":"")+s(e)}),e=n}switch(t.method){case"attr":t.aria?r[t.method]("aria-"+t.tag.toLowerCase(),e):r[t.method](t.tag.toLowerCase(),e);break;case"addClass":if(angular.isObject(e)&&!angular.isArray(e)){var i=[],o=!1;if(angular.forEach(e,function(e,t){null!==e&&void 0!==e&&(o=!0,e&&i.push(t))}),!o)return;e=i}if(!e)return;r.addClass(angular.isArray(e)?e.join(" "):e);break;default:r[t.method](e)}l()}},!0)}}}])})}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,n,i,r){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,n,i){var r=i[0],o=i[1],a=e.grid=r.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!a.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!a.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var s=e.rowContainer=a.renderContainers[e.rowContainerName],l=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=s,o.colContainer=l},post:function(e,t,n,o){var a=o[0],s=o[1],l=a.grid,u=s.rowContainer,c=s.colContainer,d=null,p=null,h=l.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),i.on.mousewheel(t,function(e){var t=new r(l,u,c,r.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var n=-1*e.deltaY*e.deltaFactor;d=s.viewport[0].scrollTop,t.verticalScrollLength=u.getVerticalScrollLength();var o=(d+n)/t.verticalScrollLength;o>=1&&d<t.verticalScrollLength&&(s.viewport[0].scrollTop=t.verticalScrollLength),0>o?o=0:o>1&&(o=1),t.y={percentage:o,pixels:n}}if(0!==e.deltaX){var a=e.deltaX*e.deltaFactor;p=i.normalizeScrollLeft(s.viewport,l),t.horizontalScrollLength=c.getCanvasWidth()-c.getViewportWidth();var h=(p+a)/t.horizontalScrollLength;0>h?h=0:h>1&&(h=1),t.x={percentage:h,pixels:a}}0!==e.deltaY&&(t.atTop(d)||t.atBottom(d))||0!==e.deltaX&&(t.atLeft(p)||t.atRight(p))||(e.preventDefault(),e.stopPropagation(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),a.grid.registerStyleComputation({priority:6,func:function(){var t,n,i="",r=c.canvasWidth,o=c.getViewportWidth(),s=u.getCanvasHeight(),d=u.getViewportHeight();return c.needsHScrollbarPlaceholder()&&(d-=l.scrollbarHeight),t=n=c.getHeaderViewportWidth(),i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+r+"px; height: "+s+"px; }",i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(r+l.scrollbarWidth)+"px; }",i+=h.explicitHeaderCanvasHeight?"\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: "+h.explicitHeaderCanvasHeight+"px; }":"\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: inherit; }",i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+o+"px; height: "+d+"px; }",i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+t+"px; }",(i+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+(r+l.scrollbarWidth)+"px; }")+"\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+n+"px; }"}})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e,t){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(e){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,n,i){function r(){e.row.getRowTemplateFn.then(function(n){var i=e.$new();n(i,function(e,n){o&&(o.remove(),a.$destroy()),t.empty().append(e),o=e,a=i})})}var o,a,s=i[0],l=i[1];s.grid,e.grid=s.grid,e.colContainer=l.colContainer,r(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&r()})},post:function(e,t,n,i){}}}}}])}(),angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,n,i,r){var o=t(n.text(),!0);o&&e.$watch(o,function(e){n.text(e)})}}}]),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(e,t,n,i){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(n,i,r,o){function a(r){var o=i[0].scrollTop,a=e.normalizeScrollLeft(i,d),s=u.scrollVertical(o),l=c.scrollHorizontal(a),p=new t(d,u,c,t.Sources.ViewPortScroll);p.newScrollLeft=a,p.newScrollTop=o,l>-1&&(p.x={percentage:l}),s>-1&&(p.y={percentage:s}),d.scrollContainers(n.$parent.containerId,p)}var s=o[0],l=o[1];n.containerCtrl=l;var u=l.rowContainer,c=l.colContainer,d=s.grid;n.grid=s.grid,n.rowContainer=l.rowContainer,n.colContainer=l.colContainer,l.viewport=i,d&&d.options&&d.options.customScroller?d.options.customScroller(i,a):i.on("scroll",a),n.$parent.bindScrollVertical&&d.addVerticalScrollSync(n.$parent.containerId,function(e){l.prevScrollArgs=e;var t=e.getNewScrollTop(u,l.viewport);i[0].scrollTop=t}),n.$parent.bindScrollHorizontal&&(d.addHorizontalScrollSync(n.$parent.containerId,function(t){l.prevScrollArgs=t;var n=t.getNewScrollLeft(c,l.viewport);i[0].scrollLeft=e.denormalizeScrollLeft(l.viewport,n,d)}),d.addHorizontalScrollSync(n.$parent.containerId+"header",function(t){var n=t.getNewScrollLeft(c,l.viewport);l.headerViewport&&(l.headerViewport.scrollLeft=e.denormalizeScrollLeft(l.viewport,n,d))}),d.addHorizontalScrollSync(n.$parent.containerId+"footer",function(t){var n=t.getNewScrollLeft(c,l.viewport);l.footerViewport&&(l.footerViewport.scrollLeft=e.denormalizeScrollLeft(l.viewport,n,d))})),n.$on("$destroy",function(){i.off()})},controller:["$scope",function(e){this.rowStyle=function(t){var n=e.rowContainer,i=e.colContainer,r={};if(0!==n.currentTopRow){var o="translateY("+n.currentTopRow*n.grid.options.rowHeight+"px)";r.transform=o,r["-webkit-transform"]=o,r["-ms-transform"]=o}return 0!==i.currentFirstColumn&&(i.grid.isRTL()?r["margin-right"]=i.columnOffset+"px":r["margin-left"]=i.columnOffset+"px"),r}}]}}])}(),angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,n){e.$watch(n.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}}),function(){"use strict";function e(e,t,n,i,r,o){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(e,t,a,s){function l(){c.gridWidth=e.gridWidth=r.elementWidth(t),c.canvasWidth=s.grid.gridWidth,c.gridHeight=e.gridHeight=r.elementHeight(t),c.gridHeight<=c.options.rowHeight&&c.options.enableMinHeightCheck&&function(){var n=c.options.minRowsToShow*c.options.rowHeight,i=c.options.showHeader?c.options.headerRowHeight:0,a=c.calcFooterHeight(),s=0;c.options.enableHorizontalScrollbar===o.scrollbars.ALWAYS&&(s=r.getScrollbarWidth());var l=0;if(angular.forEach(c.options.columnDefs,function(e){e.hasOwnProperty("filter")?1>l&&(l=1):e.hasOwnProperty("filters")&&l<e.filters.length&&(l=e.filters.length)}),c.options.enableFiltering&&!l){var u=c.options.columnDefs.length&&c.options.columnDefs.every(function(e){return!1===e.enableFiltering});u||(l=1)}var d=i+n+a+s+l*i;t.css("height",d+"px"),c.gridHeight=e.gridHeight=r.elementHeight(t)}(),c.refreshCanvas(!0)}function u(n){c.gridWidth=e.gridWidth=r.elementWidth(t),c.gridHeight=e.gridHeight=r.elementHeight(t),c.refreshCanvas(!0)}var c=s.grid;s.scrollbars=[],c.element=t;var d=100,p=20,h=0;angular.element(i).on("resize",u),t.on("$destroy",function(){angular.element(i).off("resize",u)}),e.$watch(function(){return c.hasLeftContainer()},function(e,t){e!==t&&c.refreshCanvas(!0)}),e.$watch(function(){return c.hasRightContainer()},function(e,t){e!==t&&c.refreshCanvas(!0)}),l(),c.renderingComplete(),function e(){t[0].offsetWidth<=0&&p>h?(setTimeout(e,d),h++):n(l)}()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(e,t,n,i,r,o,a,s,l,u,c){function d(t,n){t&&t!==n&&(h.grid.options.columnDefs=e.uiGrid.columnDefs,h.grid.buildColumns({orderByColumnDefs:!0}).then(function(){h.grid.preCompileCellTemplates(),h.grid.callDataChangeCallbacks(o.dataChange.COLUMN)}))}function p(t){var i=[];if(h.grid.options.fastWatch&&(t=angular.isString(e.uiGrid.data)?h.grid.appScope[e.uiGrid.data]:e.uiGrid.data),g=t,t){var a=h.grid.columns.length>(h.grid.rowHeaderColumns?h.grid.rowHeaderColumns.length:0);!a&&!n.uiGridColumns&&0===h.grid.options.columnDefs.length&&t.length>0&&h.grid.buildColumnDefsFromData(t),!a&&(h.grid.options.columnDefs.length>0||t.length>0)&&i.push(h.grid.buildColumns().then(function(){h.grid.preCompileCellTemplates()})),r.all(i).then(function(){h.grid.modifyRows(g).then(function(){h.grid.redrawInPlace(!0),e.$evalAsync(function(){h.grid.refreshCanvas(!0),h.grid.callDataChangeCallbacks(o.dataChange.ROW)})})})}}var h=this;h.grid=s.createGrid(e.uiGrid),h.grid.appScope=h.grid.appScope||e.$parent,t.addClass("grid"+h.grid.id),h.grid.rtl="rtl"===i.getStyles(t[0]).direction,e.grid=h.grid,n.uiGridColumns&&n.$observe("uiGridColumns",function(e){h.grid.options.columnDefs=e,h.grid.buildColumns().then(function(){h.grid.preCompileCellTemplates(),h.grid.refreshCanvas(!0)})});var f=[];h.grid.options.fastWatch?(h.uiGrid=e.uiGrid,angular.isString(e.uiGrid.data)?(f.push(e.$parent.$watch(e.uiGrid.data,p)),f.push(e.$parent.$watch(function(){return h.grid.appScope[e.uiGrid.data]?h.grid.appScope[e.uiGrid.data].length:void 0},p))):(f.push(e.$parent.$watch(function(){return e.uiGrid.data},p)),f.push(e.$parent.$watch(function(){return e.uiGrid.data.length},function(){p(e.uiGrid.data)}))),f.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs},d)),f.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs.length},function(){d(e.uiGrid.columnDefs)}))):(angular.isString(e.uiGrid.data)?f.push(e.$parent.$watchCollection(e.uiGrid.data,p)):f.push(e.$parent.$watchCollection(function(){return e.uiGrid.data},p)),f.push(e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},d)));var g,m=e.$watch(function(){return h.grid.styleComputations},function(){h.grid.refreshCanvas(!0)});e.$on("$destroy",function(){f.forEach(function(e){e()}),m()}),h.fireEvent=function(t,n){(void 0===n||void 0===n)&&(n={}),(void 0===n.grid||void 0===n.grid)&&(n.grid=h.grid),e.$broadcast(t,n)},h.innerCompile=function(t){c(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",e),e.$inject=["$compile","$templateCache","$timeout","$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,n,i){function r(){if("left"===e.side||"right"===e.side){for(var t=o.renderContainers[e.side].visibleColumnCache,n=0,i=0;i<t.length;i++){var r=t[i];n+=r.drawnWidth||r.width||0}return n}}var o=i.grid,a=0;t.addClass("ui-grid-pinned-container-"+e.side),("left"===e.side||"right"===e.side)&&(o.renderContainers[e.side].getViewportWidth=function(){var e=0;this.visibleColumnCache.forEach(function(t){e+=t.drawnWidth});var t=this.getViewportAdjustment();return e+=t.width}),o.renderContainers.body.registerViewportAdjuster(function(t){return a=r(),t.width-=a,t.side=e.side,t}),o.registerStyleComputation({priority:15,func:function(){var n="";return("left"===e.side||"right"===e.side)&&(a=r(),t.attr("style",null),n+=".grid"+o.id+" .ui-grid-pinned-container-"+e.side+", .grid"+o.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+a+"px; } "),n}})}}}}}])}(),angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(e,t,n,i,r,o,a,s,l,u,c,d,p,h){function f(){}var g=function(e){function t(e){a.isScrollingVertically=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=r.scrollDirection.NONE}function n(e){a.isScrollingHorizontally=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=r.scrollDirection.NONE}var a=this;if(void 0===e||void 0===e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');a.id=e.id,delete e.id,a.options=o.initialize(e),a.appScope=a.options.appScopeProvider,a.headerHeight=a.options.headerRowHeight,a.footerHeight=a.calcFooterHeight(),a.columnFooterHeight=a.calcColumnFooterHeight(),a.rtl=!1,a.gridHeight=0,a.gridWidth=0,a.columnBuilders=[],a.rowBuilders=[],a.rowsProcessors=[],a.columnsProcessors=[],a.styleComputations=[],a.viewportAdjusters=[],a.rowHeaderColumns=[],a.dataChangeCallbacks={},a.verticalScrollSyncCallBackFns={},a.horizontalScrollSyncCallBackFns={},a.renderContainers={},a.renderContainers.body=new d("body",a),a.cellValueGetterCache={},a.getRowTemplateFn=null,a.rows=[],a.columns=[],a.isScrollingVertically=!1,a.isScrollingHorizontally=!1,a.scrollDirection=r.scrollDirection.NONE,a.disableScrolling=!1;var s=i.debounce(t,a.options.scrollDebounce),c=i.debounce(t,0),p=i.debounce(n,a.options.scrollDebounce),h=i.debounce(n,0);a.flagScrollingVertically=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingVertically=!0,0!==a.options.scrollDebounce&&e.withDelay?s(e):c(e)},a.flagScrollingHorizontally=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingHorizontally=!0,0!==a.options.scrollDebounce&&e.withDelay?p(e):h(e)},a.scrollbarHeight=0,a.scrollbarWidth=0,a.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS&&(a.scrollbarHeight=i.getScrollbarWidth()),a.options.enableVerticalScrollbar===r.scrollbars.ALWAYS&&(a.scrollbarWidth=i.getScrollbarWidth()),a.api=new l(a),a.api.registerMethod("core","refresh",this.refresh),a.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),a.api.registerMethod("core","refreshRows",this.refreshRows),a.api.registerMethod("core","queueRefresh",this.queueRefresh),a.api.registerMethod("core","handleWindowResize",this.handleWindowResize),a.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),a.api.registerMethod("core","scrollToIfNecessary",function(e,t){return a.scrollToIfNecessary(e,t)}),a.api.registerMethod("core","scrollTo",function(e,t){return a.scrollTo(e,t)}),a.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),a.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),a.api.registerMethod("core","sortHandleNulls",u.handleNulls),a.api.registerEvent("core","sortChanged"),a.api.registerEvent("core","columnVisibilityChanged"),a.api.registerMethod("core","notifyDataChange",this.notifyDataChange),a.api.registerMethod("core","clearAllFilters",this.clearAllFilters),a.registerDataChangeCallback(a.columnRefreshCallback,[r.dataChange.COLUMN]),a.registerDataChangeCallback(a.processRowsCallback,[r.dataChange.EDIT]),a.registerDataChangeCallback(a.updateFooterHeightCallback,[r.dataChange.OPTIONS]),a.registerStyleComputation({priority:10,func:a.getFooterStyles})};g.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+this.calcColumnFooterHeight()},g.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},g.prototype.getFooterStyles=function(){return".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; } .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},g.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},g.prototype.isRTL=function(){return this.rtl},g.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},g.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=i.getColumnsFromData(e,this.options.excludeProperties)},g.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},g.prototype.registerDataChangeCallback=function(e,t,n){var o=i.nextUid();t||(t=[r.dataChange.ALL]),Array.isArray(t)||i.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:n};var a=this;return function(){delete a.dataChangeCallbacks[o]}},g.prototype.callDataChangeCallbacks=function(e,t){angular.forEach(this.dataChangeCallbacks,function(t,n){(-1!==t.types.indexOf(r.dataChange.ALL)||-1!==t.types.indexOf(e)||e===r.dataChange.ALL)&&(t._this?t.callback.apply(t._this,this):t.callback(this))},this)},g.prototype.notifyDataChange=function(e){var t=r.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):i.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},g.prototype.columnRefreshCallback=function(e){e.buildColumns(),e.queueGridRefresh()},g.prototype.processRowsCallback=function(e){e.queueGridRefresh()},g.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},g.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},g.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},g.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,n){if(!t.type){var r=new a(t,n,e),o=e.rows.length>0?e.rows[0]:null;t.type=o?i.guessType(e.getCellValue(o,r)):"string"}})},g.prototype.isRowHeaderColumn=function(e){return-1!==this.rowHeaderColumns.indexOf(e)},g.prototype.addRowHeaderColumn=function(e,t){var n=this;void 0===t&&(t=0);var r=new a(e,i.nextUid(),n);r.isRowHeader=!0,n.isRTL()?(n.createRightContainer(),r.renderContainer="right"):(n.createLeftContainer(),r.renderContainer="left"),n.columnBuilders[0](e,r,n.options).then(function(){r.enableFiltering=!1,r.enableSorting=!1,r.enableHiding=!1,r.headerPriority=t,n.rowHeaderColumns.push(r),n.rowHeaderColumns=n.rowHeaderColumns.sort(function(e,t){return e.headerPriority-t.headerPriority}),n.buildColumns().then(function(){n.preCompileCellTemplates(),n.queueGridRefresh()})})},g.prototype.getOnlyDataColumns=function(){var e=this,t=[];return e.columns.forEach(function(n){-1===e.rowHeaderColumns.indexOf(n)&&t.push(n)}),t},g.prototype.buildColumns=function(t){var n={orderByColumnDefs:!1};angular.extend(n,t);var r,o=this,s=[],l=o.rowHeaderColumns.length;for(r=0;r<o.columns.length;r++)o.getColDef(o.columns[r].name)||(o.columns.splice(r,1),r--);for(var u=o.rowHeaderColumns.length-1;u>=0;u--)o.columns.unshift(o.rowHeaderColumns[u]);if(o.options.columnDefs.forEach(function(e,t){o.preprocessColDef(e);var n=o.getColumn(e.name);n?n.updateColumnDef(e,!1):(n=new a(e,i.nextUid(),o),o.columns.splice(t+l,0,n)),o.columnBuilders.forEach(function(t){s.push(t.call(o,e,n,o.options))})}),n.orderByColumnDefs){var c=o.columns.slice(0),d=Math.min(o.options.columnDefs.length,o.columns.length);for(r=0;d>r;r++)o.columns[r+l].name!==o.options.columnDefs[r].name?c[r+l]=o.getColumn(o.options.columnDefs[r].name):c[r+l]=o.columns[r+l];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(c))}return e.all(s).then(function(){o.rows.length>0&&o.assignTypes()})},g.prototype.preCompileCellTemplate=function(e){var n=e.cellTemplate.replace(r.MODEL_COL_FIELD,this.getQualifiedColField(e));n=n.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var i=t(n);e.compiledElementFn=i,e.compiledElementFnDefer&&e.compiledElementFnDefer.resolve(e.compiledElementFn)},g.prototype.preCompileCellTemplates=function(){var e=this;e.columns.forEach(function(t){t.cellTemplate?e.preCompileCellTemplate(t):t.cellTemplatePromise&&t.cellTemplatePromise.then(function(){e.preCompileCellTemplate(t)})})},g.prototype.getQualifiedColField=function(e){var t="row.entity";return e.field===r.ENTITY_BINDING?t:i.preEval(t+"."+e.field)},g.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new d("left",this,{disableColumnOffset:!0}))},g.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new d("right",this,{disableColumnOffset:!0}))},g.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},g.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},g.prototype.preprocessColDef=function(e){if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var t=e.field,n=2;this.getColumn(t);)t=e.field+n.toString(),n++;e.name=t}},g.prototype.newInN=function(e,t,n,i){for(var r=[],o=0;o<t.length;o++){for(var a=i?t[o][i]:t[o],s=!1,l=0;l<e.length;l++){var u=n?e[l][n]:e[l];if(this.options.rowEquality(a,u)){s=!0;break}}s||r.push(a)}return r},g.prototype.getRow=function(e,t){var n=this,i=(t=void 0===t?n.rows:t).filter(function(t){return n.options.rowEquality(t.entity,e)});return i.length>0?i[0]:null},g.prototype.modifyRows=function(t){var n=this,i=n.rows.slice(0),r=n.rowHashMap||n.createRowHashMap();n.rowHashMap=n.createRowHashMap(),n.rows.length=0,t.forEach(function(e,t){var o,a;(a=n.options.enableRowHashing?r.get(e):n.getRow(e,i))&&((o=a).entity=e),o||(o=n.processRowBuilders(new s(e,t,n))),n.rows.push(o),n.rowHashMap.put(e,o)}),n.assignTypes();var o=e.when(n.processRowsProcessors(n.rows)).then(function(e){return n.setVisibleRows(e)}),a=e.when(n.processColumnsProcessors(n.columns)).then(function(e){return n.setVisibleColumns(e)});return e.all([o,a])},g.prototype.addRows=function(e){for(var t=this,n=t.rows.length,i=0;i<e.length;i++){var r=t.processRowBuilders(new s(e[i],i+n,t));if(t.options.enableRowHashing){var o=t.rowHashMap.get(r.entity);o&&(o.row=r)}t.rows.push(r)}},g.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(n){n.call(t,e,t.options)}),e},g.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},g.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},g.prototype.removeRowsProcessor=function(e){var t=-1;this.rowsProcessors.forEach(function(n,i){n.processor===e&&(t=i)}),-1!==t&&this.rowsProcessors.splice(t,1)},g.prototype.processRowsProcessors=function(t){var n=this,i=t.slice(0);if(0===n.rowsProcessors.length)return e.when(i);var r=e.defer();return function t(i,o){var a=n.rowsProcessors[i].processor;return e.when(a.call(n,o,n.columns)).then(function(e){if(!e)throw"Processor at index "+i+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+i+" did not return an array";return++i<=n.rowsProcessors.length-1?t(i,e):void r.resolve(e)})}(0,i),r.promise},g.prototype.setVisibleRows=function(e){var t=this;for(var n in t.renderContainers){var i=t.renderContainers[n];i.canvasHeightShouldUpdate=!0,void 0===i.visibleRowCache?i.visibleRowCache=[]:i.visibleRowCache.length=0}for(var r=0;r<e.length;r++){var o=e[r],a=void 0!==o.renderContainer&&o.renderContainer?o.renderContainer:"body";o.visible&&t.renderContainers[a].visibleRowCache.push(o)}t.api.core.raise.rowsVisibleChanged(this.api),t.api.core.raise.rowsRendered(this.api)},g.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},g.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);void 0!==t&&void 0!==t&&this.columnsProcessors.splice(t,1)},g.prototype.processColumnsProcessors=function(t){var n=this,i=t.slice(0);if(0===n.columnsProcessors.length)return e.when(i);var r=e.defer();return function t(o,a){var s=n.columnsProcessors[o].processor;return e.when(s.call(n,a,n.rows)).then(function(e){if(!e)throw"Processor at index "+o+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+o+" did not return an array";return++o<=n.columnsProcessors.length-1?t(o,i):void r.resolve(i)})}(0,i),r.promise},g.prototype.setVisibleColumns=function(e){var t=this;for(var n in t.renderContainers)t.renderContainers[n].visibleColumnCache.length=0;for(var i=0;i<e.length;i++){var r=e[i];r.visible&&(void 0!==r.renderContainer&&r.renderContainer?t.renderContainers[r.renderContainer].visibleColumnCache.push(r):t.renderContainers.body.visibleColumnCache.push(r))}},g.prototype.handleWindowResize=function(e){var t=this;return t.gridWidth=i.elementWidth(t.element),t.gridHeight=i.elementHeight(t.element),t.queueRefresh()},g.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&p.cancel(e.refreshCanceller),e.refreshCanceller=p(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}),e.refreshCanceller},g.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&p.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=p(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}),e.gridRefreshCanceller},g.prototype.updateCanvasHeight=function(){var e=this;for(var t in e.renderContainers)e.renderContainers.hasOwnProperty(t)&&(e.renderContainers[t].canvasHeightShouldUpdate=!0)},g.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var n=t.func.call(e);angular.isString(n)&&(e.customStyles+="\n"+n)})},g.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),n=0,i=0;return e.columns.forEach(function(r,o){if(t>i)i+=r.drawnWidth,n++;else{for(var a=0,s=o;s>=o-n;s--)a+=e.columns[s].drawnWidth;t>a&&n++}}),n},g.prototype.getBodyHeight=function(){return this.getViewportHeight()},g.prototype.getViewportHeight=function(){return this.gridHeight-this.headerHeight-this.footerHeight+this.getViewportAdjustment().height},g.prototype.getViewportWidth=function(){return this.gridWidth+this.getViewportAdjustment().width},g.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},g.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},g.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},g.prototype.scrollContainers=function(e,t){if(t.y){var n=["body","left","right"];this.flagScrollingVertically(t),"body"===e?n=["left","right"]:"left"===e?n=["body","right"]:"right"===e&&(n=["body","left"]);for(var i=0;i<n.length;i++){var r=n[i];this.verticalScrollSyncCallBackFns[r]&&this.verticalScrollSyncCallBackFns[r](t)}}if(t.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(o=["bodyheader","bodyfooter"]);for(var a=0;a<o.length;a++){var s=o[a];this.horizontalScrollSyncCallBackFns[s]&&this.horizontalScrollSyncCallBackFns[s](t)}}},g.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},g.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);void 0!==t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},g.prototype.getViewportAdjustment=function(){var e={height:0,width:0};return this.viewportAdjusters.forEach(function(t){e=t.call(this,e)}),e},g.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},g.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},g.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},g.prototype.searchRows=function(e){return c.search(this,e,this.columns)},g.prototype.sortByColumn=function(e){return u.sort(this,e,this.columns)},g.prototype.getCellValue=function(e,t){return void 0!==e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&void 0!==t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=n(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},g.prototype.getCellDisplayValue=function(e,t){if(!t.cellDisplayGetterCache){var i=t.cellFilter?" | "+t.cellFilter:"";void 0!==e.entity["$$"+t.uid]?t.cellDisplayGetterCache=n(e.entity["$$"+t.uid].rendered+i):this.options.flatEntityAccess&&void 0!==t.field?t.cellDisplayGetterCache=n(e.entity[t.field]+i):t.cellDisplayGetterCache=n(e.getEntityQualifiedColField(t)+i)}return t.cellDisplayGetterCache(e)},g.prototype.getNextColumnSortPriority=function(){var e=0;return this.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>=e&&(e=t.sort.priority+1)}),e},g.prototype.resetColumnSorting=function(e){this.columns.forEach(function(t){t===e||t.suppressRemoveSort||(t.sort={})})},g.prototype.getColumnSorting=function(){var e=[];return this.columns.slice(0).sort(u.prioritySort).forEach(function(t){t.sort&&void 0!==t.sort.direction&&t.sort.direction&&(t.sort.direction===r.ASC||t.sort.direction===r.DESC)&&e.push(t)}),e},g.prototype.sortColumn=function(t,n,i){var r=this,o=null;if(void 0===t||!t)throw new Error("No column parameter provided");if("boolean"==typeof n?i=n:o=n,i?void 0===t.sort.priority&&(t.sort.priority=r.getNextColumnSortPriority()):(r.resetColumnSorting(t),t.sort.priority=void 0,t.sort.priority=r.getNextColumnSortPriority()),o)t.sort.direction=o;else{var a=t.sortDirectionCycle.indexOf(t.sort.direction?t.sort.direction:null);a=(a+1)%t.sortDirectionCycle.length,t.colDef&&t.suppressRemoveSort&&!t.sortDirectionCycle[a]&&(a=(a+1)%t.sortDirectionCycle.length),t.sortDirectionCycle[a]?t.sort.direction=t.sortDirectionCycle[a]:m(t,r)}return r.api.core.raise.sortChanged(r,r.getColumnSorting()),e.when(t)};var m=function(e,t){t.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>e.sort.priority&&(t.sort.priority-=1)}),e.sort={}};return g.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},g.prototype.createRowHashMap=function(){var e=new f;return e.grid=this,e},g.prototype.refresh=function(t){var n=this,i=n.processRowsProcessors(n.rows).then(function(e){n.setVisibleRows(e)}),r=n.processColumnsProcessors(n.columns).then(function(e){n.setVisibleColumns(e)});return e.all([i,r]).then(function(){n.redrawInPlace(t),n.refreshCanvas(!0)})},g.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)})},g.prototype.refreshCanvas=function(t){var n=this;t&&n.buildStyles();var r=e.defer(),o=[];for(var a in n.renderContainers)if(n.renderContainers.hasOwnProperty(a)){var s=n.renderContainers[a];if(null===s.canvasWidth||isNaN(s.canvasWidth))continue;(s.header||s.headerCanvas)&&(s.explicitHeaderHeight=s.explicitHeaderHeight||null,s.explicitHeaderCanvasHeight=s.explicitHeaderCanvasHeight||null,o.push(s))}return o.length>0?(t&&n.buildStyles(),p(function(){var e,a,s=!1,l=0,u=0,c=function(e,t){return e!==t&&(s=!0),t};for(e=0;e<o.length;e++)if(null!==(a=o[e]).canvasWidth&&!isNaN(a.canvasWidth)){if(a.header){var d=a.headerHeight=c(a.headerHeight,parseInt(i.outerElementHeight(a.header),10)),p=i.getBorderSize(a.header,"top"),h=i.getBorderSize(a.header,"bottom"),f=parseInt(d-p-h,10);f=0>f?0:f,a.innerHeaderHeight=f,!a.explicitHeaderHeight&&f>l&&(l=f)}if(a.headerCanvas){var g=a.headerCanvasHeight=c(a.headerCanvasHeight,parseInt(i.outerElementHeight(a.headerCanvas),10));!a.explicitHeaderCanvasHeight&&g>u&&(u=g)}}for(e=0;e<o.length;e++)a=o[e],l>0&&void 0!==a.headerHeight&&null!==a.headerHeight&&(a.explicitHeaderHeight||a.headerHeight<l)&&(a.explicitHeaderHeight=c(a.explicitHeaderHeight,l)),u>0&&void 0!==a.headerCanvasHeight&&null!==a.headerCanvasHeight&&(a.explicitHeaderCanvasHeight||a.headerCanvasHeight<u)&&(a.explicitHeaderCanvasHeight=c(a.explicitHeaderCanvasHeight,u));t&&s&&n.buildStyles(),r.resolve()})):p(function(){r.resolve()}),r.promise},g.prototype.redrawInPlace=function(e){for(var t in this.renderContainers){var n=this.renderContainers[t];e?(n.adjustRows(n.prevScrollTop,null),n.adjustColumns(n.prevScrollLeft,null)):(n.adjustRows(null,n.prevScrolltopPercentage),n.adjustColumns(null,n.prevScrollleftPercentage))}},g.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},g.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},g.prototype.scrollToIfNecessary=function(t,n){var i=this,r=new h(i,"uiGrid.scrollToIfNecessary"),o=i.renderContainers.body.visibleRowCache,a=i.renderContainers.body.visibleColumnCache,s=i.renderContainers.body.prevScrollTop+i.headerHeight;s=0>s?0:s;var l=i.renderContainers.body.prevScrollLeft,u=i.renderContainers.body.prevScrollTop+i.gridHeight-i.renderContainers.body.headerHeight-i.footerHeight-i.scrollbarWidth,c=i.renderContainers.body.prevScrollLeft+Math.ceil(i.renderContainers.body.getViewportWidth());if(null!==t){var d,p=o.indexOf(t),f=i.renderContainers.body.getCanvasHeight()-i.renderContainers.body.getViewportHeight(),g=p*i.options.rowHeight+i.headerHeight;s>(g=0>g?0:g)?(d=(i.renderContainers.body.prevScrollTop-(s-g))/f,r.y={percentage:d}):g>u&&(d=(g-u+i.renderContainers.body.prevScrollTop)/f,r.y={percentage:d})}if(null!==n){for(var m=a.indexOf(n),v=i.renderContainers.body.getCanvasWidth()-i.renderContainers.body.getViewportWidth(),y=0,b=0;m>b;b++)y+=a[b].drawnWidth;var w,$=(y=0>y?0:y)+n.drawnWidth;$=0>$?0:$,l>y?(w=(w=(i.renderContainers.body.prevScrollLeft-(l-y))/v)>1?1:w,r.x={percentage:w}):$>c&&(w=(w=($-c+i.renderContainers.body.prevScrollLeft)/v)>1?1:w,r.x={percentage:w})}var C=e.defer();if(r.y||r.x){r.withDelay=!1,i.scrollContainers("",r);var S=i.api.core.on.scrollEnd(null,function(){C.resolve(r),S()})}else C.resolve();return C.promise},g.prototype.scrollTo=function(e,t){var n=null,i=null;return null!==e&&void 0!==e&&(n=this.getRow(e)),null!==t&&void 0!==t&&(i=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(n,i)},g.prototype.clearAllFilters=function(e,t,n){return void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===n&&(n=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),n&&(e.flags=void 0)})}),e?this.refreshRows():void 0},f.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},g}]),angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,n,i,r,o){function a(e,n,i,r){return t.$on(e,function(e){var t=Array.prototype.slice.call(arguments);t.splice(0,1),n.apply(r||i.api,t)})}var s=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",r.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",r.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")};return s.prototype.suppressEvents=function(e,t){var n=this,i=angular.isArray(e)?e:[e],r=n.listeners.filter(function(e){return i.some(function(t){return e.handler===t})});r.forEach(function(e){e.dereg()}),t(),r.forEach(function(e){e.dereg=a(e.eventId,e.handler,n.grid,e._this)})},s.prototype.registerEvent=function(e,i){var r=this;r[e]||(r[e]={});var o=r[e];o.on||(o.on={},o.raise={});var s=r.grid.id+e+i;o.raise[i]=function(){t.$emit.apply(t,[s].concat(Array.prototype.slice.call(arguments)))},o.on[i]=function(t,o,l){if(null===t||void 0!==t.$on){var u={handler:o,dereg:a(s,o,r.grid,l),eventId:s,scope:t,_this:l};r.listeners.push(u);var c=function(){u.dereg();var e=r.listeners.indexOf(u);r.listeners.splice(e,1)};return t&&t.$on("$destroy",function(){c()}),c}n.logError("asked to listen on "+e+".on."+i+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering")}},s.prototype.registerEventsFromObject=function(e){var t=this,n=[];angular.forEach(e,function(e,t){var i={name:t,events:[]};angular.forEach(e,function(e,t){i.events.push(t)}),n.push(i)}),n.forEach(function(e){e.events.forEach(function(n){t.registerEvent(e.name,n)})})},s.prototype.registerMethod=function(e,t,i,r){this[e]||(this[e]={}),this[e][t]=n.createBoundedWrapper(r||this.grid,i)},s.prototype.registerMethodsFromObject=function(e,t){var n=this,i=[];angular.forEach(e,function(e,t){var n={name:t,methods:[]};angular.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),i.push(n)}),i.forEach(function(e){e.methods.forEach(function(i){n.registerMethod(e.name,i.name,i.fn,t)})})},s}]),angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,n){function i(e,n,i){var r=this;r.grid=i,r.uid=n,r.updateColumnDef(e,!0),r.aggregationValue=void 0,r.updateAggregationValue=function(){if(r.aggregationType){var e=0,n=r.grid.getVisibleRows(),i=function(){var e=[];return n.forEach(function(t){var n=r.grid.getCellValue(t,r),i=Number(n);isNaN(i)||e.push(i)}),e};angular.isFunction(r.aggregationType)?r.aggregationValue=r.aggregationType(n,r):r.aggregationType===t.aggregationTypes.count?r.aggregationValue=r.grid.getVisibleRowCount():r.aggregationType===t.aggregationTypes.sum?(i().forEach(function(t){e+=t}),r.aggregationValue=e):r.aggregationType===t.aggregationTypes.avg?(i().forEach(function(t){e+=t}),e/=i().length,r.aggregationValue=e):r.aggregationType===t.aggregationTypes.min?r.aggregationValue=Math.min.apply(null,i()):r.aggregationType===t.aggregationTypes.max?r.aggregationValue=Math.max.apply(null,i()):r.aggregationValue=" "}else r.aggregationValue=void 0},this.getAggregationValue=function(){return r.aggregationValue}}return i.prototype.hideColumn=function(){this.colDef.visible=!1},i.prototype.setPropertyOrDefault=function(e,t,n){var i=this;void 0!==e[t]&&e[t]?i[t]=e[t]:void 0!==i[t]?i[t]=i[t]:i[t]=n||{}},i.prototype.updateColumnDef=function(n,i){var r=this;if(r.colDef=n,void 0===n.name)throw new Error("colDef.name is required for column at index "+r.grid.options.columnDefs.indexOf(n));if(r.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,!angular.isNumber(r.width)||!r.hasCustomWidth||n.allowCustomWidthOverride){var o=n.width,a="Cannot parse column width '"+o+"' for column named '"+n.name+"'";if(r.hasCustomWidth=!1,angular.isString(o)||angular.isNumber(o))if(angular.isString(o))if(e.endsWith(o,"%")){var s=o.replace(/%/g,""),l=parseInt(s,10);if(isNaN(l))throw new Error(a);r.width=o}else if(o.match(/^(\d+)$/))r.width=parseInt(o.match(/^(\d+)$/)[1],10);else{if(!o.match(/^\*+$/))throw new Error(a);r.width=o}else r.width=o;else r.width="*"}["minWidth","maxWidth"].forEach(function(e){var t=n[e],i="Cannot parse column "+e+" '"+t+"' for column named '"+n.name+"'";if(angular.isString(t)||angular.isNumber(t))if(angular.isString(t)){if(!t.match(/^(\d+)$/))throw new Error(i);r[e]=parseInt(t.match(/^(\d+)$/)[1],10)}else r[e]=t;else r[e]="minWidth"===e?30:9e3}),r.field=void 0===n.field?n.name:n.field,"string"!=typeof r.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+r.field),r.name=n.name,r.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,r.aggregationType=angular.isDefined(n.aggregationType)?n.aggregationType:null,r.footerCellTemplate=angular.isDefined(n.footerCellTemplate)?n.footerCellTemplate:null,void 0===n.cellTooltip||!1===n.cellTooltip?r.cellTooltip=!1:!0===n.cellTooltip?r.cellTooltip=function(e,t){return r.grid.getCellValue(e,t)}:"function"==typeof n.cellTooltip?r.cellTooltip=n.cellTooltip:r.cellTooltip=function(e,t){return t.colDef.cellTooltip},void 0===n.headerTooltip||!1===n.headerTooltip?r.headerTooltip=!1:!0===n.headerTooltip?r.headerTooltip=function(e){return e.displayName}:"function"==typeof n.headerTooltip?r.headerTooltip=n.headerTooltip:r.headerTooltip=function(e){return e.colDef.headerTooltip},r.footerCellClass=n.footerCellClass,r.cellClass=n.cellClass,r.headerCellClass=n.headerCellClass,r.cellFilter=n.cellFilter?n.cellFilter:"",r.sortCellFiltered=!!n.sortCellFiltered,r.filterCellFiltered=!!n.filterCellFiltered,r.headerCellFilter=n.headerCellFilter?n.headerCellFilter:"",r.footerCellFilter=n.footerCellFilter?n.footerCellFilter:"",r.visible=e.isNullOrUndefined(n.visible)||n.visible,r.headerClass=n.headerClass,r.enableSorting=void 0!==n.enableSorting?n.enableSorting:r.grid.options.enableSorting,r.sortingAlgorithm=n.sortingAlgorithm,r.sortDirectionCycle=void 0!==n.sortDirectionCycle?n.sortDirectionCycle:[null,t.ASC,t.DESC],void 0===r.suppressRemoveSort&&(r.suppressRemoveSort=void 0!==n.suppressRemoveSort&&n.suppressRemoveSort),r.enableFiltering=void 0===n.enableFiltering||n.enableFiltering,r.setPropertyOrDefault(n,"menuItems",[]),i&&r.setPropertyOrDefault(n,"sort");var u=[];n.filter?u.push(n.filter):n.filters?u=n.filters:u.push({}),i?(r.setPropertyOrDefault(n,"filter"),r.setPropertyOrDefault(n,"extraStyle"),r.setPropertyOrDefault(n,"filters",u)):r.filters.length===u.length&&r.filters.forEach(function(e,t){void 0!==u[t].placeholder&&(e.placeholder=u[t].placeholder),void 0!==u[t].ariaLabel&&(e.ariaLabel=u[t].ariaLabel),void 0!==u[t].flags&&(e.flags=u[t].flags),void 0!==u[t].type&&(e.type=u[t].type),void 0!==u[t].selectOptions&&(e.selectOptions=u[t].selectOptions)})},i.prototype.unsort=function(){this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},i.prototype.getColClass=function(e){var n=t.COL_CLASS_PREFIX+this.uid;return e?"."+n:n},i.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},i.prototype.isPinnedRight=function(){return"right"===this.renderContainer},i.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},i.prototype.getRenderContainer=function(){var e=this.renderContainer;return(null===e||""===e||void 0===e)&&(e="body"),this.grid.renderContainers[e]},i.prototype.showColumn=function(){this.colDef.visible=!0},i.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case t.aggregationTypes.count:return n.getSafeText("aggregation.count");case t.aggregationTypes.sum:return n.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return n.getSafeText("aggregation.avg");case t.aggregationTypes.min:return n.getSafeText("aggregation.min");case t.aggregationTypes.max:return n.getSafeText("aggregation.max");default:return""}},i.prototype.getCellTemplate=function(){return this.cellTemplatePromise},i.prototype.getCompiledElementFn=function(){return this.compiledElementFnDefer.promise},i}]),angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(n){return n.onRegisterApi=n.onRegisterApi||angular.noop(),n.data=n.data||[],n.columnDefs=n.columnDefs||[],n.excludeProperties=n.excludeProperties||["$$hashKey"],n.enableRowHashing=!1!==n.enableRowHashing,n.rowIdentity=n.rowIdentity||function(t){return e.hashKey(t)},n.getRowIdentity=n.getRowIdentity||function(e){return e.$$hashKey},n.flatEntityAccess=!0===n.flatEntityAccess,n.showHeader=void 0===n.showHeader||n.showHeader,n.showHeader?n.headerRowHeight=void 0!==n.headerRowHeight?n.headerRowHeight:30:n.headerRowHeight=0,"string"==typeof n.rowHeight?n.rowHeight=parseInt(n.rowHeight)||30:n.rowHeight=n.rowHeight||30,n.minRowsToShow=void 0!==n.minRowsToShow?n.minRowsToShow:10,n.showGridFooter=!0===n.showGridFooter,n.showColumnFooter=!0===n.showColumnFooter,n.columnFooterHeight=void 0!==n.columnFooterHeight?n.columnFooterHeight:30,n.gridFooterHeight=void 0!==n.gridFooterHeight?n.gridFooterHeight:30,n.columnWidth=void 0!==n.columnWidth?n.columnWidth:50,n.maxVisibleColumnCount=void 0!==n.maxVisibleColumnCount?n.maxVisibleColumnCount:200,n.virtualizationThreshold=void 0!==n.virtualizationThreshold?n.virtualizationThreshold:20,n.columnVirtualizationThreshold=void 0!==n.columnVirtualizationThreshold?n.columnVirtualizationThreshold:10,n.excessRows=void 0!==n.excessRows?n.excessRows:4,n.scrollThreshold=void 0!==n.scrollThreshold?n.scrollThreshold:4,n.excessColumns=void 0!==n.excessColumns?n.excessColumns:4,n.horizontalScrollThreshold=void 0!==n.horizontalScrollThreshold?n.horizontalScrollThreshold:2,n.aggregationCalcThrottle=void 0!==n.aggregationCalcThrottle?n.aggregationCalcThrottle:500,n.wheelScrollThrottle=void 0!==n.wheelScrollThrottle?n.wheelScrollThrottle:70,n.scrollDebounce=void 0!==n.scrollDebounce?n.scrollDebounce:300,n.enableSorting=!1!==n.enableSorting,n.enableFiltering=!0===n.enableFiltering,n.enableColumnMenus=!1!==n.enableColumnMenus,n.enableVerticalScrollbar=void 0!==n.enableVerticalScrollbar?n.enableVerticalScrollbar:t.scrollbars.ALWAYS,n.enableHorizontalScrollbar=void 0!==n.enableHorizontalScrollbar?n.enableHorizontalScrollbar:t.scrollbars.ALWAYS,n.enableMinHeightCheck=!1!==n.enableMinHeightCheck,n.minimumColumnSize=void 0!==n.minimumColumnSize?n.minimumColumnSize:10,n.rowEquality=n.rowEquality||function(e,t){return e===t},n.headerTemplate=n.headerTemplate||null,n.footerTemplate=n.footerTemplate||"ui-grid/ui-grid-footer",n.gridFooterTemplate=n.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",n.rowTemplate=n.rowTemplate||"ui-grid/ui-grid-row",n.gridMenuTemplate=n.gridMenuTemplate||"ui-grid/uiGridMenu",n.appScopeProvider=n.appScopeProvider||null,n}}}]),angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function n(e,t,n){var i=this;i.name=e,i.grid=t,i.visibleRowCache=[],i.visibleColumnCache=[],i.renderedRows=[],i.renderedColumns=[],i.prevScrollTop=0,i.prevScrolltopPercentage=0,i.prevRowScrollIndex=0,i.prevScrollLeft=0,i.prevScrollleftPercentage=0,i.prevColumnScrollIndex=0,i.columnStyles="",i.viewportAdjusters=[],i.hasHScrollbar=!1,i.hasVScrollbar=!1,i.canvasHeightShouldUpdate=!0,i.$$canvasHeight=0,n&&angular.isObject(n)&&angular.extend(i,n),t.registerStyleComputation({priority:5,func:function(){return i.updateColumnWidths(),i.columnStyles}})}return n.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},n.prototype.containsColumn=function(e){return-1!==this.visibleColumnCache.indexOf(e)},n.prototype.minRowsToRender=function(){for(var e=this,t=0,n=0,i=e.getViewportHeight(),r=e.visibleRowCache.length-1;i>n&&r>=0;r--)n+=e.visibleRowCache[r].height,t++;return t},n.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),n=0,i=0,r=0;r<e.visibleColumnCache.length;r++){var o=e.visibleColumnCache[r];if(t>i)i+=o.drawnWidth?o.drawnWidth:0,n++;else{for(var a=0,s=r;s>=r-n;s--)a+=e.visibleColumnCache[s].drawnWidth?e.visibleColumnCache[s].drawnWidth:0;t>a&&n++}}return n},n.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},n.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},n.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t>-1&&this.viewportAdjusters.splice(t,1)},n.prototype.getViewportAdjustment=function(){var e={height:0,width:0};return this.viewportAdjusters.forEach(function(t){e=t.call(this,e)}),e},n.prototype.getMargin=function(e){var t=0;return this.viewportAdjusters.forEach(function(n){var i=n.call(this,{height:0,width:0});i.side&&i.side===e&&(t+=-1*i.width)}),t},n.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight;return e.grid.gridHeight-t-e.grid.footerHeight+e.getViewportAdjustment().height},n.prototype.getViewportWidth=function(){return this.grid.gridWidth+this.getViewportAdjustment().width},n.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},n.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},n.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight!==0?this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight:-1},n.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth!==0?this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth:-1},n.prototype.getCanvasWidth=function(){return this.canvasWidth},n.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},n.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},n.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},n.prototype.scrollVertical=function(e){var n=-1;if(e!==this.prevScrollTop){var i=e-this.prevScrollTop;return i>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),0>i&&(this.grid.scrollDirection=t.scrollDirection.UP),(n=e/this.getVerticalScrollLength())>1&&(n=1),0>n&&(n=0),this.adjustScrollVertical(e,n),n}},n.prototype.scrollHorizontal=function(e){var n=-1;if(e!==this.prevScrollLeft){var i=e-this.prevScrollLeft;i>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),0>i&&(this.grid.scrollDirection=t.scrollDirection.LEFT);var r=this.getHorizontalScrollLength();return n=0!==r?e/r:0,this.adjustScrollHorizontal(e,n),n}},n.prototype.adjustScrollVertical=function(e,t,n){(this.prevScrollTop!==e||n)&&((void 0===e||void 0===e||null===e)&&(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},n.prototype.adjustScrollHorizontal=function(e,t,n){(this.prevScrollLeft!==e||n)&&((void 0===e||void 0===e||null===e)&&(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},n.prototype.adjustRows=function(e,t,n){var i=this,r=i.minRowsToRender(),o=i.visibleRowCache,a=o.length-r;void 0!==t&&null!==t||!e||(t=e/i.getVerticalScrollLength());var s=Math.ceil(Math.min(a,a*t));s>a&&(s=a);var l=[];if(o.length>i.grid.options.virtualizationThreshold){if(void 0!==e&&null!==e){if(!i.grid.suppressParentScrollDown&&i.prevScrollTop<e&&s<i.prevRowScrollIndex+i.grid.options.scrollThreshold&&a>s)return;if(!i.grid.suppressParentScrollUp&&i.prevScrollTop>e&&s>i.prevRowScrollIndex-i.grid.options.scrollThreshold&&a>s)return}l=[Math.max(0,s-i.grid.options.excessRows),Math.min(o.length,s+r+i.grid.options.excessRows)]}else{var u=i.visibleRowCache.length;l=[0,Math.max(u,r+i.grid.options.excessRows)]}i.updateViewableRowRange(l),i.prevRowScrollIndex=s},n.prototype.adjustColumns=function(e,t){var n=this,i=n.minColumnsToRender(),r=n.visibleColumnCache,o=r.length-i;void 0!==t&&null!==t||!e||(t=e/n.getHorizontalScrollLength());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var s=[];if(r.length>n.grid.options.columnVirtualizationThreshold&&n.getCanvasWidth()>n.getViewportWidth())s=[Math.max(0,a-n.grid.options.excessColumns),Math.min(r.length,a+i+n.grid.options.excessColumns)];else{var l=n.visibleColumnCache.length;s=[0,Math.max(l,i+n.grid.options.excessColumns)]}n.updateViewableColumnRange(s),n.prevColumnScrollIndex=a},n.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},n.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},n.prototype.headerCellWrapperStyle=function(){var e=this;if(0!==e.currentFirstColumn){var t=e.columnOffset;return e.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}}return null},n.prototype.updateColumnWidths=function(){var t=this,n=[],i=0,r=0,o="",a=t.grid.getViewportWidth()-t.grid.scrollbarWidth,s=[];angular.forEach(t.grid.renderContainers,function(e,t){s=s.concat(e.visibleColumnCache)}),s.forEach(function(t,o){var s=0;t.visible&&(angular.isNumber(t.width)?(s=parseInt(t.width,10),r+=s,t.drawnWidth=s):e.endsWith(t.width,"%")?((s=parseFloat(parseInt(t.width.replace(/%/g,""),10)/100*a))>t.maxWidth&&(s=t.maxWidth),s<t.minWidth&&(s=t.minWidth),r+=s,t.drawnWidth=s):angular.isString(t.width)&&-1!==t.width.indexOf("*")&&(i+=t.width.length,n.push(t)))});var l=a-r;if(n.length>0){var u=l/i;n.forEach(function(e){var t=parseInt(e.width.length*u,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),r+=t,e.drawnWidth=t})}for(var c=function(e){e.drawnWidth<e.maxWidth&&d>0&&(e.drawnWidth++,r++,d--,p=!0)},d=a-r,p=!0;d>0&&p;)p=!1,n.forEach(c);var h=function(e){e.drawnWidth>e.minWidth&&f>0&&(e.drawnWidth--,r--,f--,p=!0)},f=r-a;for(p=!0;f>0&&p;)p=!1,n.forEach(h);var g=0;t.visibleColumnCache.forEach(function(e){e.visible&&(g+=e.drawnWidth)}),s.forEach(function(e){o+=e.getColClassDefinition()}),t.canvasWidth=g,this.columnStyles=o},n.prototype.needsHScrollbarPlaceholder=function(){return this.grid.options.enableHorizontalScrollbar&&!this.hasHScrollbar&&!this.grid.disableScrolling},n.prototype.getViewportStyle=function(){var e=this,n={};return e.hasHScrollbar=!1,e.hasVScrollbar=!1,e.grid.disableScrolling?(n["overflow-x"]="hidden",n["overflow-y"]="hidden",n):("body"===e.name?(e.hasHScrollbar=e.grid.options.enableHorizontalScrollbar!==t.scrollbars.NEVER,e.grid.isRTL()?e.grid.hasLeftContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER):e.grid.hasRightContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER)):"left"===e.name?e.hasVScrollbar=!!e.grid.isRTL()&&e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER:e.hasVScrollbar=!e.grid.isRTL()&&e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER,n["overflow-x"]=e.hasHScrollbar?"scroll":"hidden",n["overflow-y"]=e.hasVScrollbar?"scroll":"hidden",n)},n}]),angular.module("ui.grid").factory("GridRow",["gridUtil","uiGridConstants",function(e,t){function n(t,n,i){this.grid=i,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.$$height=i.options.rowHeight}return Object.defineProperty(n.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),n.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},n.prototype.getEntityQualifiedColField=function(n){var i="entity";return n.field===t.ENTITY_BINDING?i:e.preEval(i+"."+n.field)},n.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},n.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},n.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},n.prototype.clearThisRowInvisible=function(e,t){void 0!==this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},n.prototype.evaluateRowVisibility=function(e){var t=!0;void 0!==this.invisibleReason&&angular.forEach(this.invisibleReason,function(e,n){e&&(t=!1)}),(void 0===this.visible||this.visible!==t)&&(this.visible=t,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},n}]),function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(e,t){var n=function e(t,n){if(!(this instanceof e))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=t,this.col=n};return n.prototype.getIntersectionValueRaw=function(){return e(this.row.getEntityQualifiedColField(this.col))(this.row)},n}])}(),angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function t(t,n,i,r){var o=this;if(!t)throw new Error("grid argument is required");o.grid=t,o.source=r,o.withDelay=!0,o.sourceRowContainer=n,o.sourceColContainer=i,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.verticalScrollLength=-9999999,o.horizontalScrollLength=-999999,o.fireThrottledScrollingEvent=e.throttle(function(e){o.grid.scrollContainers(e,o)},o.grid.options.wheelScrollThrottle,{trailing:!0})}return t.prototype.getNewScrollLeft=function(t,n){var i=this;if(!i.newScrollLeft){var r,o=t.getCanvasWidth()-t.getViewportWidth(),a=e.normalizeScrollLeft(n,i.grid);if(void 0!==i.x.percentage&&void 0!==i.x.percentage)r=i.x.percentage;else{if(void 0===i.x.pixels||void 0===i.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");r=i.x.percentage=(a+i.x.pixels)/o}return Math.max(0,r*o)}return i.newScrollLeft},t.prototype.getNewScrollTop=function(e,t){var n=this;if(!n.newScrollTop){var i,r=e.getVerticalScrollLength(),o=t[0].scrollTop;if(void 0!==n.y.percentage&&void 0!==n.y.percentage)i=n.y.percentage;else{if(void 0===n.y.pixels||void 0===n.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");i=n.y.percentage=(o+n.y.pixels)/r}return Math.max(0,i*r)}return n.newScrollTop},t.prototype.atTop=function(e){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===e},t.prototype.atBottom=function(e){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&e>0},t.prototype.atLeft=function(e){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===e},t.prototype.atRight=function(e){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&e>0},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}]),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,n,i,r,o,a,s){var l={createGrid:function(i){(i=void 0!==i?i:{}).id=e.newId();var r=new o(i);if(r.options.rowTemplate){var a=t.defer();r.getRowTemplateFn=a.promise,e.getTemplate(r.options.rowTemplate).then(function(e){var t=n(e);a.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+r.options.rowTemplate+"'")})}return r.registerColumnBuilder(l.defaultColumnBuilder),r.registerRowBuilder(l.rowTemplateAssigner),r.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)},50),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!angular.isDefined(e.colDef.visible)||e.colDef.visible}),e},50),r.registerRowsProcessor(r.searchRows,100),r.options.externalSort&&angular.isFunction(r.options.externalSort)?r.registerRowsProcessor(r.options.externalSort,200):r.registerRowsProcessor(r.sortByColumn,200),r},defaultColumnBuilder:function(n,i,o){var a=[],s=function(t,o,s,l,u){n[t]?i[o]=n[t]:i[o]=s,a.push(e.getTemplate(i[o]).then(function(e){angular.isFunction(e)&&(e=e());var n="cellTooltip"===u?"col.cellTooltip(row,col)":"col.headerTooltip(col)";u&&!1===i[u]?e=e.replace(r.TOOLTIP,""):u&&i[u]&&(e=e.replace(r.TOOLTIP,'title="{{'+n+' CUSTOM_FILTERS }}"')),i[t]=l?e.replace(r.CUSTOM_FILTERS,function(){return i[l]?"|"+i[l]:""}):e},function(e){throw new Error("Couldn't fetch/use colDef."+t+" '"+n[t]+"'")}))};return s("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),i.cellTemplatePromise=a[0],s("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),s("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),s("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),i.compiledElementFnDefer=t.defer(),t.all(a)},rowTemplateAssigner:function(i){if(i.rowTemplate){var r=t.defer();i.getRowTemplateFn=r.promise,e.getTemplate(i.rowTemplate).then(function(e){var t=n(e);r.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+i.rowTemplate+"'")})}else i.rowTemplate=this.options.rowTemplate,i.getRowTemplateFn=this.getRowTemplateFn;return i.getRowTemplateFn}};return l}])}(),function(){angular.module("ui.grid").service("rowSearcher",["gridUtil","uiGridConstants",function(e,t){var n=t.filter.CONTAINS,i={getTerm:function(e){if(void 0===e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},stripTerm:function(e){var t=i.getTerm(e);return"string"==typeof t?function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}(t.replace(/(^\*|\*$)/g,"")):t},guessCondition:function(e){if(void 0===e.term||!e.term)return n;var t=i.getTerm(e);if(/\*/.test(t)){var r="";e.flags&&e.flags.caseSensitive||(r+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+o+"$",r)}return n},setupFilters:function(n){for(var r=[],o=n.length,a=0;o>a;a++){var s=n[a];if(s.noTerm||!e.isNullOrUndefined(s.term)){var l={},u="";s.flags&&s.flags.caseSensitive||(u+="i"),e.isNullOrUndefined(s.term)||(s.rawTerm?l.term=s.term:l.term=i.stripTerm(s)),l.noTerm=s.noTerm,s.condition?l.condition=s.condition:l.condition=i.guessCondition(s),l.flags=angular.extend({caseSensitive:!1,date:!1},s.flags),l.condition===t.filter.STARTS_WITH&&(l.startswithRE=new RegExp("^"+l.term,u)),l.condition===t.filter.ENDS_WITH&&(l.endswithRE=new RegExp(l.term+"$",u)),l.condition===t.filter.CONTAINS&&(l.containsRE=new RegExp(l.term,u)),l.condition===t.filter.EXACT&&(l.exactRE=new RegExp("^"+l.term+"$",u)),r.push(l)}}return r},runColumnFilter:function(e,n,i,r){var o,a=typeof r.condition,s=r.term;if(o=i.filterCellFiltered?e.getCellDisplayValue(n,i):e.getCellValue(n,i),r.condition instanceof RegExp)return r.condition.test(o);if("function"===a)return r.condition(s,o,n,i);if(r.startswithRE)return r.startswithRE.test(o);if(r.endswithRE)return r.endswithRE.test(o);if(r.containsRE)return r.containsRE.test(o);if(r.exactRE)return r.exactRE.test(o);if(r.condition===t.filter.NOT_EQUAL)return!new RegExp("^"+s+"$").exec(o);if("number"==typeof o&&"string"==typeof s){var l=parseFloat(s.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(l)||(s=l)}return!0===r.flags.date&&(o=new Date(o),s=new Date(s.replace(/\\/g,""))),r.condition===t.filter.GREATER_THAN?o>s:r.condition===t.filter.GREATER_THAN_OR_EQUAL?o>=s:r.condition===t.filter.LESS_THAN?s>o:r.condition!==t.filter.LESS_THAN_OR_EQUAL||s>=o},searchColumn:function(t,n,r,o){if(t.options.useExternalFiltering)return!0;for(var a=o.length,s=0;a>s;s++){var l=o[s];if(!e.isNullOrUndefined(l.term)&&""!==l.term||l.noTerm)if(!i.runColumnFilter(t,n,r,l))return!1}return!0},search:function(t,n,r){if(n){if(!t.options.enableFiltering)return n;for(var o=[],a=r.length,s=function(t){var n=!1;return t.forEach(function(t){(!e.isNullOrUndefined(t.term)&&""!==t.term||t.noTerm)&&(n=!0)}),n},l=0;a>l;l++){var u=r[l];void 0!==u.filters&&s(u.filters)&&o.push({col:u,filters:i.setupFilters(u.filters)})}if(o.length>0){for(var c=function(e,t,n,r){t.visible&&!i.searchColumn(e,t,n,r)&&(t.visible=!1)},d=function(e,t){for(var i=n.length,r=0;i>r;r++)c(e,n[r],t.col,t.filters)},p=o.length,h=0;p>h;h++)d(t,o[h]);t.api.core.raise.rowsVisibleChanged&&t.api.core.raise.rowsVisibleChanged()}return n}}};return i}])}(),angular.module("ui.grid").service("rowSorter",["$parse","uiGridConstants",function(e,t){var n="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",i=(new RegExp("^[-+]?"+n+"[\\d,.]+"+n+"%?$"),{colSortFnCache:{}});return i.guessSortFn=function(e){switch(e){case"number":return i.sortNumber;case"numberStr":return i.sortNumberStr;case"boolean":return i.sortBool;case"string":return i.sortAlpha;case"date":return i.sortDate;case"object":return i.basicSort;default:throw new Error("No sorting function found for type:"+e)}},i.handleNulls=function(e,t){if(!e&&0!==e&&!1!==e||!t&&0!==t&&!1!==t){if(!e&&0!==e&&!1!==e&&!t&&0!==t&&!1!==t)return 0;if(!e&&0!==e&&!1!==e)return 1;if(!t&&0!==t&&!1!==t)return-1}return null},i.basicSort=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e===t?0:t>e?-1:1},i.sortNumber=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e-t},i.sortNumberStr=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r,o,a=!1,s=!1;return r=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(r)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(s=!0),a&&s?0:a?1:s?-1:r-o},i.sortAlpha=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;var r=e.toString().toLowerCase(),o=t.toString().toLowerCase();return r===o?0:r.localeCompare(o)},i.sortDate=function(e,t){var n=i.handleNulls(e,t);if(null!==n)return n;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var r=e.getTime(),o=t.getTime();return r===o?0:o>r?-1:1},i.sortBool=function(e,t){var n=i.handleNulls(e,t);return null!==n?n:e&&t?0:e||t?e?1:-1:0},i.getSortFn=function(e,t,n){var r;return i.colSortFnCache[t.colDef.name]?r=i.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(r=t.sortingAlgorithm,i.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):t.sortCellFiltered&&t.cellFilter?(r=i.sortAlpha,i.colSortFnCache[t.colDef.name]=r):(r=i.guessSortFn(t.colDef.type))?i.colSortFnCache[t.colDef.name]=r:r=i.sortAlpha,r},i.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:void 0!==e.sort.priority?-1:void 0!==t.sort.priority?1:0},i.sort=function(e,n,r){if(n){if(e.options.useExternalSorting)return n;var o,a,s=[];if(r.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==t.ASC&&e.sort.direction!==t.DESC||s.push(e)}),0===(s=s.sort(i.prioritySort)).length)return n;n.forEach(function(e,t){e.entity.$$uiGridIndex=t});var l=n.slice(0),u=n.sort(function(n,r){for(var u,c=0,d=0;0===c&&d<s.length;){var p,h;o=s[d],a=s[d].sort.direction,u=i.getSortFn(e,o,l),o.sortCellFiltered?(p=e.getCellDisplayValue(n,o),h=e.getCellDisplayValue(r,o)):(p=e.getCellValue(n,o),h=e.getCellValue(r,o)),c=u(p,h,n,r,a,o),d++}return 0===c?n.entity.$$uiGridIndex-r.entity.$$uiGridIndex:a===t.ASC?c:0-c});return n.forEach(function(e,t){delete e.entity.$$uiGridIndex}),u}},i}]),function(){function e(e){var t=e;return void 0!==t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0,s=["Top","Right","Bottom","Left"];4>o;o+=2){var l=s[o];if("margin"===n){var u=parseFloat(r[n+l]);isNaN(u)||(a+=u)}if(i){if("content"===n){var c=parseFloat(r["padding"+l]);isNaN(c)||(a-=c)}if("margin"!==n){var d=parseFloat(r["border"+l+"Width"]);isNaN(d)||(a-=d)}}else{var p=parseFloat(r["padding"+l]);if(isNaN(p)||(a+=p),"padding"!==n){var h=parseFloat(r["border"+l+"Width"]);isNaN(h)||(a+=h)}}}return a}function n(n,i,r){var o,s=!0,l=e(n),u="border-box"===l.boxSizing;if(0>=o||null==o){if((0>(o=l[i])||null==o)&&(o=n.style[i]),a.test(o))return o;s=u&&!0,o=parseFloat(o)||0}return o+t(0,i,r||(u?"border":"content"),s,l)}function i(t){var n=(t=angular.element(t)[0]).parentElement;return n||(n=document.getElementsByTagName("body")[0]),parseInt(e(n).fontSize)||parseInt(e(t).fontSize)||16}var r,o=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(r=function(){var e=Array.prototype.slice;return function(t){var n=this,i=e.call(arguments,1);return i.length?function(){return arguments.length?n.apply(t,i.concat(e.call(arguments))):n.apply(t,i)}:function(){return arguments.length?n.apply(t,arguments):n.call(t)}}});var a=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),s=/^(block|none|table(?!-c[ea]).+)/,l={position:"absolute",visibility:"hidden",display:"block"},u=["0","0","0","0"],c="uiGrid-";o.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(o,a,d,p,h,f,g,m,v,y,b){function w(e,t){var n=angular.element(this),i=0,r=0,o=0,a=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*o,o=0),i=0===o?r:o,"deltaY"in t&&(i=o=-1*t.deltaY),"deltaX"in t&&(r=t.deltaX,0===o&&(i=-1*r)),0!==o||0!==r){if(1===t.deltaMode){var s=n.data("mousewheel-line-height");i*=s,o*=s,r*=s}else if(2===t.deltaMode){var l=n.data("mousewheel-page-height");i*=l,o*=l,r*=l}a=Math.max(Math.abs(o),Math.abs(r)),(!x||x>a)&&(x=a,function(e,t){return"mousewheel"===e.type&&t%120==0}(t,a)&&(x/=40)),i=Math[i>=1?"floor":"ceil"](i/x),r=Math[r>=1?"floor":"ceil"](r/x),o=Math[o>=1?"floor":"ceil"](o/x);var u={originalEvent:t,deltaX:r,deltaY:o,deltaFactor:x,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()}};S&&clearTimeout(S),S=setTimeout($,200),e.call(n[0],u)}}function $(){x=null}var C={augmentWidthOrHeight:t,getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return void 0===e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var n=[];if(!e||void 0===e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var i=e[0];return angular.forEach(i,function(e,i){-1===t.indexOf(i)&&n.push({name:i})}),n},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(h.get(e))return C.postProcessTemplate(h.get(e));if(angular.isFunction(e.then))return e.then(C.postProcessTemplate);try{if(angular.element(e).length>0)return v.when(e).then(C.postProcessTemplate)}catch(e){}return C.logDebug("fetching url",e),p({method:"GET",url:e}).then(function(t){var n=t.data.trim();return h.put(e,n),n},function(t){throw new Error("Could not get template "+e+": "+t)}).then(C.postProcessTemplate)},postProcessTemplate:function(e){var t=y.startSymbol(),n=y.endSymbol();return("{{"!==t||"}}"!==n)&&(e=(e=e.replace(/\{\{/g,t)).replace(/\}\}/g,n)),v.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i},swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r},fakeElement:function(e,t,n,i){var r,o,a=angular.element(e).clone()[0];for(o in t)a.style[o]=t[o];return angular.element(document.body).append(a),r=n.call(a,a),angular.element(a).remove(),r},normalizeWheelEvent:function(e){var t,n,i,r,o,a=e||window.event,s=([].slice.call(arguments,1),0),l=0,u=0;return a.originalEvent&&(a=a.originalEvent),a.wheelDelta&&(s=a.wheelDelta),a.detail&&(s=-1*a.detail),u=s,void 0!==a.axis&&a.axis===a.HORIZONTAL_AXIS&&(u=0,l=-1*s),a.deltaY&&(s=u=-1*a.deltaY),a.deltaX&&(s=-1*(l=a.deltaX)),void 0!==a.wheelDeltaY&&(u=a.wheelDeltaY),void 0!==a.wheelDeltaX&&(l=a.wheelDeltaX),r=Math.abs(s),(!t||t>r)&&(t=r),o=Math.max(Math.abs(u),Math.abs(l)),(!n||n>o)&&(n=o),i=s>0?"floor":"ceil",{delta:s=Math[i](s/t),deltaX:l=Math[i](l/n),deltaY:u=Math[i](u/n)}},isTouchEnabled:function(){var e;return("ontouchstart"in a||a.DocumentTouch&&d instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e},endsWith:function(e,t){return!(!e||!t||"string"!=typeof e)&&-1!==e.indexOf(t,e.length-t.length)},arrayContainsObjectWithProperty:function(e,t,n){var i=!1;return angular.forEach(e,function(e){e[t]===n&&(i=!0)}),i},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=m.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!1):t.enabled(!1,e)}catch(e){}},enableAnimations:function(e){var t;try{return t=m.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!0):t.enabled(!0,e),t}catch(e){}},nextUid:function(){for(var e,t=u.length;t;){if(57===(e=u[--t].charCodeAt(0)))return u[t]="A",c+u.join("");if(90!==e)return u[t]=String.fromCharCode(e+1),c+u.join("");u[t]="0"}return u.unshift("0"),c+u.join("")},hashKey:function(e){var t,n=typeof e;return"object"===n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():void 0!==e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=C.nextUid()):t=e,n+":"+t},resetUids:function(){u=["0","0","0"]},logError:function(e){b.LOG_ERROR_MESSAGES&&o.error(e)},logWarn:function(e){b.LOG_WARN_MESSAGES&&o.warn(e)},logDebug:function(){b.LOG_DEBUG_MESSAGES&&o.debug.apply(o,arguments)}};C.focus={queue:[],byId:function(e,t){this._purgeQueue();var n=f(function(){var n=(t&&t.id?t.id+"-":"")+e,i=a.document.getElementById(n);i?i.focus():C.logWarn("[focus.byId] Element id "+n+" was not found.")});return this.queue.push(n),n},byElement:function(e){if(!angular.isElement(e))return C.logWarn("Trying to focus on an element that isn't an element."),v.reject("not-element");e=angular.element(e),this._purgeQueue();var t=f(function(){e&&e[0].focus()});return this.queue.push(t),t},bySelector:function(e,t,n){var i=this;if(!angular.isElement(e))throw new Error("The parent element is not an element.");e=angular.element(e);var r=function(){var n=e[0].querySelector(t);return i.byElement(n)};if(this._purgeQueue(),n){var o=f(r);return this.queue.push(f(r)),o}return r()},_purgeQueue:function(){this.queue.forEach(function(e){f.cancel(e)}),this.queue=[]}},["width","height"].forEach(function(t){var i=angular.uppercase(t.charAt(0))+t.substr(1);C["element"+i]=function(i,r){var o=i;if(o&&void 0!==o.length&&o.length&&(o=i[0]),o&&null!==o){var a=e(o);return 0===o.offsetWidth&&s.test(a.display)?C.swap(o,l,function(){return n(o,t,r)}):n(o,t,r)}return null},C["outerElement"+i]=function(e,t){return e?C["element"+i].call(this,e,t?"margin":"border"):null}}),C.closestElm=function(e,t){var n,i;for(void 0!==e.length&&e.length&&(e=e[0]),["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(n=e,!0)});null!==e;){if(null!==(i=e.parentElement)&&i[n](t))return i;e=i}return null},C.type=function(e){return Function.prototype.toString.call(e.constructor).match(/function (.*?)\(/)[1]},C.getBorderSize=function(t,n){void 0!==t.length&&t.length&&(t=t[0]);var i=e(t);n=n?"border"+n.charAt(0).toUpperCase()+n.slice(1):"border",n+="Width";var r=parseInt(i[n],10);return isNaN(r)?0:r},C.detectBrowser=function(){var e=a.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var n in t)if(t[n].test(e))return n;return"unknown"},C.rtlScrollType=function e(){if(e.type)return e.type;var t=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],n="reverse";return document.body.appendChild(t),t.scrollLeft>0?n="default":(t.scrollLeft=1,0===t.scrollLeft&&(n="negative")),angular.element(t).remove(),e.type=n,n},C.normalizeScrollLeft=function(e,t){void 0!==e.length&&e.length&&(e=e[0]);var n=e.scrollLeft;if(t.isRTL())switch(C.rtlScrollType()){case"default":return e.scrollWidth-n-e.clientWidth;case"negative":return Math.abs(n);case"reverse":return n}return n},C.denormalizeScrollLeft=function(e,t,n){if(void 0!==e.length&&e.length&&(e=e[0]),n.isRTL())switch(C.rtlScrollType()){case"default":return e.scrollWidth-e.clientWidth-t;case"negative":return-1*t;case"reverse":return t}return t},C.preEval=function(e){var t=b.BRACKET_REGEXP.exec(e);if(t)return(t[1]?C.preEval(t[1]):t[1])+t[2]+(t[3]?C.preEval(t[3]):t[3]);var n=(e=e.replace(b.APOS_REGEXP,"\\'")).split(b.DOT_REGEXP),i=[n.shift()];return angular.forEach(n,function(e){i.push(e.replace(b.FUNC_REGEXP,"']$1"))}),i.join("['")},C.debounce=function(e,t,n){function i(){a=this,o=arguments;var i=n&&!r;return r&&f.cancel(r),r=f(function(){r=null,n||(s=e.apply(a,o))},t,!1),i&&(s=e.apply(a,o)),s}var r,o,a,s;return i.cancel=function(){f.cancel(r),r=null},i},C.throttle=function(e,t,n){function i(t){a=+new Date,e.apply(r,o),g(function(){s=null},0,1,!1)}n=n||{};var r,o,a=0,s=null;return function(){if(r=this,o=arguments,null===s){var e=+new Date-a;e>t?i():n.trailing&&(s=g(i,t-e,1,!1))}}},C.on={},C.off={},C._events={},C.addOff=function(e){C.off[e]=function(t,n){var i=C._events[e].indexOf(n);i>0&&C._events[e].removeAt(i)}};var S,x,E="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return C.on.mousewheel=function(e,t){if(e&&t){var n=angular.element(e);n.data("mousewheel-line-height",i(n)),n.data("mousewheel-page-height",C.elementHeight(n)),n.data("mousewheel-callbacks")||n.data("mousewheel-callbacks",{});var o=n.data("mousewheel-callbacks");o[t]=(Function.prototype.bind||r).call(w,n[0],t);for(var a=E.length;a;)n.on(E[--a],o[t]);n.on("$destroy",function(){for(var e=E.length;e;)n.off(E[--e],o[t])})}},C.off.mousewheel=function(e,t){var n=angular.element(e),i=n.data("mousewheel-callbacks"),r=i[t];if(r)for(var o=E.length;o;)n.off(E[--o],r);delete i[t],0===Object.keys(i).length&&(n.removeData("mousewheel-line-height"),n.removeData("mousewheel-page-height"),n.removeData("mousewheel-callbacks"))},C}]),o.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"položky"},groupPanel:{description:"Přesuňte záhlaví zde pro vytvoření skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji položky:",selectedItems:"Vybrané položky:",totalItems:"Celkem položek:",size:"Velikost strany:",first:"První strana",next:"Další strana",previous:"Předchozí strana",last:"Poslední strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seřadit od A-Z",descending:"Seřadit od Z-A",remove:"Odebrat seřazení"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem řádků: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat všechna data do csv",exporterVisibleAsCsv:"Exportovat viditelná data do csv",exporterSelectedAsCsv:"Exportovat vybraná data do csv",exporterAllAsPdf:"Exportovat všechna data do pdf",exporterVisibleAsPdf:"Exportovat viditelná data do pdf",exporterSelectedAsPdf:"Exportovat vybraná data do pdf",clearAllFilters:"Odstranit všechny filtry"},importer:{noHeaders:"Názvy sloupců se nepodařilo získat, obsahuje soubor záhlaví?",noObjects:"Data se nepodařilo zpracovat, obsahuje soubor řádky mimo záhlaví?",invalidCsv:"Soubor nelze zpracovat, jedná se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor musí obsahovat json. Ukončuji.."},pagination:{sizes:"položek na stránku",totalItems:"položek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupení",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal rækker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Gå til første",pageBack:"Gå tilbage",pageSelected:"Valgte side",pageForward:"Gå frem",pageToLast:"Gå til sidste"},sizes:"genstande per side",totalItems:"genstande",through:"gennem",of:"af"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter für Spalte",removeFilter:"Filter löschen",columnMenuButtonLabel:"Spaltenmenü"},priority:"Priorität:",filterLabel:"Filter für Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lösen"},columnMenu:{close:"Schließen"},gridMenu:{aria:{buttonLabel:"Tabellenmenü"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als PDF exportieren",clearAllFilters:"Alle Filter zurücksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zurück",pageSelected:"Ausgwählte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Einträge pro Seite",totalItems:"Einträge",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por página",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Máx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"قلم"},groupPanel:{description:"عنوان یک ستون را بگیر و به گروهی از آن ستون رها کن."},search:{placeholder:"جستجو...",showingItems:"نمایش اقلام:",selectedItems:"قلم‌های انتخاب شده:",totalItems:"مجموع اقلام:",size:"اندازه‌ی صفحه:",first:"اولین صفحه",next:"صفحه‌ی‌بعدی",previous:"صفحه‌ی‌ قبلی",last:"آخرین صفحه"},menu:{text:"ستون‌های انتخابی:"},sort:{ascending:"ترتیب صعودی",descending:"ترتیب نزولی",remove:"حذف مرتب کردن"},column:{hide:"پنهان‌کردن ستون"},aggregation:{count:"تعداد: ",sum:"مجموع: ",avg:"میانگین: ",min:"کمترین: ",max:"بیشترین: "},pinning:{pinLeft:"پین کردن سمت چپ",pinRight:"پین کردن سمت راست",unpin:"حذف پین"},gridMenu:{columns:"ستون‌ها:",importerTitle:"وارد کردن فایل",exporterAllAsCsv:"خروجی تمام داده‌ها در فایل csv",exporterVisibleAsCsv:"خروجی داده‌های قابل مشاهده در فایل csv",exporterSelectedAsCsv:"خروجی داده‌های انتخاب‌شده در فایل csv",exporterAllAsPdf:"خروجی تمام داده‌ها در فایل pdf",exporterVisibleAsPdf:"خروجی داده‌های قابل مشاهده در فایل pdf",exporterSelectedAsPdf:"خروجی داده‌های انتخاب‌شده در فایل pdf",clearAllFilters:"پاک کردن تمام فیلتر"},importer:{noHeaders:"نام ستون قابل استخراج نیست. آیا فایل عنوان دارد؟",noObjects:"اشیا قابل استخراج نیستند. آیا به جز عنوان‌ها در فایل داده وجود دارد؟",invalidCsv:"فایل قابل پردازش نیست. آیا فرمت  csv  معتبر است؟",invalidJson:"فایل قابل پردازش نیست. آیا فرمت json   معتبر است؟",jsonNotArray:"فایل json وارد شده باید حاوی آرایه باشد. عملیات ساقط شد."},pagination:{sizes:"اقلام در هر صفحه",totalItems:"اقلام",of:"از"},grouping:{group:"گروه‌بندی",ungroup:"حذف گروه‌بندی",aggregate_count:"Agg: تعداد",aggregate_sum:"Agg: جمع",aggregate_max:"Agg: بیشینه",aggregate_min:"Agg: کمینه",aggregate_avg:"Agg: میانگین",aggregate_remove:"Agg: حذف"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{headerCell:{aria:{defaultFilterLabel:"Filtre de la colonne",removeFilter:"Supprimer le filtre",columnMenuButtonLabel:"Menu de la colonne"},priority:"Priorité:",filterLabel:"Filtre de la colonne: "},aggregate:{label:"éléments"},groupPanel:{description:"Faites glisser une en-tête de colonne ici pour créer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des éléments :",selectedItems:"Éléments sélectionnés :",totalItems:"Nombre total d'éléments:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",none:"Aucun tri",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},columnMenu:{close:"Fermer"},gridMenu:{aria:{buttonLabel:"Menu du tableau"},columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il une en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau, abandon."},pagination:{aria:{pageToFirst:"Aller à la première page",pageBack:"Page précédente",pageSelected:"Page sélectionnée",pageForward:"Page suivante",pageToLast:"Aller à la dernière page"},sizes:"éléments par page",totalItems:"éléments",through:"à",of:"sur"},grouping:{group:"Grouper",ungroup:"Dégrouper",aggregate_count:"Agg: Compter",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"},validate:{error:"Erreur:",minLength:"La valeur doit être supérieure ou égale à THRESHOLD caractères.",maxLength:"La valeur doit être inférieure ou égale à THRESHOLD caractères.",required:"Une valeur est nécéssaire."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:"տվյալներ"},groupPanel:{description:"Ըստ սյան խմբավորելու համար քաշեք և գցեք վերնագիրն այստեղ։"},search:{placeholder:"Փնտրում...",showingItems:"Ցուցադրված տվյալներ՝",selectedItems:"Ընտրված:",totalItems:"Ընդամենը՝",size:"Տողերի քանակը էջում՝",first:"Առաջին էջ",next:"Հաջորդ էջ",previous:"Նախորդ էջ",last:"Վերջին էջ"},menu:{text:"Ընտրել սյուները:"},sort:{ascending:"Աճման կարգով",descending:"Նվազման կարգով",remove:"Հանել "},column:{hide:"Թաքցնել սյունը"},aggregation:{count:"ընդամենը տող՝ ",sum:"ընդամենը՝ ",avg:"միջին՝ ",min:"մին՝ ",max:"մաքս՝ "},pinning:{pinLeft:"Կպցնել ձախ կողմում",pinRight:"Կպցնել աջ կողմում",unpin:"Արձակել"},gridMenu:{columns:"Սյուներ:",importerTitle:"Ներմուծել ֆայլ",exporterAllAsCsv:"Արտահանել ամբողջը CSV",exporterVisibleAsCsv:"Արտահանել երևացող տվյալները CSV",exporterSelectedAsCsv:"Արտահանել ընտրված տվյալները CSV",exporterAllAsPdf:"Արտահանել PDF",exporterVisibleAsPdf:"Արտահանել երևացող տվյալները PDF",exporterSelectedAsPdf:"Արտահանել ընտրված տվյալները PDF",clearAllFilters:"Մաքրել բոլոր ֆիլտրերը"},importer:{noHeaders:"Հնարավոր չեղավ որոշել սյան վերնագրերը։ Արդյո՞ք ֆայլը ունի վերնագրեր։",noObjects:"Հնարավոր չեղավ կարդալ տվյալները։ Արդյո՞ք ֆայլում կան տվյալներ։",invalidCsv:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր CSV է։",invalidJson:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր Json է։",jsonNotArray:"Ներմուծված json ֆայլը պետք է պարունակի զանգված, կասեցվում է։"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},pagination:{aria:{pageToFirst:"Prima",pageBack:"Indietro",pageSelected:"Pagina selezionata",pageForward:"Avanti",pageToLast:"Ultima"},sizes:"elementi per pagina",totalItems:"elementi",through:"a",of:"di"},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{aggregate:{label:"項目"},groupPanel:{description:"ここに列ヘッダをドラッグアンドドロップして、その列でグループ化します。"},search:{placeholder:"検索...",showingItems:"表示中の項目:",selectedItems:"選択した項目:",totalItems:"項目の総数:",size:"ページサイズ:",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"前のページ"},menu:{text:"列の選択:"},sort:{ascending:"昇順に並べ替え",descending:"降順に並べ替え",remove:"並べ替えの解除"},column:{hide:"列の非表示"},aggregation:{count:"合計行数: ",sum:"合計: ",avg:"平均: ",min:"最小: ",max:"最大: "},pinning:{pinLeft:"左に固定",pinRight:"右に固定",unpin:"固定解除"},gridMenu:{columns:"列:",importerTitle:"ファイルのインポート",exporterAllAsCsv:"すべてのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"表示中のデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択したデータをCSV形式でエクスポート",exporterAllAsPdf:"すべてのデータをPDF形式でエクスポート",exporterVisibleAsPdf:"表示中のデータをPDF形式でエクスポート",exporterSelectedAsPdf:"選択したデータをPDF形式でエクスポート",clearAllFilters:"すべてのフィルタを清掃してください"},importer:{noHeaders:"列名を取得できません。ファイルにヘッダが含まれていることを確認してください。",noObjects:"オブジェクトを取得できません。ファイルにヘッダ以外のデータが含まれていることを確認してください。",invalidCsv:"ファイルを処理できません。ファイルが有効なCSV形式であることを確認してください。",invalidJson:"ファイルを処理できません。ファイルが有効なJSON形式であることを確認してください。",jsonNotArray:"インポートしたJSONファイルには配列が含まれている必要があります。処理を中止します。"},pagination:{aria:{pageToFirst:"最初のページ",pageBack:"前のページ",pageSelected:"現在のページ",pageForward:"次のページ",pageToLast:"最後のページ"},sizes:"項目/ページ",totalItems:"項目",through:"から",of:"項目/全"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:"아이템"},groupPanel:{description:"컬럼으로 그룹핑하기 위해서는 컬럼 헤더를 끌어 떨어뜨려 주세요."},search:{placeholder:"검색...",showingItems:"항목 보여주기:",selectedItems:"선택 항목:",totalItems:"전체 항목:",size:"페이지 크기:",first:"첫번째 페이지",next:"다음 페이지",previous:"이전 페이지",last:"마지막 페이지"},menu:{text:"컬럼을 선택하세요:"},sort:{ascending:"오름차순 정렬",descending:"내림차순 정렬",remove:"소팅 제거"},column:{hide:"컬럼 제거"},aggregation:{count:"전체 갯수: ",sum:"전체: ",avg:"평균: ",min:"최소: ",max:"최대: "},pinning:{pinLeft:"왼쪽 핀",pinRight:"오른쪽 핀",unpin:"핀 제거"},gridMenu:{columns:"컬럼:",importerTitle:"파일 가져오기",exporterAllAsCsv:"csv로 모든 데이터 내보내기",exporterVisibleAsCsv:"csv로 보이는 데이터 내보내기",exporterSelectedAsCsv:"csv로 선택된 데이터 내보내기",exporterAllAsPdf:"pdf로 모든 데이터 내보내기",exporterVisibleAsPdf:"pdf로 보이는 데이터 내보내기",exporterSelectedAsPdf:"pdf로 선택 데이터 내보내기",clearAllFilters:"모든 필터를 청소"},importer:{noHeaders:"컬럼명이 지정되어 있지 않습니다. 파일에 헤더가 명시되어 있는지 확인해 주세요.",noObjects:"데이터가 지정되어 있지 않습니다. 데이터가 파일에 있는지 확인해 주세요.",invalidCsv:"파일을 처리할 수 없습니다. 올바른 csv인지 확인해 주세요.",invalidJson:"파일을 처리할 수 없습니다. 올바른 json인지 확인해 주세요.",jsonNotArray:"json 파일은 배열을 포함해야 합니다."},pagination:{sizes:"페이지당 항목",totalItems:"전체 항목"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filtr dla kolumny",removeFilter:"Usuń filtr",columnMenuButtonLabel:"Menu kolumny"},priority:"Prioritet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przeciągnij nagłówek kolumny tutaj, aby pogrupować według niej."},search:{placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Następna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosnąco",descending:"Sortuj malejąco",none:"Brak sortowania",remove:"Wyłącz sortowanie"},column:{hide:"Ukryj kolumne"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"Średnia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Menu Grida"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",clearAllFilters:"Wyczyść filtry"},importer:{noHeaders:"Nie udało się wczytać nazw kolumn. Czy plik posiada nagłówek?",noObjects:"Nie udalo się wczytać pozycji. Czy plik zawiera dane??",invalidCsv:"Nie udało się przetworzyć pliku, jest to prawidlowy plik CSV??",invalidJson:"Nie udało się przetworzyć pliku, jest to prawidlowy plik Json?",jsonNotArray:"Importowany plik json musi zawierać tablicę, importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Następna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stronę",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: Średnia",aggregate_remove:"Zbiorczo: Usuń"},validate:{error:"Błąd:",minLength:"Wartość powinna składać się z co najmniej THRESHOLD znaków.",maxLength:"Wartość powinna składać się z przynajmniej THRESHOLD znaków.",required:"Wartość jest wymagana."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"através dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O ficheiro tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no ficheiro, além dos cabeçalhos?",invalidCsv:"Ficheiro não pode ser processado. É um CSV válido?",invalidJson:"Ficheiro não pode ser processado. É um Json válido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Próxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"através dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{headerCell:{aria:{defaultFilterLabel:"Фильтр столбца",removeFilter:"Удалить фильтр",columnMenuButtonLabel:"Меню столбца"},priority:"Приоритет:",filterLabel:"Фильтр столбца: "},aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",none:"Без сортировки",remove:"Убрать сортировку"},column:{hide:"Спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},pinning:{pinLeft:"Закрепить слева",pinRight:"Закрепить справа",unpin:"Открепить"},columnMenu:{close:"Закрыть"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Столбцы:",importerTitle:"Импортировать файл",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF",clearAllFilters:"Очистите все фильтры"},importer:{noHeaders:"Не удалось получить названия столбцов, есть ли в файле заголовок?",noObjects:"Не удалось получить данные, есть ли в файле строки кроме заголовка?",invalidCsv:"Не удалось обработать файл, это правильный CSV-файл?",invalidJson:"Не удалось обработать файл, это правильный JSON?",jsonNotArray:"Импортируемый JSON-файл должен содержать массив, операция отменена."},pagination:{aria:{pageToFirst:"Первая страница",pageBack:"Предыдущая страница",pageSelected:"Выбранная страница",pageForward:"Следующая страница",pageToLast:"Последняя страница"},sizes:"строк на страницу",totalItems:"строк",through:"по",of:"из"},grouping:{group:"Группировать",ungroup:"Разгруппировать",aggregate_count:"Группировать: Count",aggregate_sum:"Для группы: Сумма",aggregate_max:"Для группы: Максимум",aggregate_min:"Для группы: Минимум",aggregate_avg:"Для группы: Среднее",aggregate_remove:"Для группы: Пусто"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengör alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ta",{aggregate:{label:"உருப்படிகள்"},groupPanel:{description:"ஒரு பத்தியை குழுவாக அமைக்க அப்பத்தியின் தலைப்பை இங்கே  இழுத்து வரவும் "},search:{placeholder:"தேடல் ...",showingItems:"உருப்படிகளை காண்பித்தல்:",selectedItems:"தேர்ந்தெடுக்கப்பட்ட  உருப்படிகள்:",totalItems:"மொத்த உருப்படிகள்:",size:"பக்க அளவு: ",first:"முதல் பக்கம்",next:"அடுத்த பக்கம்",previous:"முந்தைய பக்கம் ",last:"இறுதி பக்கம்"},menu:{text:"பத்திகளை தேர்ந்தெடு:"},sort:{ascending:"மேலிருந்து கீழாக",descending:"கீழிருந்து மேலாக",remove:"வரிசையை நீக்கு"},column:{hide:"பத்தியை மறைத்து வை "},aggregation:{count:"மொத்த வரிகள்:",sum:"மொத்தம்: ",avg:"சராசரி: ",min:"குறைந்தபட்ச: ",max:"அதிகபட்ச: "},pinning:{pinLeft:"இடதுபுறமாக தைக்க ",pinRight:"வலதுபுறமாக தைக்க",unpin:"பிரி"},gridMenu:{columns:"பத்திகள்:",importerTitle:"கோப்பு : படித்தல்",exporterAllAsCsv:"எல்லா தரவுகளையும் கோப்பாக்கு: csv",exporterVisibleAsCsv:"இருக்கும் தரவுகளை கோப்பாக்கு: csv",exporterSelectedAsCsv:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: csv",exporterAllAsPdf:"எல்லா தரவுகளையும் கோப்பாக்கு: pdf",exporterVisibleAsPdf:"இருக்கும் தரவுகளை கோப்பாக்கு: pdf",exporterSelectedAsPdf:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"பத்தியின் தலைப்புகளை பெற இயலவில்லை, கோப்பிற்கு தலைப்பு உள்ளதா?",noObjects:"இலக்குகளை உருவாக்க முடியவில்லை, கோப்பில் தலைப்புகளை தவிர தரவு ஏதேனும் உள்ளதா? ",invalidCsv:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - csv",invalidJson:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - json",jsonNotArray:"படித்த கோப்பில் வரிசைகள் உள்ளது, நடைமுறை ரத்து செய் : json"},pagination:{sizes:"உருப்படிகள் / பக்கம்",totalItems:"உருப்படிகள் "},grouping:{group:"குழு",ungroup:"பிரி",aggregate_count:"மதிப்பீட்டு : எண்ணு",aggregate_sum:"மதிப்பீட்டு : கூட்டல்",aggregate_max:"மதிப்பீட்டு : அதிகபட்சம்",aggregate_min:"மதிப்பீட்டு : குறைந்தபட்சம்",aggregate_avg:"மதிப்பீட்டு : சராசரி",aggregate_remove:"மதிப்பீட்டு : நீக்கு"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("tr",{headerCell:{aria:{defaultFilterLabel:"Sütun için filtre",removeFilter:"Filtreyi Kaldır",columnMenuButtonLabel:"Sütun Menüsü"},priority:"Öncelik:",filterLabel:"Sütun için filtre: "},aggregate:{label:"kayıtlar"},groupPanel:{description:"Sütuna göre gruplamak için sütun başlığını buraya sürükleyin ve bırakın."},search:{placeholder:"Arama...",showingItems:"Gösterilen Kayıt:",selectedItems:"Seçili Kayıt:",totalItems:"Toplam Kayıt:",size:"Sayfa Boyutu:",first:"İlk Sayfa",next:"Sonraki Sayfa",previous:"Önceki Sayfa",last:"Son Sayfa"},menu:{text:"Sütunları Seç:"},sort:{ascending:"Artan Sırada Sırala",descending:"Azalan Sırada Sırala",none:"Sıralama Yapma",remove:"Sıralamayı Kaldır"},column:{hide:"Sütunu Gizle"},aggregation:{count:"toplam satır: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Sağa Sabitle",unpin:"Sabitlemeyi Kaldır"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Menü"},columns:"Sütunlar:",importerTitle:"Dosya içeri aktar",exporterAllAsCsv:"Bütün veriyi CSV olarak dışarı aktar",exporterVisibleAsCsv:"Görünen veriyi CSV olarak dışarı aktar",exporterSelectedAsCsv:"Seçili veriyi CSV olarak dışarı aktar",exporterAllAsPdf:"Bütün veriyi PDF olarak dışarı aktar",exporterVisibleAsPdf:"Görünen veriyi PDF olarak dışarı aktar",exporterSelectedAsPdf:"Seçili veriyi PDF olarak dışarı aktar",clearAllFilters:"Bütün filtreleri kaldır"},importer:{noHeaders:"Sütun isimleri üretilemiyor, dosyanın bir başlığı var mı?",noObjects:"Nesneler üretilemiyor, dosyada başlıktan başka bir veri var mı?",invalidCsv:"Dosya işlenemedi, geçerli bir CSV dosyası mı?",invalidJson:"Dosya işlenemedi, geçerli bir Json dosyası mı?",jsonNotArray:"Alınan Json dosyasında bir dizi bulunmalıdır, işlem iptal ediliyor."},pagination:{aria:{pageToFirst:"İlk sayfaya",pageBack:"Geri git",pageSelected:"Seçili sayfa",pageForward:"İleri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne sayısı",totalItems:"kayıtlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Sayı",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ua",{headerCell:{aria:{defaultFilterLabel:"Фільтр стовпчика",removeFilter:"Видалити фільтр",columnMenuButtonLabel:"Меню ствпчика"},priority:"Пріоритет:",filterLabel:"Фільтр стовпчика: "},aggregate:{label:"елементи"},groupPanel:{description:"Для групування за стовпчиком перетягніть сюди його назву."},search:{placeholder:"Пошук...",showingItems:"Показати елементи:",selectedItems:"Обрані елементи:",totalItems:"Усього елементів:",size:"Розмір сторінки:",first:"Перша сторінка",next:"Наступна сторінка",previous:"Попередня сторінка",last:"Остання сторінка"},menu:{text:"Обрати ствпчики:"},sort:{ascending:"За зростанням",descending:"За спаданням",none:"Без сортування",remove:"Прибрати сортування"},column:{hide:"Приховати стовпчик"},aggregation:{count:"усього рядків: ",sum:"ітого: ",avg:"середнє: ",min:"мін: ",max:"макс: "},pinning:{pinLeft:"Закріпити ліворуч",pinRight:"Закріпити праворуч",unpin:"Відкріпити"},columnMenu:{close:"Закрити"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Стовпчики:",importerTitle:"Імпортувати файл",exporterAllAsCsv:"Експортувати все в CSV",exporterVisibleAsCsv:"Експортувати видимі дані в CSV",exporterSelectedAsCsv:"Експортувати обрані дані в CSV",exporterAllAsPdf:"Експортувати все в PDF",exporterVisibleAsPdf:"Експортувати видимі дані в PDF",exporterSelectedAsPdf:"Експортувати обрані дані в PDF",clearAllFilters:"Очистити всі фільтри"},importer:{noHeaders:"Не вдалося отримати назви стовпчиків, чи є в файлі заголовок?",noObjects:"Не вдалося отримати дані, чи є в файлі рядки окрім заголовка?",invalidCsv:"Не вдалося обробити файл, чи це коректний CSV-файл?",invalidJson:"Не вдалося обробити файл, чи це коректний JSON?",jsonNotArray:"JSON-файл що імпортується повинен містити масив, операцію скасовано."},pagination:{aria:{pageToFirst:"Перша сторінка",pageBack:"Попередня сторінка",pageSelected:"Обрана сторінка",pageForward:"Наступна сторінка",pageToLast:"Остання сторінка"},sizes:"рядків на сторінку",totalItems:"рядків",through:"по",of:"з"},grouping:{group:"Групувати",ungroup:"Розгрупувати",aggregate_count:"Групувати: Кількість",aggregate_sum:"Для групи: Сума",aggregate_max:"Для групи: Максимум",aggregate_min:"Для групи: Мінімум",aggregate_avg:"Для групи: Серднє",aggregate_remove:"Для групи: Пусто"}}),e}])}]),function(){var e=["uiT","uiTranslate"],t=angular.module("ui.grid.i18n");t.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),t.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,n){var i={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var n=e.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.extend(this._langs[n],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},r={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&i.add(e,t)}):i.add(e,t)},getAllLangs:function(){return i.getAllLangs()},get:function(e){var t=e||r.getCurrentLang();return i.get(t)},getSafeText:function(e,n){var o=n||r.getCurrentLang(),a=i.get(o);if(!a)return t.MISSING;for(var s=e.split("."),l=a,u=0;u<s.length;++u){if(void 0===l[s[u]]||null===l[s[u]])return t.MISSING;l=l[s[u]]}return l},setCurrentLang:function(e){e&&(i.setCurrent(e),n.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=i.getCurrentLang();return e||(e=t.DEFAULT_LANG,i.setCurrent(e)),e}};return r}]);t.directive("uiI18n",["i18nService","i18nConstants",function(e,t){return{compile:function(){return{pre:function(n,i,r){var o=t.LOCALE_DIRECTIVE_ALIAS,a=n.$eval(r[o]);a?n.$watch(r[o],function(){e.setCurrentLang(a)}):r.$$observers&&r.$observe(o,function(){e.setCurrentLang(r[o]||t.DEFAULT_LANG)})}}}}}]);var n=function(t,n,i){return{restrict:"EA",compile:function(){return{pre:function(r,o,a){var s,l=e[0],u=e[1],c=a[l]||a[u]||o.html(),d=i.MISSING+c;if(a.$$observers){var p=a[l]?l:u;s=a.$observe(p,function(e){e&&o.html(t(e)(n.getCurrentLang())||d)})}var h=t(c),f=r.$on(i.UPDATE_EVENT,function(e){s?s(a[l]||a[u]):o.html(h(n.get())||d)});r.$on("$destroy",f),o.html(h(n.get())||d)}}}}};angular.forEach(e,function(e){t.directive(e,["$parse","i18nService","i18nConstants",n])});var i=function(e,t,n){return function(i){return e(i)(t.get())||n.MISSING+i}};angular.forEach(["t","uiTranslate"],function(e){t.filter(e,["$parse","i18nService","i18nConstants",i])})}(),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"列过滤器",removeFilter:"移除过滤器",columnMenuButtonLabel:"列菜单"},priority:"优先级:",filterLabel:"列过滤器: "},aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",none:"无序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},columnMenu:{close:"关闭"},gridMenu:{aria:{buttonLabel:"表格菜单"},columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{aria:{pageToFirst:"第一页",pageBack:"上一页",pageSelected:"当前页",pageForward:"下一页",pageToLast:"最后一页"},sizes:"行每页",totalItems:"行",through:"至",of:"共"},grouping:{group:"分组",ungroup:"取消分组",aggregate_count:"合计: 计数",aggregate_sum:"合计: 求和",aggregate_max:"合计: 最大",aggregate_min:"合计: 最小",aggregate_avg:"合计: 平均",aggregate_remove:"合计: 移除"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),e}])}]),function(){"use strict";angular.module("ui.grid.autoResize",["ui.grid"]).directive("uiGridAutoResize",["$timeout","gridUtil",function(e,t){return{require:"uiGrid",scope:!1,link:function(e,n,i,r){function o(){s=t.elementHeight(n),a=t.elementWidth(n)}var a,s,l;o(),function i(){clearTimeout(l),l=setTimeout(function(){var l=t.elementHeight(n),u=t.elementWidth(n);l!==s||u!==a?(r.grid.gridHeight=l,r.grid.gridWidth=u,r.grid.api.core.raise.gridDimensionChanged(s,a,l,u),e.$apply(function(){r.grid.refresh().then(function(){o(),i()})})):i()},250)}(),e.$on("$destroy",function(){clearTimeout(l)})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.cellNav",["ui.grid"]);e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),e.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(e,t,n,i,r){var o=function(e,t,n,i){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=i?i.visibleColumnCache:[],this.bodyContainer=e};return o.prototype.getFocusableCols=function(){return this.leftColumns.concat(this.columns,this.rightColumns).filter(function(e){return e.colDef.allowCellFocus})},o.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return!1!==e.allowCellFocus})},o.prototype.getNextRowCol=function(e,t,i){switch(e){case n.direction.LEFT:return this.getRowColLeft(t,i);case n.direction.RIGHT:return this.getRowColRight(t,i);case n.direction.UP:return this.getRowColUp(t,i);case n.direction.DOWN:return this.getRowColDown(t,i);case n.direction.PG_UP:return this.getRowColPageUp(t,i);case n.direction.PG_DOWN:return this.getRowColPageDown(t,i)}},o.prototype.initializeSelection=function(){var e=this.getFocusableCols(),t=this.getFocusableRows();return 0===e.length||0===t.length?null:new i(t[0],e[0])},o.prototype.getRowColLeft=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);-1===o&&(o=1);var s=0===o?n.length-1:o-1;return new i(s>=o?0===a?e:r[a-1]:e,n[s])},o.prototype.getRowColRight=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var s=o===n.length-1?0:o+1;return o>=s?a===r.length-1?new i(e,n[s]):new i(r[a+1],n[s]):new i(e,n[s])},o.prototype.getRowColDown=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);return-1===o&&(o=0),a===r.length-1?new i(e,n[o]):new i(r[a+1],n[o])},o.prototype.getRowColPageDown=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return a>=r.length-s?new i(r[r.length-1],n[o]):new i(r[a+s],n[o])},o.prototype.getRowColUp=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);return-1===o&&(o=0),new i(0===a?e:r[a-1],n[o])},o.prototype.getRowColPageUp=function(e,t){var n=this.getFocusableCols(),r=this.getFocusableRows(),o=n.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return new i(0>a-s?r[0]:r[a-s],n[o])},o}]),e.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(e,t,n,i,r,o,a){var s={initializeGrid:function(e){e.registerColumnBuilder(s.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],s.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(e,t){},viewPortKeyDown:function(e,t){},viewPortKeyPress:function(e,t){}}},methods:{cellNav:{scrollToFocus:function(t,n){return s.scrollToFocus(e,t,n)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var n=-1,i=0;i<e.cellNav.focusedCells.length;i++)if(e.cellNav.focusedCells[i].col.uid===t.col.uid&&e.cellNav.focusedCells[i].row.uid===t.row.uid){n=i;break}return n}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=!0===e.modifierKeysToMultiSelectCells,e.keyDownOverrides=e.keyDownOverrides||[]},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,n=e.hasLeftContainer()?e.renderContainers.left:null;null!==n&&(e.renderContainers.left.cellNav=new r(e.renderContainers.body,n,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new r(e.renderContainers.body,t,e.renderContainers.body,n)),e.renderContainers.body.cellNav=new r(e.renderContainers.body,e.renderContainers.body,n,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?n.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?n.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?n.direction.UP:e.keyCode===t.keymap.PG_UP?n.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER&&!e.ctrlKey&&!e.altKey?n.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?n.direction.PG_DOWN:null},cellNavColumnBuilder:function(e,t,n){return e.allowCellFocus=void 0===e.allowCellFocus||e.allowCellFocus,i.all([])},scrollToFocus:function(e,t,n){var i=null,r=null;return void 0!==t&&null!==t&&(i=e.getRow(t)),void 0!==n&&null!==n&&(r=e.getColumn(n.name?n.name:n.field)),e.api.core.scrollToIfNecessary(i,r).then(function(){var t={row:i,col:r};null!==i&&null!==r&&e.cellNav.broadcastCellNav(t)})},getLeftWidth:function(e,t){var n=0;if(!t)return n;var i=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){i>t&&(n+=e.drawnWidth)});var r=0===i?0:(i+1)/e.renderContainers.body.visibleColumnCache.length;return n+=t.drawnWidth*r}};return s}]),e.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile",function(e,t,n,i,r,o,a){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(e,o,a,s){var l=e,u=s.grid;t.initializeGrid(u),s.cellNav={},s.cellNav.makeRowCol=function(e){return e instanceof r||(e=new r(e.row,e.col)),e},s.cellNav.getActiveCell=function(){var e=o[0].getElementsByClassName("ui-grid-cell-focus");return e.length>0?e[0]:void 0},s.cellNav.broadcastCellNav=u.cellNav.broadcastCellNav=function(e,t,i){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e),s.cellNav.broadcastFocus(e,t,i),l.$broadcast(n.CELL_NAV_EVENT,e,t,i)},s.cellNav.clearFocus=u.cellNav.clearFocus=function(){u.cellNav.focusedCells=[],l.$broadcast(n.CELL_NAV_EVENT)},s.cellNav.broadcastFocus=function(e,t,n){t=!(void 0===t||!t);var i=(e=s.cellNav.makeRowCol(e)).row,o=e.col,a=s.grid.api.cellNav.rowColSelectIndex(e);if(null===u.cellNav.lastRowCol||-1===a){var l=new r(i,o);(null===u.cellNav.lastRowCol||u.cellNav.lastRowCol.row!==l.row||u.cellNav.lastRowCol.col!==l.col)&&(u.api.cellNav.raise.navigate(l,u.cellNav.lastRowCol,n),u.cellNav.lastRowCol=l),s.grid.options.modifierKeysToMultiSelectCells&&t?u.cellNav.focusedCells.push(e):u.cellNav.focusedCells=[e]}else u.options.modifierKeysToMultiSelectCells&&t&&a>=0&&u.cellNav.focusedCells.splice(a,1)},s.cellNav.handleKeyDown=function(e){var r=t.getDirection(e);if(null===r)return null;var o="body";e.uiGridTargetRenderContainerId&&(o=e.uiGridTargetRenderContainerId);var a=s.grid.api.cellNav.getFocusedCell();if(a){var l=s.grid.renderContainers[o].cellNav.getNextRowCol(r,a.row,a.col),c=s.grid.renderContainers[o].cellNav.getFocusableCols(),d=s.grid.api.cellNav.rowColSelectIndex(l);return r===n.direction.LEFT&&l.col===c[c.length-1]&&l.row===a.row&&e.keyCode===i.keymap.TAB&&e.shiftKey?(u.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0):r!==n.direction.RIGHT||l.col!==c[0]||l.row!==a.row||e.keyCode!==i.keymap.TAB||e.shiftKey?(u.scrollToIfNecessary(l.row,l.col).then(function(){s.cellNav.broadcastCellNav(l,null,e)}),e.stopPropagation(),e.preventDefault(),!1):(u.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0)}}},post:function(e,t,i,r){var o=r.grid;!function(){var i='<div id="'+o.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="region" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',r=a(i)(e);t.prepend(r),e.$on(n.CELL_NAV_EVENT,function(e,t,n,i){if(!i||"focus"!==i.type){for(var a=[],s=o.api.cellNav.getCurrentSelection(),l=0;l<s.length;l++)a.push(o.getCellDisplayValue(s[l].row,s[l].col));!function(e){e!==r.text()&&(r[0].style.clip="rect(0px,0px,0px,0px)",r[0].innerHTML="",r[0].style.visibility="hidden",r[0].style.visibility="visible",""!==e&&(r[0].style.clip="auto",r[0].appendChild(document.createTextNode(e+" ")),r[0].style.visibility="hidden",r[0].style.visibility="visible"))}(a.toString())}})}()}}}}}]),e.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(e,t,n,i,r,o,a){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(t,i,s,l){var u=l[0],c=l[1],d=l[2];if(u.grid.api.cellNav){var p=c.containerId,h=u.grid;if(r.decorateRenderContainers(h),"body"===p){u.grid.options.modifierKeysToMultiSelectCells?i.attr("aria-multiselectable",!0):i.attr("aria-multiselectable",!1);var f=o('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+h.id+"-aria-speakable "+h.id+'-grid-container" aria-owns="'+h.id+'-grid-container"></div>')(t);i.append(f),f.on("focus",function(e){e.uiGridTargetRenderContainerId=p;var t=u.grid.api.cellNav.getFocusedCell();null===t&&((t=u.grid.renderContainers[p].cellNav.getNextRowCol(a.direction.DOWN,null,null)).row&&t.col&&u.cellNav.broadcastCellNav(t))}),d.setAriaActivedescendant=function(e){i.attr("aria-activedescendant",e)},d.removeAriaActivedescendant=function(e){i.attr("aria-activedescendant")===e&&i.attr("aria-activedescendant","")},u.focus=function(){n.focus.byElement(f[0])};var g=null;f.on("keydown",function(e){e.uiGridTargetRenderContainerId=p;var t=u.grid.api.cellNav.getFocusedCell();null===(u.grid.options.keyDownOverrides.some(function(t){return Object.keys(t).every(function(n){return t[n]===e[n]})})?null:u.cellNav.handleKeyDown(e))&&(u.grid.api.cellNav.raise.viewPortKeyDown(e,t),g=t)}),f.on("keypress",function(t){g&&(e(function(){u.grid.api.cellNav.raise.viewPortKeyPress(t,g)},4),g=null)}),t.$on("$destroy",function(){f.off()})}}}}}}}]),e.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(e,t,n,i,r,o,a,s){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(e,t,n,i){},post:function(e,t,n,i){var r=i[0],o=i[1];if(r.grid.api.cellNav&&"body"===o.containerId){var a=r.grid;a.api.core.on.scrollBegin(e,function(e){var t=r.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&r.cellNav.clearFocus()}),a.api.core.on.scrollEnd(e,function(e){var t=r.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&r.cellNav.broadcastCellNav(t)}),a.api.cellNav.on.navigate(e,function(){r.focus()})}}}}}}]),e.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(e,t,n,i,r,o,a){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(t,n,i,s){function l(e){e.preventDefault()}function u(){h.cellNav.focusedCells.some(function(e,n){return e.row===t.row&&e.col===t.col})?function(){if(!t.focused){var e=n.find("div");e.addClass("ui-grid-cell-focus"),n.attr("aria-selected",!0),p.setAriaActivedescendant(n.attr("id")),t.focused=!0}}():c()}function c(){t.focused&&(n.find("div").removeClass("ui-grid-cell-focus"),n.attr("aria-selected",!1),p.removeAriaActivedescendant(n.attr("id")),t.focused=!1)}var d=s[0],p=s[1];if(d.grid.api.cellNav&&t.col.colDef.allowCellFocus){var h=d.grid;t.focused=!1,n.attr("tabindex",-1),n.find("div").on("click",function(e){d.cellNav.broadcastCellNav(new a(t.row,t.col),e.ctrlKey||e.metaKey,e),e.stopPropagation(),t.$apply()}),n.on("mousedown",l),d.grid.api.edit&&(d.grid.api.edit.on.beginCellEdit(t,function(){n.off("mousedown",l)}),d.grid.api.edit.on.afterCellEdit(t,function(){n.on("mousedown",l)}),d.grid.api.edit.on.cancelCellEdit(t,function(){n.on("mousedown",l)})),u(),n.on("focus",function(e){d.cellNav.broadcastCellNav(new a(t.row,t.col),!1,e),e.stopPropagation(),t.$apply()}),t.$on(r.CELL_NAV_EVENT,u);var f=d.grid.registerDataChangeCallback(function(t){c(),e(u)},[o.dataChange.ROW]);t.$on("$destroy",function(){f(),n.find("div").off(),n.off()})}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(e,t,n){var i={initializeGrid:function(e){i.defaultGridOptions(e.options),e.registerColumnBuilder(i.editColumnBuilder),e.edit={};e.api.registerEventsFromObject({edit:{afterCellEdit:function(e,t,n,i){},beginCellEdit:function(e,t,n){},cancelCellEdit:function(e,t){}}})},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition||e.cellEditableCondition,e.enableCellEditOnFocus=void 0!==e.enableCellEditOnFocus&&e.enableCellEditOnFocus},editColumnBuilder:function(t,i,r){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===r.enableCellEdit?"object"!==t.type:r.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?r.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||r.editableCellTemplate||"ui-grid/cellEditor",o.push(n.getTemplate(t.editableCellTemplate).then(function(e){i.editableCellTemplate=e},function(e){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?r.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return!(e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER)}};return i}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(e){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,n,i,r){var o=r[0];o.grid.api.edit&&o.grid.api.cellNav&&("body"===r[1].containerId&&(t.$on(e.events.CANCEL_CELL_EDIT,function(){o.focus()}),t.$on(e.events.END_CELL_EDIT,function(){o.focus()})))}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(e,t,n,i,r,o,a,s,l,u){var c=500;return t.has("uiGridCellNavService")&&t.get("uiGridCellNavService"),{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,d,p,h){function f(){d.on("dblclick",b),d.on("touchstart",g),h&&h.grid.api.cellNav&&(M=h.grid.api.cellNav.on.viewPortKeyDown(t,function(e,n){null!==n&&(n.row!==t.row||n.col!==t.col||t.col.colDef.enableCellEditOnFocus||y(e))}),_=h.grid.api.cellNav.on.navigate(t,function(e,i,r){t.col.colDef.enableCellEditOnFocus&&(i&&e.row===i.row&&e.col===i.col||e.row!==t.row||e.col!==t.col||n(function(){b(r)}))})),t.beginEditEventsWired=!0}function g(e){void 0!==e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),d.on("touchend",m),(E=n(function(){},c)).then(function(){setTimeout(b,0),d.off("touchend",m)})}function m(e){n.cancel(E),d.off("touchend",m)}function v(){d.off("dblclick",b),d.off("keydown",y),d.off("touchstart",g),_(),M(),t.beginEditEventsWired=!1}function y(e){s.isStartEditKey(e)&&b(e)}function b(e){t.grid.api.core.scrollToIfNecessary(t.row,t.col).then(function(){w(e)})}function w(s){if(!D&&function(e,n){return!n.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(t):e.colDef.cellEditableCondition)}(t.col,t.row)){var c=t.row.getQualifiedColField(t.col);t.col.colDef.editModelField&&(c=o.preEval("row.entity."+t.col.colDef.editModelField)),x=a(c),S=x(t),C=(C=(C=t.col.editableCellTemplate).replace(i.MODEL_COL_FIELD,c)).replace(i.COL_FIELD,"grid.getCellValue(row, col)");var p=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";C=C.replace(i.CUSTOM_FILTERS,p);var h="text";switch(t.col.colDef.type){case"boolean":h="checkbox";break;case"number":h="number";break;case"date":h="date"}C=C.replace("INPUT_TYPE",h);var f=t.col.colDef.editDropdownOptionsFunction;if(f)u.when(f(t.row.entity,t.col.colDef)).then(function(e){t.editDropdownOptionsArray=e});else{var g=t.col.colDef.editDropdownRowEntityOptionsArrayPath;t.editDropdownOptionsArray=g?function(e,t){for(var n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");n.length;){var i=n.shift();if(!(i in e))return;e=e[i]}return e}(t.row.entity,g):t.col.colDef.editDropdownOptionsArray}t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id",t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";var m=function(){D=!0,v();var n=angular.element(C);d.append(n),k=t.$new(),e(n)(k),angular.element(d.children()[0]).addClass("ui-grid-cell-contents-hidden")};l.$$phase?m():t.$apply(m);var y=t.col.grid.api.core.on.scrollBegin(t,function(){t.grid.disableScrolling||($(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,x(t),S),y(),b(),w())}),b=t.$on(r.events.END_CELL_EDIT,function(){$(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,x(t),S),b(),y(),w()}),w=t.$on(r.events.CANCEL_CELL_EDIT,function(){t.grid.disableScrolling=!1,D&&(x.assign(t,S),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),$()),w(),y(),b()});t.$broadcast(r.events.BEGIN_CELL_EDIT,s),n(function(){t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,s)})}}function $(){if(t.grid.disableScrolling=!1,D){h&&h.grid.api.cellNav&&h.focus();var e=angular.element(d.children()[0]);k.$destroy();for(var n=d.children(),r=1;r<n.length;r++)angular.element(n[r]).remove();e.removeClass("ui-grid-cell-contents-hidden"),D=!1,f(),t.grid.api.core.notifyDataChange(i.dataChange.EDIT)}}var C,S,x,E,k,D=!1;if(t.col.colDef.enableCellEdit){var _=function(){},M=function(){},T=function(){t.col.colDef.enableCellEdit&&!1!==t.row.enableCellEdit?t.beginEditEventsWired||f():t.beginEditEventsWired&&v()};T();var O=t.$watch("row",function(e,t){e!==t&&T()});t.$on("$destroy",function(){O(),d.off()})}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(e,t,n,i,r){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(e,t,n){},post:function(e,o,a,s){var l,u,c;s[0]&&(l=s[0]),s[1]&&(u=s[1]),s[2]&&(c=s[2]),e.$on(n.events.BEGIN_CELL_EDIT,function(t,n){if(i(function(){if(o[0].focus(),!o[0].select||!e.col.colDef.enableCellEditOnFocus&&l&&l.grid.api.cellNav)try{o[0].setSelectionRange(o[0].value.length,o[0].value.length)}catch(e){}else o[0].select()}),l&&l.grid.api.cellNav)var a=l.grid.api.cellNav.on.viewPortKeyPress(e,function(e,t){r.isStartEditKey(e)&&(c.$setViewValue(String.fromCharCode("number"==typeof e.which?e.which:e.keyCode),e),c.$render()),a()});o.on("mousedown",function(t){"checkbox"===o[0].type&&(o.off("blur",e.stopEdit),i(function(){o.focus(),o.on("blur",e.stopEdit)}))}),o.on("blur",e.stopEdit)}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)):e.$emit(n.events.END_CELL_EDIT),e.deepEdit=!1},o.on("click",function(t){"checkbox"!==o[0].type&&(e.deepEdit=!0,i(function(){e.grid.disableScrolling=!0}))}),o.on("keydown",function(i){switch(i.keyCode){case t.keymap.ESC:i.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)}if(!e.deepEdit||i.keyCode!==t.keymap.LEFT&&i.keyCode!==t.keymap.RIGHT&&i.keyCode!==t.keymap.UP&&i.keyCode!==t.keymap.DOWN)if(l&&l.grid.api.cellNav)i.uiGridTargetRenderContainerId=u.containerId,null!==l.cellNav.handleKeyDown(i)&&e.stopEdit(i);else switch(i.keyCode){case t.keymap.ENTER:case t.keymap.TAB:i.stopPropagation(),i.preventDefault(),e.stopEdit(i)}else i.stopPropagation();return!0}),e.$on("$destroy",function(){o.off()})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){return{priority:-100,require:"?ngModel",link:function(t,n,i,r){2===angular.version.minor&&i.type&&"date"===i.type&&r&&(r.$formatters.push(function(t){return r.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),r.$parsers.push(function(e){if(e&&e.length>0){var t=function(e){if(void 0===e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var n=parseInt(t[0],10),i=parseInt(t[1],10),r=parseInt(t[2],10);return 1>i||1>n||1>r?null:new Date(n,i-1,r)}(e);return r.$setValidity(null,t&&!isNaN(t.getTime())),t}return r.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,n){},post:function(i,r,o,a){var s=a[0],l=a[1];i.$on(t.events.BEGIN_CELL_EDIT,function(){n(function(){r[0].focus()}),r[0].style.width=r[0].parentElement.offsetWidth-1+"px",r.on("blur",function(e){i.stopEdit(e)})}),i.stopEdit=function(e){i.$emit(t.events.END_CELL_EDIT)},r.on("keydown",function(n){switch(n.keyCode){case e.keymap.ESC:n.stopPropagation(),i.$emit(t.events.CANCEL_CELL_EDIT)}if(s&&s.grid.api.cellNav)n.uiGridTargetRenderContainerId=l.containerId,null!==s.cellNav.handleKeyDown(n)&&i.stopEdit(n);else switch(n.keyCode){case e.keymap.ENTER:case e.keymap.TAB:n.stopPropagation(),n.preventDefault(),i.stopEdit(n)}return!0}),i.$on("$destroy",function(){r.off()})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n,i){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(e,t,n){},post:function(t,i,r,o){var a;o[0]&&(a=o[0]),o[1]&&o[1];var s=(a.grid,function(i){var r=i.srcElement||i.target;r&&r.files&&r.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,r.files):e.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),r.form.reset(),t.$emit(n.events.END_CELL_EDIT)):t.$emit(n.events.CANCEL_CELL_EDIT)});i[0].addEventListener("change",s,!1),t.$on(n.events.BEGIN_CELL_EDIT,function(){i[0].focus(),i[0].select(),i.on("blur",function(e){t.$emit(n.events.END_CELL_EDIT)})}),t.$on("$destroy",function(){i.off(),i[0].removeEventListener("change",s,!1)})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.emptyBaseLayer",["ui.grid"]);e.service("uiGridBaseLayerService",["gridUtil","$compile",function(e,t){return{initializeGrid:function(e,t){e.baseLayer={emptyRows:[]},!1!==e.options.enableEmptyGridBaseLayer&&(e.options.enableEmptyGridBaseLayer=!t)},setNumberOfEmptyRows:function(e,t){var n=t.options.rowHeight,i=Math.ceil(e/n);if(i>0){t.baseLayer.emptyRows=[];for(var r=0;i>r;r++)t.baseLayer.emptyRows.push({})}}}}]),e.directive("uiGridEmptyBaseLayer",["gridUtil","uiGridBaseLayerService","$parse",function(e,t,n){return{require:"^uiGrid",scope:!1,compile:function(e,i){return{pre:function(e,i,r,o){var a=!1===n(r.uiGridEmptyBaseLayer)(e);t.initializeGrid(o.grid,a)},post:function(e,n,i,r){if(r.grid.options.enableEmptyGridBaseLayer){var o=r.grid.renderContainers.body,a=o.getViewportHeight();r.grid.registerStyleComputation({func:function(){return(e=o.getViewportHeight())!==a&&(a=e,!0)&&t.setNumberOfEmptyRows(a,r.grid),function(e){return".grid"+r.grid.id+" .ui-grid-render-container .ui-grid-empty-base-layer-container.ui-grid-canvas { height: "+e+"px; }"}(a);var e}})}}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){var i=n.get("ui-grid/emptyBaseLayerContainer");return e.prepend(i),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e,t){var n={initializeGrid:function(t){t.expandable={},t.expandable.expandedAll=!1,t.options.enableExpandable=!1!==t.options.enableExpandable,t.options.expandableRowHeight=t.options.expandableRowHeight||150,t.options.expandableRowHeaderWidth=t.options.expandableRowHeaderWidth||40,t.options.enableExpandable&&!t.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),t.options.enableExpandable=!1);var i={events:{expandable:{rowExpandedBeforeStateChanged:function(e,t){},rowExpandedStateChanged:function(e,t){}}},methods:{expandable:{toggleRowExpansion:function(e){var i=t.getRow(e);null!==i&&n.toggleRowExpansion(t,i)},expandAllRows:function(){n.expandAllRows(t)},collapseAllRows:function(){n.collapseAllRows(t)},toggleAllRows:function(){n.toggleAllRows(t)},expandRow:function(e){var i=t.getRow(e);null===i||i.isExpanded||n.toggleRowExpansion(t,i)},collapseRow:function(e){var i=t.getRow(e);null!==i&&i.isExpanded&&n.toggleRowExpansion(t,i)},getExpandedRows:function(){return n.getExpandedRows(t).map(function(e){return e.entity})}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods)},toggleRowExpansion:function(e,t){e.api.expandable.raise.rowExpandedBeforeStateChanged(t),t.isExpanded=!t.isExpanded,angular.isUndefined(t.expandedRowHeight)&&(t.expandedRowHeight=e.options.expandableRowHeight),t.isExpanded?t.height=t.grid.options.rowHeight+t.expandedRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e,t){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded||n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded&&n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!1,e.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?n.collapseAllRows(e):n.expandAllRows(e)},getExpandedRows:function(e){return e.rows.filter(function(e){return e.isExpanded})}};return n}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,r,o){if(e.initializeGrid(o.grid),o.grid.options.enableExpandable&&!1!==o.grid.options.enableExpandableRowHeader){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a,-90)}},post:function(e,t,n,i){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,i){i.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(i.grid.parentRow=e.row)})},post:function(e,t,n,i){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,n,i,r,o,a){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t,i,o){r.getTemplate(e.grid.options.expandableRowTemplate).then(function(i){if(e.grid.options.expandableRowScope){var r=e.grid.options.expandableRowScope;for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}var a=angular.element(i);t.append(a),a=n(a)(e),e.row.expandedRendered=!0})},post:function(e,t,n,i){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){return{pre:function(e,t,n,i){e.grid.options.enableExpandable&&(e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){return"body"===e.colContainer.name&&!1!==e.grid.options.enableExpandable&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered)},e.expandableRow.shouldRenderFiller=function(){return e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered)})},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e.children().children()[0]),r=n.get("ui-grid/expandableScrollFiller"),o=n.get("ui-grid/expandableRow");return i.append(o),i.append(r),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,n,i,r,o){var a={delay:100,initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,n){a.csvExport(e,t,n)},pdfExport:function(t,n){a.pdfExport(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?a.addToMenu(e):r(function(){e.api.core.addToGridMenu&&a.addToMenu(e)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=!0===e.exporterSuppressMenu,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterOlderExcelCompatibility=!0===e.exporterOlderExcelCompatibility,e.exporterIsExcelCompatible=!0===e.exporterIsExcelCompatible,e.exporterMenuItemOrder=e.exporterMenuItemOrder?e.exporterMenuItemOrder:200,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0===e.exporterMenuAllData||e.exporterMenuAllData,e.exporterMenuVisibleData=void 0===e.exporterMenuVisibleData||e.exporterMenuVisibleData,e.exporterMenuSelectedData=void 0===e.exporterMenuSelectedData||e.exporterMenuSelectedData,e.exporterMenuCsv=void 0===e.exporterMenuCsv||e.exporterMenuCsv,e.exporterMenuPdf=void 0===e.exporterMenuPdf||e.exporterMenuPdf,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=!0===e.exporterHeaderFilterUseName,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,n,i){return i},e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null==e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:o.getSafeText("gridMenu.exporterAllAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder},{title:o.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+1},{title:o.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuSelectedData&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+2},{title:o.getSafeText("gridMenu.exporterAllAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder+3},{title:o.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+4},{title:o.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuSelectedData&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+5}])},csvExport:function(e,t,n){var i=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var r=e.options.showHeader?i.getColumnHeaders(e,n):[],o=i.getData(e,t,n),a=i.formatAsCsv(r,o,e.options.exporterCsvColumnSeparator);i.downloadFile(e.options.exporterCsvFilename,a,e.options.exporterCsvColumnSeparator,e.options.exporterOlderExcelCompatibility,e.options.exporterIsExcelCompatible)})},loadAllDataIfNeeded:function(n,i,r){if(i===t.ALL&&n.rows.length!==n.options.totalItems&&n.options.exporterAllDataFn)return n.options.exporterAllDataFn().then(function(){n.modifyRows(n.options.data)});var o=e.defer();return o.resolve(),o.promise},getColumnHeaders:function(e,n){var i,r=[];if(n===t.ALL)i=e.columns;else{var o=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],a=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],s=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];i=o.concat(a,s)}return i.forEach(function(t,n){!0!==t.colDef.exporterSuppressExport&&-1===e.options.exporterSuppressColumns.indexOf(t.name)&&r.push({name:t.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(t.name):e.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:"number"===t.colDef.type?"right":"left"})}),r},getData:function(e,i,r,o){var a,s,l=[];switch(i){case t.ALL:a=e.rows;break;case t.VISIBLE:a=e.getVisibleRows();break;case t.SELECTED:e.api.selection?a=e.api.selection.getSelectedGridRows():n.logError("selection feature must be enabled to allow selected rows to be exported")}if(r===t.ALL)s=e.columns;else{var u=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],c=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],d=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];s=u.concat(c,d)}return a.forEach(function(n,i){if(!1!==n.exporterEnableExporting){var a=[];s.forEach(function(i,s){if((i.visible||r===t.ALL)&&!0!==i.colDef.exporterSuppressExport&&-1===e.options.exporterSuppressColumns.indexOf(i.name)){var l=o?e.getCellDisplayValue(n,i):e.getCellValue(n,i),u={value:e.options.exporterFieldCallback(e,n,i,l)};i.colDef.exporterPdfAlign&&(u.alignment=i.colDef.exporterPdfAlign),a.push(u)}}),l.push(a)}}),l},formatAsCsv:function(e,t,n){var i=e.map(function(e){return{value:e.displayName}});return(i.length>0?this.formatRowAsCsv(this,n)(i)+"\n":"")+t.map(this.formatRowAsCsv(this,n)).join("\n")},formatRowAsCsv:function(e,t){return function(n){return n.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=!1;return-1!==navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/)&&(e=!0),e},downloadFile:function(e,t,n,i,r){var o,a=document,s=a.createElement("a"),l="application/octet-stream;charset=utf-8",u=this.isIE();if(r&&(t="sep="+n+"\r\n"+t),navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([i?"\ufeff":"",t],{type:l}),e);if(u){var c=a.createElement("iframe");return document.body.appendChild(c),c.contentWindow.document.open("text/html","replace"),c.contentWindow.document.write(t),c.contentWindow.document.close(),c.contentWindow.focus(),c.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(c),!0}if("download"in s){var d=new Blob([i?"\ufeff":"",t],{type:l});o=URL.createObjectURL(d),s.setAttribute("download",e)}else o="data:"+l+","+encodeURIComponent(t),s.setAttribute("target","_blank");s.href=o,s.setAttribute("style","display:none;"),a.body.appendChild(s),setTimeout(function(){if(s.click)s.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),s.dispatchEvent(e)}a.body.removeChild(s)},this.delay)},pdfExport:function(e,t,n){var i=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var r=i.getColumnHeaders(e,n),o=i.getData(e,t,n),a=i.prepareAsPdf(e,r,o);i.isIE()||-1!==navigator.appVersion.indexOf("Edge")?i.downloadPDF(e.options.exporterPdfFilename,a):pdfMake.createPdf(a).open()})},downloadPDF:function(e,t){var n,i,r=document;r.createElement("a"),n=this.isIE(),pdfMake.createPdf(t).getBuffer(function(t){if(i=new Blob([t]),navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(n){var o=r.createElement("iframe");return document.body.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(i),o.contentWindow.document.close(),o.contentWindow.focus(),o.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(o),!0}})},prepareAsPdf:function(e,t,n){var i=this.calculatePdfHeaderWidths(e,t),r=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),a=[r].concat(o),s={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:i,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(s.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(s.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(s.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(s=e.options.exporterPdfCustomFormatter(s)),s},calculatePdfHeaderWidths:function(e,t){var n=0;t.forEach(function(e){"number"==typeof e.width&&(n+=e.width)});var i=0;t.forEach(function(e){if("*"===e.width&&(i+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=n*t/100,i+=e.width}});var r=n+i;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/r})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t}};return a}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(r.grid),r.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,t,n,i,r,o,a,s,l){var u={initializeGrid:function(e,t){l.initializeGrid(e,t),e.grouping={},e.grouping.groupHeaderCache={},u.defaultGridOptions(e.options),e.registerRowsProcessor(u.groupRows,400),e.registerColumnBuilder(u.groupingColumnBuilder),e.registerColumnsProcessor(u.groupingColumnProcessor,400);var n={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(t){var n=u.getGrouping(e);return n.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations=n.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),t&&(n.rowExpandedStates=u.getRowExpandedStates(e.grouping.groupingHeaderCache)),n},setGrouping:function(t){u.setGrouping(e,t)},groupColumn:function(t){var n=e.getColumn(t);u.groupColumn(e,n)},ungroupColumn:function(t){var n=e.getColumn(t);u.ungroupColumn(e,n)},clearGrouping:function(){u.clearGrouping(e)},aggregateColumn:function(t,n,i){var r=e.getColumn(t);u.aggregateColumn(e,r,n,i)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.api.core.on.sortChanged(t,u.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=!1!==e.enableGrouping,e.groupingShowCounts=!1!==e.groupingShowCounts,e.groupingNullLabel=void 0===e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=!0===e.enableGroupHeaderSelection},groupingColumnBuilder:function(e,i,r){if(!1!==e.enableGrouping){void 0===i.grouping&&void 0!==e.grouping?(i.grouping=angular.copy(e.grouping),void 0!==i.grouping.groupPriority&&i.grouping.groupPriority>-1&&(i.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,i.treeAggregationFinalizerFn=u.groupedFinalizerFn)):void 0===i.grouping&&(i.grouping={}),void 0!==i.grouping&&void 0!==i.grouping.groupPriority&&i.grouping.groupPriority>=0&&(i.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:a.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return void 0===this.context.col.grouping||void 0===this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){u.groupColumn(this.context.col.grid,this.context.col)}},s={name:"ui.grid.grouping.ungroup",title:a.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return void 0!==this.context.col.grouping&&void 0!==this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){u.ungroupColumn(this.context.col.grid,this.context.col)}},c={name:"ui.grid.grouping.aggregateRemove",title:a.get().grouping.aggregate_remove,shown:function(){return void 0!==this.context.col.treeAggregationFn},action:function(){u.aggregateColumn(this.context.col.grid,this.context.col,null)}},d=function(e,t){t=t||a.get().grouping["aggregate_"+e]||e;var r={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return void 0===this.context.col.treeAggregation||void 0===this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){u.aggregateColumn(this.context.col.grid,this.context.col,e)}};n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.aggregate"+e)||i.menuItems.push(r)};!1!==i.colDef.groupingShowGroupingMenu&&(n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.group")||i.menuItems.push(o),n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.ungroup")||i.menuItems.push(s)),!1!==i.colDef.groupingShowAggregationMenu&&(angular.forEach(l.nativeAggregations(),function(e,t){d(t)}),angular.forEach(r.treeCustomAggregations,function(e,t){d(t,e.menuTitle)}),n.arrayContainsObjectWithProperty(i.menuItems,"name","ui.grid.grouping.aggregateRemove")||i.menuItems.push(c))}},groupingColumnProcessor:function(e,t){return u.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){var t=this;void 0!==e.groupVal?(e.rendered=e.groupVal,t.grid.options.groupingShowCounts&&"date"!==t.colDef.type&&"object"!==t.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null},moveGroupColumns:function(e,t,n){return!1===e.options.moveGroupColumns?t:(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var n,i;return n=e.isRowHeader?e.headerPriority:void 0===e.grouping||void 0===e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,i=t.isRowHeader?t.headerPriority:void 0===t.grouping||void 0===t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==n&&null===i?-1:null!==i&&null===n?1:null!==n&&null!==i?n-i:e.groupingPosition-t.groupingPosition}),t.forEach(function(e,t){delete e.groupingPosition}),t)},groupColumn:function(e,n){void 0===n.grouping&&(n.grouping={});var i=u.getGrouping(e);n.grouping.groupPriority=i.grouping.length,n.previousSort=angular.copy(n.sort),n.sort?(void 0===n.sort.direction||null===n.sort.direction)&&(n.sort.direction=s.ASC):n.sort={direction:s.ASC},n.treeAggregation={type:t.aggregation.COUNT,source:"grouping"},n.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,n.treeAggregationFinalizerFn=u.groupedFinalizerFn,e.api.grouping.raise.groupingChanged(n),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh()},ungroupColumn:function(e,t){void 0!==t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,t.previousSort&&(t.sort=t.previousSort,delete t.previousSort),u.tidyPriorities(e),e.api.grouping.raise.groupingChanged(t),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh())},aggregateColumn:function(e,t,n){void 0!==t.grouping&&void 0!==t.grouping.groupPriority&&t.grouping.groupPriority>=0&&u.ungroupColumn(e,t);var i={};void 0!==e.options.treeCustomAggregations[n]?i=e.options.treeCustomAggregations[n]:void 0!==l.nativeAggregations()[n]&&(i=l.nativeAggregations()[n]),t.treeAggregation={type:n,label:a.get().aggregation[i.label]||i.label},t.treeAggregationFn=i.aggregationFn,t.treeAggregationFinalizerFn=i.finalizerFn,e.api.grouping.raise.aggregationChanged(t),e.queueGridRefresh()},setGrouping:function(e,t){void 0!==t&&(u.clearGrouping(e),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var n=e.getColumn(t.colName);n&&u.groupColumn(e,n)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var n=e.getColumn(t.colName);n&&u.aggregateColumn(e,n,t.aggregation.type)}),t.rowExpandedStates&&u.applyRowExpandedStates(e.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(e){var t=u.getGrouping(e);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),u.ungroupColumn(e,t.col)}),t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),u.aggregateColumn(e,t.col,null)})},tidyPriorities:function(e){void 0!==e&&void 0===e.grid||void 0===this.grid||(e=this.grid);var t=[],n=[];e.columns.forEach(function(e,i){void 0!==e.grouping&&void 0!==e.grouping.groupPriority&&e.grouping.groupPriority>=0?t.push(e):void 0!==e.sort&&void 0!==e.sort.priority&&e.sort.priority>=0&&n.push(e)}),t.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,void 0===e.sort&&(e.sort={}),e.sort.priority=t});var i=t.length;n.sort(function(e,t){return e.sort.priority-t.sort.priority}),n.forEach(function(e,t){e.sort.priority=i,e.suppressRemoveSort=e.colDef.suppressRemoveSort,i++})},groupRows:function(e){if(0===e.length)return e;var t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={};for(var n=u.initialiseProcessingState(t),r=function(r,s){var l=t.getCellValue(a,r.col);r.initialised&&0===i.getSortFn(t,r.col,e)(l,r.currentValue)||(u.insertGroupHeader(t,e,o,n,s),o++)},o=0;o<e.length;o++){var a=e[o];a.visible&&n.forEach(r)}return delete t.grouping.oldGroupingHeaderCache,e},initialiseProcessingState:function(e){var t=[];return u.getGrouping(e).grouping.forEach(function(e,n){t.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(e){var t=[],n=[];return e.columns.forEach(function(e,i){e.grouping&&void 0!==e.grouping.groupPriority&&e.grouping.groupPriority>=0&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&n.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:n}},insertGroupHeader:function(e,t,n,i,a){var s,l=(i[a].fieldName,i[a].col),c=e.getCellValue(t[n],l),d=c;(void 0===c||null===c)&&(d=e.options.groupingNullLabel);for(var p=function(e){return angular.isObject(e)?JSON.stringify(e):e},h=e.grouping.oldGroupingHeaderCache,f=0;a>f;f++)h&&h[p(i[f].currentValue)]&&(h=h[p(i[f].currentValue)].children);for(h&&h[p(c)]?(s=h[p(c)].row).entity={}:(s=new r({},null,e),o.rowTemplateAssigner.call(e,s)),s.entity["$$"+i[a].col.uid]={groupVal:d},s.treeLevel=a,s.groupHeader=!0,s.internalRow=!0,s.enableCellEdit=!1,s.enableSelection=e.options.enableGroupHeaderSelection,i[a].initialised=!0,i[a].currentValue=c,i[a].currentRow=s,u.finaliseProcessingState(i,a+1),t.splice(n,0,s),h=e.grouping.groupingHeaderCache,f=0;a>f;f++)h=h[p(i[f].currentValue)].children;h[p(c)]={row:s,children:{}}},finaliseProcessingState:function(e,t){for(var n=t;n<e.length;n++)e[n].initialised=!1,e[n].currentRow=null,e[n].currentValue=null},getRowExpandedStates:function(e){if(void 0===e)return{};var t={};return angular.forEach(e,function(e,n){t[n]={state:e.row.treeNode.state},e.children?t[n].children=u.getRowExpandedStates(e.children):t[n].children={}}),t},applyRowExpandedStates:function(e,t){void 0!==t&&angular.forEach(t,function(t,n){e[n]&&(e[n].row.treeNode.state=t.state,t.children&&e[n].children&&u.applyRowExpandedStates(e[n].children,t.children))})}};return u}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){!1!==r.grid.options.enableGrouping&&t.initializeGrid(r.grid,e)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,n,i,r,o,a,s){var l={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var n={events:{importer:{}},methods:{importer:{importFile:function(e){l.importThisFile(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?l.addToMenu(t):o(function(){t.api.core.addToGridMenu&&l.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?s.hasOwnProperty("File")&&s.hasOwnProperty("FileReader")&&s.hasOwnProperty("FileList")&&s.hasOwnProperty("Blob")?e.enableImporter=!0:(i.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||l.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,!0!==e.enableImporter||e.importerDataAddCallback||(i.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=!1!==e.importerShowMenu,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(t){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(t){var n=new FileReader;switch(t.type){case"application/json":n.onload=l.importJsonClosure(e);break;default:n.onload=l.importCsvClosure(e)}n.readAsText(t)}else i.logError("No file object provided to importThisFile, should be impossible, aborting")},importJsonClosure:function(e){return function(t){var n,i=[],r=l.parseJson(e,t);null!==r&&(r.forEach(function(t,r){n=l.newObject(e),angular.extend(n,t),n=e.options.importerObjectCallback(e,n),i.push(n)}),l.addObjects(e,i))}},parseJson:function(e,t){var n;try{n=JSON.parse(t.target.result)}catch(n){return void l.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result)}return Array.isArray(n)?n:(l.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var n=l.parseCsv(t);if(n&&!(n.length<1)){var i=l.createCsvObjects(e,n);return i&&0!==i.length?void l.addObjects(e,i):void l.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result)}l.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result)}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var n=e.options.importerProcessHeaders(e,t.shift());if(!n||0===n.length)return l.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var i,r=[];return t.forEach(function(t,o){i=l.newObject(e),null!==t&&t.forEach(function(e,t){null!==n[t]&&(i[n[t]]=e)}),i=e.options.importerObjectCallback(e,i),r.push(i)}),r},processHeaders:function(e,t){var n=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var i=l.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e,t){i[e]?n.push(i[e]):i[e.toLowerCase()]?n.push(i[e.toLowerCase()]):n.push(null)}),n}return t.forEach(function(e,t){n.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),n},flattenColumnDefs:function(e,t){var n={};return t.forEach(function(t,i){t.name&&(n[t.name]=t.field||t.name,n[t.name.toLowerCase()]=t.field||t.name),t.field&&(n[t.field]=t.field||t.name,n[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(n[t.displayName]=t.field||t.name,n[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(n[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,n[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),n},addObjects:function(e,n,i){if(e.api.rowEdit){var r=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(n),r()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",r)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,n))},newObject:function(e){return void 0!==e.options&&void 0!==e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,n,r){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,n,r):(s.alert(a.getSafeText(t)),i.logError(n+r))}};return l}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(e,r.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,i,r,o){var a=i[0].querySelectorAll(".ui-grid-importer-file-chooser"),s=o.grid;1!==a.length?n.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):a[0].addEventListener("change",function(e){var n=e.srcElement||e.target;if(n&&n.files&&1===n.files.length){var i=n.files[0];t.importThisFile(s,i),n.form.reset()}},!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(e,t,n,i,r,o){var a={initializeGrid:function(e,t){if(a.defaultGridOptions(e.options),e.options.enableInfiniteScroll){e.infiniteScroll={dataLoading:!1},a.setScrollDirections(e,e.options.infiniteScrollUp,e.options.infiniteScrollDown),e.api.core.on.scrollEnd(t,a.handleScroll);var n={events:{infiniteScroll:{needLoadMoreData:function(e,t){},needLoadMoreDataTop:function(e,t){}}},methods:{infiniteScroll:{dataLoaded:function(t,n){return a.setScrollDirections(e,t,n),a.adjustScroll(e).then(function(){e.infiniteScroll.dataLoading=!1})},resetScroll:function(t,n){a.setScrollDirections(e,t,n),a.adjustInfiniteScrollPosition(e,0)},saveScrollPercentage:function(){e.infiniteScroll.prevScrollTop=e.renderContainers.body.prevScrollTop,e.infiniteScroll.previousVisibleRows=e.getVisibleRowCount()},dataRemovedTop:function(t,n){a.dataRemovedTop(e,t,n)},dataRemovedBottom:function(t,n){a.dataRemovedBottom(e,t,n)},setScrollDirections:function(t,n){a.setScrollDirections(e,t,n)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=!1!==e.enableInfiniteScroll,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=!0===e.infiniteScrollUp,e.infiniteScrollDown=!1!==e.infiniteScrollDown},setScrollDirections:function(e,t,n){e.infiniteScroll.scrollUp=!0===t,e.suppressParentScrollUp=!0===t,e.infiniteScroll.scrollDown=!1!==n,e.suppressParentScrollDown=!1!==n},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y)if(0===e.y.percentage)e.grid.scrollDirection=i.scrollDirection.UP,a.loadData(e.grid);else if(1===e.y.percentage)e.grid.scrollDirection=i.scrollDirection.DOWN,a.loadData(e.grid);else{var t=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===i.scrollDirection.UP?t>=e.y.percentage&&a.loadData(e.grid):e.grid.scrollDirection===i.scrollDirection.DOWN&&(t>=1-e.y.percentage&&a.loadData(e.grid))}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrollTop,e.scrollDirection===i.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===i.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(e){var t=o.defer();return n(function(){var r,o,s,l;r=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,o=e.options.rowHeight,void 0===e.infiniteScroll.direction&&a.adjustInfiniteScrollPosition(e,0);var u=o*(s=e.getVisibleRowCount());e.infiniteScroll.scrollDown&&r>u&&e.api.infiniteScroll.raise.needLoadMoreData(),e.infiniteScroll.direction===i.scrollDirection.UP&&(l=(e.infiniteScroll.prevScrollTop||0)+(s-e.infiniteScroll.previousVisibleRows)*o,a.adjustInfiniteScrollPosition(e,l),n(function(){t.resolve()})),e.infiniteScroll.direction===i.scrollDirection.DOWN&&(l=e.infiniteScroll.prevScrollTop||e.infiniteScroll.previousVisibleRows*o-r,a.adjustInfiniteScrollPosition(e,l),n(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(e,t){var n=new r(e,null,null,"ui.grid.adjustInfiniteScrollPosition"),i=e.getVisibleRowCount(),o=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,a=i*e.options.rowHeight-o;0===t&&e.infiniteScroll.scrollUp?n.y={percentage:1/a}:n.y={percentage:t/a},e.scrollContainers("",n)},dataRemovedTop:function(e,t,n){var i,r,o,s;a.setScrollDirections(e,t,n),i=e.renderContainers.body.visibleRowCache.length,r=e.infiniteScroll.prevScrollTop,s=e.options.rowHeight,o=r-(e.infiniteScroll.previousVisibleRows-i)*s,a.adjustInfiniteScrollPosition(e,o)},dataRemovedBottom:function(e,t,n){var i;a.setScrollDirections(e,t,n),i=e.infiniteScroll.prevScrollTop,a.adjustInfiniteScrollPosition(e,i)}};return a}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(t,n,i){return{pre:function(t,n,i,r){e.initializeGrid(r.grid,t)},post:function(e,t,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(e,t,n,i,r,o){var a={initializeGrid:function(e){this.registerPublicApi(e),this.defaultGridOptions(e.options),e.moveColumns={orderCache:[]},e.registerColumnBuilder(this.movableColumnBuilder),e.registerDataChangeCallback(this.verifyColumnOrder,[r.dataChange.COLUMN])},registerPublicApi:function(e){var t=this,n={events:{colMovable:{columnPositionChanged:function(e,t,n){}}},methods:{colMovable:{moveColumn:function(n,i){var r=e.columns;if(angular.isNumber(n)&&angular.isNumber(i)){for(var a=0,s=0;s<r.length;s++)(angular.isDefined(r[s].colDef.visible)&&!1===r[s].colDef.visible||!0===r[s].isRowHeader)&&a++;if(n>=r.length-a||i>=r.length-a)o.logError("MoveColumn: Invalid values for originalPosition, finalPosition");else{var l=function(e){for(var t=e,n=0;t>=n;n++)angular.isDefined(r[n])&&(angular.isDefined(r[n].colDef.visible)&&!1===r[n].colDef.visible||!0===r[n].isRowHeader)&&t++;return t};t.redrawColumnAtPosition(e,l(n),l(i))}}else o.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition")}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableColumnMoving=!1!==e.enableColumnMoving},movableColumnBuilder:function(t,n,i){return t.enableColumnMoving=void 0===t.enableColumnMoving?i.enableColumnMoving:t.enableColumnMoving,e.all([])},updateColumnCache:function(e){e.moveColumns.orderCache=e.getOnlyDataColumns()},verifyColumnOrder:function(e){var t,n=e.rowHeaderColumns.length;angular.forEach(e.moveColumns.orderCache,function(i,r){if(-1!==(t=e.columns.indexOf(i))&&t-n!==r){var o=e.columns.splice(t,1)[0];e.columns.splice(r+n,0,o)}})},redrawColumnAtPosition:function(e,n,i){var o=e.columns;if(n!==i){for(var s=i>n?n+1:n-1,l=Math.min(s,i);l<=Math.max(s,i)&&!o[l].visible;l++);if(!(l>Math.max(s,i))){var u=o[n];if(u.colDef.enableColumnMoving){if(n>i)for(var c=n;c>i;c--)o[c]=o[c-1];else if(i>n)for(var d=n;i>d;d++)o[d]=o[d+1];o[i]=u,a.updateColumnCache(e),e.queueGridRefresh(),t(function(){e.api.core.notifyDataChange(r.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(u.colDef,n,i)})}}}}};return a}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,i,r){e.initializeGrid(r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,n,i,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,t,r,o){if(e.col.colDef.enableColumnMoving){var s,l,u,c,d,p,h=angular.element(t[0].querySelectorAll(".ui-grid-cell-contents")),f=!1,g=!1,m=function(t){s=e.grid.element[0].getBoundingClientRect().left,e.grid.hasLeftContainer()&&(s+=e.grid.renderContainers.left.header[0].getBoundingClientRect().width),l=t.pageX||(t.originalEvent?t.originalEvent.pageX:0),u=0,c=s+e.grid.getViewportWidth(),"mousedown"===t.type?(i.on("mousemove",v),i.on("mouseup",y)):"touchstart"===t.type&&(i.on("touchmove",v),i.on("touchend",y))},v=function(e){var t=e.pageX||(e.originalEvent?e.originalEvent.pageX:0),n=t-l;0!==n&&(document.onselectstart=function(){return!1},g=!0,f?f&&(C(n),l=t):$())},y=function(t){if(document.onselectstart=null,d&&(d.remove(),f=!1),w(),b(),g){for(var i=e.grid.columns,r=0,o=0;o<i.length&&i[o].colDef.name!==e.col.colDef.name;o++)r++;var a;if(0>u){var s,l=0;if(e.grid.isRTL()){for(s=r+1;s<i.length;s++)if((angular.isUndefined(i[s].colDef.visible)||!0===i[s].colDef.visible)&&(l+=i[s].drawnWidth||i[s].width||i[s].colDef.width)>Math.abs(u)){n.redrawColumnAtPosition(e.grid,r,s-1);break}}else for(s=r-1;s>=0;s--)if((angular.isUndefined(i[s].colDef.visible)||!0===i[s].colDef.visible)&&(l+=i[s].drawnWidth||i[s].width||i[s].colDef.width)>Math.abs(u)){n.redrawColumnAtPosition(e.grid,r,s+1);break}l<Math.abs(u)&&(a=0,e.grid.isRTL()&&(a=i.length-1),n.redrawColumnAtPosition(e.grid,r,a))}else if(u>0){var c,p=0;if(e.grid.isRTL()){for(c=r-1;c>0;c--)if((angular.isUndefined(i[c].colDef.visible)||!0===i[c].colDef.visible)&&(p+=i[c].drawnWidth||i[c].width||i[c].colDef.width)>u){n.redrawColumnAtPosition(e.grid,r,c);break}}else for(c=r+1;c<i.length;c++)if((angular.isUndefined(i[c].colDef.visible)||!0===i[c].colDef.visible)&&(p+=i[c].drawnWidth||i[c].width||i[c].colDef.width)>u){n.redrawColumnAtPosition(e.grid,r,c-1);break}u>p&&(a=i.length-1,e.grid.isRTL()&&(a=0),n.redrawColumnAtPosition(e.grid,r,a))}}},b=function(){h.on("touchstart",m),h.on("mousedown",m)},w=function(){h.off("touchstart",m),h.off("mousedown",m),i.off("mousemove",v),i.off("touchmove",v),i.off("mouseup",y),i.off("touchend",y)};b();var $=function(){f=!0,d=t.clone(),t.parent().append(d),d.addClass("movingColumn");var n={};n.left=t[0].offsetLeft+"px";var i=e.grid.element[0].getBoundingClientRect().right,r=t[0].getBoundingClientRect().right;r>i&&(p=e.col.drawnWidth+(i-r),n.width=p+"px"),d.css(n)},C=function(t){for(var n=e.grid.columns,i=0,r=0;r<n.length;r++)(angular.isUndefined(n[r].colDef.visible)||!0===n[r].colDef.visible)&&(i+=n[r].drawnWidth||n[r].width||n[r].colDef.width);var l,h=d[0].getBoundingClientRect().left-1,f=d[0].getBoundingClientRect().right;if(l=c>(l=h-s+t)?l:c,(h>=s||t>0)&&(c>=f||0>t))d.css({visibility:"visible",left:d[0].offsetLeft+(c>l?t:c-h)+"px"});else if(i>Math.ceil(o.grid.gridWidth)){t*=8;var g=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");g.x={pixels:t},g.grid.scrollContainers("",g)}for(var m=0,v=0;v<n.length;v++)if(angular.isUndefined(n[v].colDef.visible)||!0===n[v].colDef.visible){if(n[v].colDef.name===e.col.colDef.name)break;m+=n[v].drawnWidth||n[v].width||n[v].colDef.width}void 0===e.newScrollLeft?u+=t:u=e.newScrollLeft+l-m,p<e.col.drawnWidth&&(p+=Math.abs(t),d.css({width:p+"px"}))};e.$on("$destroy",w)}}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var n={events:{pagination:{paginationChanged:function(e,t){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getFirstRowIndex:function(){return e.options.useCustomPagination?e.options.paginationPageSizes.reduce(function(t,n,i){return i<e.options.paginationCurrentPage-1?t+n:t},0):(e.options.paginationCurrentPage-1)*e.options.paginationPageSize},getLastRowIndex:function(){return e.options.useCustomPagination?n.methods.pagination.getFirstRowIndex()+e.options.paginationPageSizes[e.options.paginationCurrentPage-1]:Math.min(e.options.paginationCurrentPage*e.options.paginationPageSize,e.options.totalItems)},getTotalPages:function(){return e.options.enablePagination?e.options.useCustomPagination?e.options.paginationPageSizes.length:0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,n.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||1>t)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,n.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods);e.registerRowsProcessor(function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var i=parseInt(e.options.paginationPageSize,10),r=(parseInt(e.options.paginationCurrentPage,10),t.filter(function(e){return e.visible}));e.options.totalItems=r.length;var o=n.methods.pagination.getFirstRowIndex(),a=n.methods.pagination.getLastRowIndex();return o>r.length&&(o=((e.options.paginationCurrentPage=1)-1)*i),r.slice(o,a)},900)},defaultGridOptions:function(t){t.enablePagination=!1!==t.enablePagination,t.enablePaginationControls=!1!==t.enablePaginationControls,t.useExternalPagination=!0===t.useExternalPagination,t.useCustomPagination=!0===t.useCustomPagination,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSizes.length>0?t.paginationPageSize=t.paginationPageSizes[0]:t.paginationPageSize=0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,n){e.api.pagination.raise.paginationChanged(t,n),e.options.useExternalPagination||e.queueGridRefresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(n,i,r,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);i.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,t,n,i){return{priority:-200,scope:!0,require:"^uiGrid",link:function(r,o,a,s){r.aria=i.getSafeText("pagination.aria"),r.paginationApi=s.grid.api.pagination,r.sizesLabel=i.getSafeText("pagination.sizes"),r.totalItemsLabel=i.getSafeText("pagination.totalItems"),r.paginationOf=i.getSafeText("pagination.of"),r.paginationThrough=i.getSafeText("pagination.through");var l=s.grid.options;s.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-n.elementHeight(o,"padding"),e});var u=s.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);r.$on("$destroy",u);var c=r.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,n){return t!==n&&void 0!==n?!angular.isNumber(l.paginationCurrentPage)||l.paginationCurrentPage<1?void(l.paginationCurrentPage=1):l.totalItems>0&&l.paginationCurrentPage>r.paginationApi.getTotalPages()?void(l.paginationCurrentPage=r.paginationApi.getTotalPages()):void e.onPaginationChanged(r.grid,l.paginationCurrentPage,l.paginationPageSize):void 0});r.$on("$destroy",function(){c()}),r.cantPageForward=function(){return r.paginationApi.getTotalPages()?r.cantPageToLast():l.data.length<1},r.cantPageToLast=function(){var e=r.paginationApi.getTotalPages();return!e||l.paginationCurrentPage>=e},r.cantPageBackward=function(){return l.paginationCurrentPage<=1};var d=function(e){e&&n.focus.bySelector(o,".ui-grid-pager-control-input")};r.pageFirstPageClick=function(){r.paginationApi.seek(1),d(r.cantPageBackward())},r.pagePreviousPageClick=function(){r.paginationApi.previousPage(),d(r.cantPageBackward())},r.pageNextPageClick=function(){r.paginationApi.nextPage(),d(r.cantPageForward())},r.pageLastPageClick=function(){r.paginationApi.seek(r.paginationApi.getTotalPages()),d(r.cantPageToLast())}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(e,t,n,i){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(e,t){}}},methods:{pinning:{pinColumn:function(t,n){r.pinColumn(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enablePinning=!1!==e.enablePinning},pinningColumnBuilder:function(t,o,a){if(t.enablePinning=void 0===t.enablePinning?a.enablePinning:t.enablePinning,t.pinnedLeft?(o.renderContainer="left",o.grid.createLeftContainer()):t.pinnedRight&&(o.renderContainer="right",o.grid.createRightContainer()),t.enablePinning){var s={name:"ui.grid.pinning.pinLeft",title:n.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.LEFT)}},l={name:"ui.grid.pinning.pinRight",title:n.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.RIGHT)}},u={name:"ui.grid.pinning.unpin",title:n.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return void 0!==this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,i.container.NONE)}};e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinLeft")||o.menuItems.push(s),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinRight")||o.menuItems.push(l),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.unpin")||o.menuItems.push(u)}},pinColumn:function(e,t,n){n===i.container.NONE?(t.renderContainer=null,t.colDef.pinnedLeft=t.colDef.pinnedRight=!1):(t.renderContainer=n,n===i.container.LEFT?e.createLeftContainer():n===i.container.RIGHT&&e.createRightContainer()),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,n)})}};return r}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(r.grid)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,t,n){return{defaultGridOptions:function(e){e.enableColumnResizing=!1!==e.enableColumnResizing,!1===e.enableColumnResize&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,n,i){return e.enableColumnResizing=void 0===e.enableColumnResizing?i.enableColumnResizing:e.enableColumnResizing,!1===e.enableColumnResize&&(e.enableColumnResizing=!1),t.all([])},registerPublicApi:function(e){e.api.registerEventsFromObject({colResizable:{columnSizeChanged:function(e,t){}}})},fireColumnSizeChanged:function(t,i,r){n(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(i,r):e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,n){var i=e.getRenderContainer();if("left"===t){var r=i.visibleColumnCache.indexOf(e);return i.visibleColumnCache[r-1*n]}return e}}}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.defaultGridOptions(r.grid.options),r.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,t,n,i,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,i,s,l){var u=l.grid;if(u.options.enableColumnResizing){var c=t.get("ui-grid/columnResizer"),d=1;u.isRTL()&&(e.position="left",d=-1);var p=function(){for(var t=i[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<t.length;o++)angular.element(t[o]).remove();var a=r.findTargetCol(e.col,"left",d),s=e.col.getRenderContainer();if(a&&0!==s.visibleColumnCache.indexOf(e.col)&&!1!==a.colDef.enableColumnResizing){var l=angular.element(c).clone();l.attr("position","left"),i.prepend(l),n(l)(e)}if(!1!==e.col.colDef.enableColumnResizing){var u=angular.element(c).clone();u.attr("position","right"),i.append(u),n(u)(e)}};p();var h=u.registerDataChangeCallback(function(){a(p)},[o.dataChange.COLUMN]);e.$on("$destroy",h)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,n,i){var r=angular.element('<div class="ui-grid-resize-overlay"></div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,a,s,l){function u(e){l.grid.refreshCanvas(!0).then(function(){l.grid.queueGridRefresh()})}function c(e,t){var n=t;return e.minWidth&&n<e.minWidth?n=e.minWidth:e.maxWidth&&n>e.maxWidth&&(n=e.maxWidth),n}function d(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),0>(f=(e.targetTouches?e.targetTouches[0]:e).clientX-g)?f=0:f>l.grid.gridWidth&&(f=l.grid.gridWidth);var a=i.findTargetCol(o.col,o.position,m);if(!1!==a.colDef.enableColumnResizing){l.grid.element.hasClass("column-resizing")||l.grid.element.addClass("column-resizing");var s=f-h,u=parseInt(a.drawnWidth+s*m,10);f+=(c(a,u)-u)*m,r.css({left:f+"px"}),l.fireEvent(n.events.ITEM_DRAGGING)}}function p(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),l.grid.element.removeClass("column-resizing"),r.remove();var n=(f=(e.changedTouches?e.changedTouches[0]:e).clientX-g)-h;if(0===n)return b(),void y();var a=i.findTargetCol(o.col,o.position,m);if(!1!==a.colDef.enableColumnResizing){var s=parseInt(a.drawnWidth+n*m,10);a.width=c(a,s),a.hasCustomWidth=!0,u(),i.fireColumnSizeChanged(l.grid,a.colDef,n),b(),y()}}var h=0,f=0,g=0,m=1;l.grid.isRTL()&&(o.position="left",m=-1),"left"===o.position?a.addClass("left"):"right"===o.position&&a.addClass("right");var v=function(t,n){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),g=l.grid.element[0].getBoundingClientRect().left,h=(t.targetTouches?t.targetTouches[0]:t).clientX-g,l.grid.element.append(r),r.css({left:h}),"touchstart"===t.type?(e.on("touchend",p),e.on("touchmove",d),a.off("mousedown",v)):(e.on("mouseup",p),e.on("mousemove",d),a.off("touchstart",v))},y=function(){a.on("mousedown",v),a.on("touchstart",v)},b=function(){e.off("mouseup",p),e.off("touchend",p),e.off("mousemove",d),e.off("touchmove",d),a.off("mousedown",v),a.off("touchstart",v)};y();var w=function(e,r){e.stopPropagation();var s=i.findTargetCol(o.col,o.position,m);if(!1!==s.colDef.enableColumnResizing){var d=0,p=0,h=t.closestElm(a,".ui-grid-render-container").querySelectorAll("."+n.COL_CLASS_PREFIX+s.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(h,function(e){var n;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(n=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var i=angular.element(e);i.attr("style","float: left");var r=t.elementWidth(i);n&&(r+=t.elementWidth(n));r>d&&(p=(d=r)-r)})}),s.width=c(s,d),s.hasCustomWidth=!0,u(),i.fireColumnSizeChanged(l.grid,s.colDef,p)}};a.on("dblclick",w),a.on("$destroy",function(){a.off("dblclick",w),b()})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,n,i,r){var o={initializeGrid:function(e,t){t.rowEdit={};var n={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,n){o.setSavePromise(t,e,n)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)},setRowsClean:function(e){o.setRowsClean(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.api.core.on.renderingComplete(e,function(n){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(e){},saveRow:function(e,t){var n=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var i=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(n.processSuccessPromise(e,t),n.processErrorPromise(e,t)):r.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),i}},setSavePromise:function(e,t,n){e.getRow(t).rowEditSavePromise=n},processSuccessPromise:function(e,t){var n=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,n.removeRow(e.rowEdit.errorRows,t),n.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){void 0!==e&&null!==e&&e.forEach(function(n,i){n.uid===t.uid&&e.splice(i,1)})},isRowPresent:function(e,t){var n=!1;return e.forEach(function(e,i){e.uid===t.uid&&(n=!0)}),n},flushDirtyRows:function(e){var n=[];return e.api.rowEdit.getDirtyRows().forEach(function(t){o.saveRow(e,t)(),n.push(t.rowEditSavePromise)}),t.all(n)},endEditCell:function(e,t,n,i){var a=this.grid,s=a.getRow(e);return s?void((n!==i||s.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),s.isDirty||(s.isDirty=!0,a.rowEdit.dirtyRows.push(s)),delete s.isError,o.considerSetTimer(a,s))):void r.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(e,t){var n=this.grid,i=n.getRow(e);return i?void o.cancelTimer(n,i):void r.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(e,t){var n=this.grid,i=n.getRow(e);return i?void o.considerSetTimer(n,i):void r.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(e,t){var n=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(n,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(n,t.row)},considerSetTimer:function(t,n){if(o.cancelTimer(t,n),n.isDirty&&!n.isSaving&&-1!==t.options.rowEditWaitInterval){var i=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;n.rowEditSaveTimer=e(o.saveRow(t,n),i,1)}},cancelTimer:function(t,n){n.rowEditSaveTimer&&!n.isSaving&&(e.cancel(n.rowEditSaveTimer),delete n.rowEditSaveTimer)},setRowsDirty:function(e,t){var n;t.forEach(function(t,i){(n=e.getRow(t))?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),n.isDirty||(n.isDirty=!0,e.rowEdit.dirtyRows.push(n)),delete n.isError,o.considerSetTimer(e,n)):r.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(e,t){var n;t.forEach(function(t,i){(n=e.getRow(t))?(delete n.isDirty,o.removeRow(e.rowEdit.dirtyRows,n),o.cancelTimer(e,n),delete n.isError,o.removeRow(e.rowEdit.errorRows,n)):r.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(e,r.grid)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,i){return{priority:-200,scope:!1,compile:function(e,t){var n,i=angular.element(e.children().children()[0]),r=i.attr("ng-class");return n=r?r.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",i.attr("ng-class",n),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(e,t,n,i,r,o){var a={initializeGrid:function(e){e.saveState={},this.defaultGridOptions(e.options);var t={events:{saveState:{}},methods:{saveState:{save:function(){return a.save(e)},restore:function(t,n){a.restore(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.saveWidths=!1!==e.saveWidths,e.saveOrder=!1!==e.saveOrder,e.saveScroll=!0===e.saveScroll,e.saveFocus=!0!==e.saveScroll&&!1!==e.saveFocus,e.saveVisible=!1!==e.saveVisible,e.saveSort=!1!==e.saveSort,e.saveFilter=!1!==e.saveFilter,e.saveSelection=!1!==e.saveSelection,e.saveGrouping=!1!==e.saveGrouping,e.saveGroupingExpandedStates=!0===e.saveGroupingExpandedStates,e.savePinning=!1!==e.savePinning,e.saveTreeView=!1!==e.saveTreeView},save:function(e){var t={};return t.columns=a.saveColumns(e),t.scrollFocus=a.saveScrollFocus(e),t.selection=a.saveSelection(e),t.grouping=a.saveGrouping(e),t.treeView=a.saveTreeView(e),t.pagination=a.savePagination(e),t},restore:function(e,t,n){n.columns&&a.restoreColumns(e,n.columns),n.scrollFocus&&a.restoreScrollFocus(e,t,n.scrollFocus),n.selection&&a.restoreSelection(e,n.selection),n.grouping&&a.restoreGrouping(e,n.grouping),n.treeView&&a.restoreTreeView(e,n.treeView),n.pagination&&a.restorePagination(e,n.pagination),e.refresh()},saveColumns:function(e){var t=[];return e.getOnlyDataColumns().forEach(function(n){var i={};i.name=n.name,e.options.saveVisible&&(i.visible=n.visible),e.options.saveWidths&&(i.width=n.width),e.options.saveSort&&(i.sort=angular.copy(n.sort)),e.options.saveFilter&&(i.filters=[],n.filters.forEach(function(e){var t={};angular.forEach(e,function(e,n){"condition"!==n&&"$$hashKey"!==n&&"placeholder"!==n&&(t[n]=e)}),i.filters.push(t)})),e.api.pinning&&e.options.savePinning&&(i.pinned=n.renderContainer?n.renderContainer:""),t.push(i)}),t},saveScrollFocus:function(e){if(!e.api.cellNav)return{};var t={};if(e.options.saveFocus){t.focus=!0;var n=e.api.cellNav.getFocusedCell();null!==n&&(null!==n.col&&(t.colName=n.col.colDef.name),null!==n.row&&(t.rowVal=a.getRowVal(e,n.row)))}return(e.options.saveScroll||e.options.saveFocus&&!t.colName&&!t.rowVal)&&(t.focus=!1,e.renderContainers.body.prevRowScrollIndex&&(t.rowVal=a.getRowVal(e,e.renderContainers.body.visibleRowCache[e.renderContainers.body.prevRowScrollIndex])),e.renderContainers.body.prevColScrollIndex&&(t.colName=e.renderContainers.body.visibleColumnCache[e.renderContainers.body.prevColScrollIndex].name)),t},saveSelection:function(e){return e.api.selection&&e.options.saveSelection?e.api.selection.getSelectedGridRows().map(function(t){return a.getRowVal(e,t)}):[]},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},savePagination:function(e){return e.api.pagination&&e.options.paginationPageSize?{paginationCurrentPage:e.options.paginationCurrentPage,paginationPageSize:e.options.paginationPageSize}:{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var n={};return e.options.saveRowIdentity?(n.identity=!0,n.row=e.options.saveRowIdentity(t.entity)):(n.identity=!1,n.row=e.renderContainers.body.visibleRowCache.indexOf(t)),n},restoreColumns:function(e,t){var n=!1;t.forEach(function(t,i){var r=e.getColumn(t.name);if(r&&!e.isRowHeaderColumn(r)){!e.options.saveVisible||r.visible===t.visible&&r.colDef.visible===t.visible||(r.visible=t.visible,r.colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(r)),e.options.saveWidths&&r.width!==t.width&&(r.width=t.width,r.hasCustomWidth=!0),!e.options.saveSort||angular.equals(r.sort,t.sort)||void 0===r.sort&&angular.isEmpty(t.sort)||(r.sort=angular.copy(t.sort),n=!0),e.options.saveFilter&&!angular.equals(r.filters,t.filters)&&(t.filters.forEach(function(e,t){angular.extend(r.filters[t],e),(void 0===e.term||null===e.term)&&delete r.filters[t].term}),e.api.core.raise.filterChanged()),e.api.pinning&&e.options.savePinning&&r.renderContainer!==t.pinned&&e.api.pinning.pinColumn(r,t.pinned);var o=e.getOnlyDataColumns().indexOf(r);if(-1!==o&&e.options.saveOrder&&o!==i){var a=e.columns.splice(o+e.rowHeaderColumns.length,1)[0];e.columns.splice(i+e.rowHeaderColumns.length,0,a)}}}),n&&e.api.core.raise.sortChanged(e,e.getColumnSorting())},restoreScrollFocus:function(e,t,n){if(e.api.cellNav){var i,r;if(n.colName){var o=e.options.columnDefs.filter(function(e){return e.name===n.colName});o.length>0&&(i=o[0])}n.rowVal&&n.rowVal.row&&(r=n.rowVal.identity?a.findRowByIdentity(e,n.rowVal):e.renderContainers.body.visibleRowCache[n.rowVal.row]);var s=r&&r.entity?r.entity:null;(i||s)&&(n.focus?e.api.cellNav.scrollToFocus(s,i):e.scrollTo(s,i))}},restoreSelection:function(e,t){e.api.selection&&(e.api.selection.clearSelectedRows(),t.forEach(function(t){if(t.identity){var n=a.findRowByIdentity(e,t);n&&e.api.selection.selectRow(n.entity)}else e.api.selection.selectRowByVisibleIndex(t.row)}))},restoreGrouping:function(e,t){e.api.grouping&&void 0!==t&&null!==t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&void 0!==t&&null!==t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},restorePagination:function(e,t){e.api.pagination&&e.options.paginationPageSize&&(e.options.paginationCurrentPage=t.paginationCurrentPage,e.options.paginationPageSize=t.paginationPageSize)},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var n=e.rows.filter(function(n){return e.options.saveRowIdentity(n.entity)===t.row});return n.length>0?n[0]:null}};return a}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,i,r){t.initializeGrid(r.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){e!==this.isSelected&&(this.isSelected=e,this.grid.selection.selectedCount+=e?1:-1)},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(e,t,n,i){var r={initializeGrid:function(e){e.selection={},e.selection.lastSelectedRow=null,e.selection.selectAll=!1,e.selection.selectedCount=0,r.defaultGridOptions(e.options);var t={events:{selection:{rowSelectionChanged:function(e,t,n){},rowSelectionChangedBatch:function(e,t,n){}}},methods:{selection:{toggleRowSelection:function(t,n){var i=e.getRow(t);null!==i&&r.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},selectRow:function(t,n){var i=e.getRow(t);null===i||i.isSelected||r.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},selectRowByVisibleIndex:function(t,n){var i=e.renderContainers.body.visibleRowCache[t];null===i||void 0===i||i.isSelected||r.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},unSelectRow:function(t,n){var i=e.getRow(t);null!==i&&i.isSelected&&r.toggleRowSelection(e,i,n,e.options.multiSelect,e.options.noUnselect)},selectAllRows:function(t){if(!1!==e.options.multiSelect){var n=[];e.rows.forEach(function(i){i.isSelected||!1===i.enableSelection||(i.setSelected(!0),r.decideRaiseSelectionEvent(e,i,n,t))}),r.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},selectAllVisibleRows:function(t){if(!1!==e.options.multiSelect){var n=[];e.rows.forEach(function(i){i.visible?i.isSelected||!1===i.enableSelection||(i.setSelected(!0),r.decideRaiseSelectionEvent(e,i,n,t)):i.isSelected&&(i.setSelected(!1),r.decideRaiseSelectionEvent(e,i,n,t))}),r.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},clearSelectedRows:function(t){r.clearSelectedRows(e,t)},getSelectedRows:function(){return r.getSelectedRows(e).map(function(e){return e.entity})},getSelectedGridRows:function(){return r.getSelectedRows(e)},getSelectedCount:function(){return e.selection.selectedCount},setMultiSelect:function(t){e.options.multiSelect=t},setModifierKeysToMultiSelect:function(t){e.options.modifierKeysToMultiSelect=t},getSelectAllState:function(){return e.selection.selectAll}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableRowSelection=!1!==e.enableRowSelection,e.multiSelect=!1!==e.multiSelect,e.noUnselect=!0===e.noUnselect,e.modifierKeysToMultiSelect=!0===e.modifierKeysToMultiSelect,e.enableRowHeaderSelection=!1!==e.enableRowHeaderSelection,void 0===e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableSelectAll=!1!==e.enableSelectAll,e.enableSelectionBatchEvent=!1!==e.enableSelectionBatchEvent,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=!1!==e.enableFooterTotalSelected,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(e,t,n,i,o){var a,s=t.isSelected;(!1!==t.enableSelection||s)&&(i||s?!i&&s&&((a=r.getSelectedRows(e)).length>1&&(s=!1,r.clearSelectedRows(e,n))):r.clearSelectedRows(e,n),s&&o||(t.setSelected(!s),!0===t.isSelected&&(e.selection.lastSelectedRow=t),a=r.getSelectedRows(e),e.selection.selectAll=e.rows.length===a.length,e.api.selection.raise.rowSelectionChanged(t,n)))},shiftSelect:function(e,t,n,i){if(i){var o=r.getSelectedRows(e).length>0?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0,a=e.renderContainers.body.visibleRowCache.indexOf(t);if(o>a){var s=o;o=a,a=s}for(var l=[],u=o;a>=u;u++){var c=e.renderContainers.body.visibleRowCache[u];c&&(c.isSelected||!1===c.enableSelection||(c.setSelected(!0),e.selection.lastSelectedRow=c,r.decideRaiseSelectionEvent(e,c,l,n)))}r.decideRaiseSelectionBatchEvent(e,l,n)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(e,t){var n=[];r.getSelectedRows(e).forEach(function(i){i.isSelected&&(i.setSelected(!1),r.decideRaiseSelectionEvent(e,i,n,t))}),r.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!1,e.selection.selectedCount=0},decideRaiseSelectionEvent:function(e,t,n,i){e.options.enableSelectionBatchEvent?n.push(t):e.api.selection.raise.rowSelectionChanged(t,i)},decideRaiseSelectionBatchEvent:function(e,t,n){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,n)}};return r}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,t,n,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,r,o,a){if(t.initializeGrid(a.grid),a.grid.options.enableRowHeaderSelection){var s={name:e.selectionRowHeaderColName,displayName:"",width:a.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};a.grid.addRowHeaderColumn(s,0)}var l=!1,u=function(e){return e.forEach(function(e){e.enableSelection=a.grid.options.isRowSelectable(e)}),e},c=function(){a.grid.options.isRowSelectable!==angular.noop&&!0!==l&&(a.grid.registerRowsProcessor(u,500),l=!0)};c();var d=a.grid.registerDataChangeCallback(c,[i.dataChange.OPTIONS]);n.$on("$destroy",d)},post:function(e,t,n,i){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,t,n){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,i,r,o){var a=o.grid;e.selectButtonClick=function(e,n){n.stopPropagation(),n.shiftKey?t.shiftSelect(a,e,n,a.options.multiSelect):n.ctrlKey||n.metaKey?t.toggleRowSelection(a,e,n,a.options.multiSelect,a.options.noUnselect):t.toggleRowSelection(a,e,n,a.options.multiSelect&&!a.options.modifierKeysToMultiSelect,a.options.noUnselect)},"ie"===n.detectBrowser()&&i.on("mousedown",function(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}),e.$on("$destroy",function(){i.off()})}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e,n,i,r){var o=e.col.grid;e.headerButtonClick=function(e,n){o.selection.selectAll?(t.clearSelectedRows(o,n),o.options.noUnselect&&o.api.selection.selectRowByVisibleIndex(0,n),o.selection.selectAll=!1):o.options.multiSelect&&(o.api.selection.selectAllVisibleRows(n),o.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,t,n,i,r,o){return{priority:-200,scope:!1,compile:function(e,t){var n,i=angular.element(e.children().children()[0]),r=i.attr("ng-class");return n=r?r.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",i.attr("ng-class",n),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,t,n,i,r,o,a){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(e,n,i,r){function s(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&(n.addClass("ui-grid-disable-selection"),n.on("touchstart",c),n.on("touchend",d),n.on("click",u),e.registered=!0)}var l=0;r.grid.api.cellNav&&r.grid.api.cellNav.on.viewPortKeyDown(e,function(t,n){null!==n&&n.row===e.row&&n.col===e.col&&32===t.keyCode&&"selectionRowHeaderCol"===e.col.colDef.name&&(o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply())});var u=function(t){"ui-grid-icon-minus-squared"!==t.target.className&&"ui-grid-icon-plus-squared"!==t.target.className&&(n.off("touchend",d),t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply(),a(function(){n.on("touchend",d)},300))},c=function(e){l=(new Date).getTime(),n.off("click",u)},d=function(e){300>(new Date).getTime()-l&&u(e),a(function(){n.on("click",u)},300)};s();var p=e.grid.registerDataChangeCallback(function(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&!e.registered?s():e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection||!e.registered||e.registered&&(n.removeClass("ui-grid-disable-selection"),n.off("touchstart",c),n.off("touchend",d),n.off("click",u),e.registered=!1)},[t.dataChange.OPTIONS]);n.on("$destroy",p)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(t,i){return{pre:function(t,i,r,o){o.grid.options.showGridFooter&&n.getTemplate("ui-grid/gridFooterSelectedItems").then(function(n){var r=angular.element(n),o=e(r)(t);angular.element(i[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,t,n,i,r,o,a,s){var l={initializeGrid:function(e,t){e.treeBase={},e.treeBase.numberLevels=0,e.treeBase.expandAll=!1,e.treeBase.tree=[],l.defaultGridOptions(e.options),e.registerRowsProcessor(l.treeRows,410),e.registerColumnBuilder(l.treeBaseColumnBuilder),l.createRowHeader(e);var n={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){l.expandAllRows(e)},collapseAllRows:function(){l.collapseAllRows(e)},toggleRowTreeState:function(t){l.toggleRowTreeState(e,t)},expandRow:function(t){l.expandRow(e,t)},expandRowChildren:function(t){l.expandRowChildren(e,t)},collapseRow:function(t){l.collapseRow(e,t)},collapseRowChildren:function(t){l.collapseRowChildren(e,t)},getTreeExpandedState:function(){return{expandedState:l.getTreeState(e)}},setTreeState:function(t){l.setTreeState(e,t)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=e.treeIndent||10,e.showTreeRowHeader=!1!==e.showTreeRowHeader,e.showTreeExpandNoChildren=!1!==e.showTreeExpandNoChildren,e.treeRowHeaderAlwaysVisible=!1!==e.treeRowHeaderAlwaysVisible,e.treeCustomAggregations=e.treeCustomAggregations||{},e.enableExpandAll=!1!==e.enableExpandAll},treeBaseColumnBuilder:function(e,t,n){void 0!==e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),void 0!==e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},void 0!==n.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=n.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=n.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=n.treeCustomAggregations[e.treeAggregationType].label):void 0!==l.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=l.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=l.nativeAggregations()[e.treeAggregationType].label)),void 0!==e.treeAggregationLabel&&(void 0===t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=!1!==e.treeAggregationUpdateEntity,void 0===t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var n={name:t.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};n.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(n,-100)},expandAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.EXPANDED)}),e.treeBase.expandAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.COLLAPSED)}),e.treeBase.expandAll=!1,e.queueGridRefresh()},setAllNodes:function(e,n,i){void 0!==n.state&&n.state!==i&&(n.state=i,i===t.EXPANDED?e.api.treeBase.raise.rowExpanded(n.row):e.api.treeBase.raise.rowCollapsed(n.row)),n.children&&n.children.forEach(function(t){l.setAllNodes(e,t,i)})},toggleRowTreeState:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(n.treeNode.state===t.EXPANDED?l.collapseRow(e,n):l.expandRow(e,n),e.queueGridRefresh())},expandRow:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.EXPANDED&&(n.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(n),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},expandRowChildren:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.EXPANDED),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.COLLAPSED&&(n.treeNode.state=t.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(n),e.queueGridRefresh())},collapseRowChildren:function(e,n){void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){l.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&e.children.length>0){if(e.state===t.COLLAPSED)return!1;var n=!0;return e.children.forEach(function(e){l.allExpandedInternal(e)||(n=!1)}),n}return!0},treeRows:function(e){if(0===e.length)return e;var n=this;return t.EXPANDED,n.treeBase.tree=l.createTree(n,e),l.updateRowHeaderWidth(n),l.sortTree(n),l.fixFilter(n),l.renderTree(n.treeBase.tree)},updateRowHeaderWidth:function(e){var n=e.getColumn(t.rowHeaderColName),i=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);n&&i!==n.width&&(n.width=i,e.queueRefresh());var r=!0;!1===e.options.showTreeRowHeader&&(r=!1),!1===e.options.treeRowHeaderAlwaysVisible&&e.treeBase.numberLevels<=0&&(r=!1),n.visible!==r&&(n.visible=r,n.colDef.visible=r,e.queueGridRefresh())},renderTree:function(e){var n=[];return e.forEach(function(e){e.row.visible&&n.push(e.row),e.state===t.EXPANDED&&e.children&&e.children.length>0&&(n=n.concat(l.renderTree(e.children)))}),n},createTree:function(e,n){var i=-1,r=[];e.treeBase.tree=[],e.treeBase.numberLevels=0;var o=l.getAggregations(e);for(n.forEach(function(n){if(void 0!==n.entity.$$treeLevel&&n.treeLevel!==n.entity.$$treeLevel&&(n.treeLevel=n.entity.$$treeLevel),n.treeLevel<=i){for(;n.treeLevel<=i;){var a=r.pop();l.finaliseAggregations(a),i--}r.length>0?l.setCurrentState(r):t.EXPANDED}(void 0===n.treeLevel||null===n.treeLevel||n.treeLevel<0)&&n.visible&&l.aggregate(e,n,r),l.addOrUseNode(e,n,r,o),void 0!==n.treeLevel&&null!==n.treeLevel&&n.treeLevel>=0&&(r.push(n),i++,l.setCurrentState(r)),e.treeBase.numberLevels<n.treeLevel+1&&(e.treeBase.numberLevels=n.treeLevel+1)});r.length>0;){var a=r.pop();l.finaliseAggregations(a)}return e.treeBase.tree},addOrUseNode:function(e,n,i,r){var o=[];r.forEach(function(e){o.push(l.buildAggregationObject(e.col))});var a={state:t.COLLAPSED,row:n,parentRow:null,aggregations:o,children:[]};n.treeNode&&(a.state=n.treeNode.state),i.length>0&&(a.parentRow=i[i.length-1]),n.treeNode=a,0===i.length?e.treeBase.tree.push(a):i[i.length-1].treeNode.children.push(a)},setCurrentState:function(e){var n=t.EXPANDED;return e.forEach(function(e){e.treeNode.state===t.COLLAPSED&&(n=t.COLLAPSED)}),n},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=l.sortInternal(e,e.treeBase.tree)},sortInternal:function(e,n){var i=n.map(function(e){return e.row}),r=(i=s.sort(e,i,e.columns)).map(function(e){return e.treeNode});return r.forEach(function(n){n.state===t.EXPANDED&&n.children&&n.children.length>0&&(n.children=l.sortInternal(e,n.children))}),r},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&e.children.length>0&&(t=e.row.visible,l.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(l.setParentsVisible(e),t=!0),e.children&&e.children.length>0&&l.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(e){var t=[];return e.columns.forEach(function(n){void 0!==n.treeAggregationFn&&(t.push(l.buildAggregationObject(n)),e.options.showColumnFooter&&void 0===n.colDef.aggregationType&&n.treeAggregation&&(n.treeFooterAggregation=l.buildAggregationObject(n),n.aggregationType=l.treeFooterAggregationType))}),t},aggregate:function(e,t,n){0===n.length&&t.treeNode&&t.treeNode.aggregations&&t.treeNode.aggregations.forEach(function(n){if(void 0!==n.col.treeFooterAggregation){var i=e.getCellValue(t,n.col),r=Number(i);n.col.treeAggregationFn(n.col.treeFooterAggregation,i,r,t)}}),n.forEach(function(n,i){n.treeNode.aggregations&&n.treeNode.aggregations.forEach(function(n){var r=e.getCellValue(t,n.col),o=Number(r);n.col.treeAggregationFn(n,r,o,t),0===i&&void 0!==n.col.treeFooterAggregation&&n.col.treeAggregationFn(n.col.treeFooterAggregation,r,o,t)})})},nativeAggregations:function(){return{count:{label:o.get().aggregation.count,menuTitle:o.get().grouping.aggregate_count,aggregationFn:function(e,t,n){void 0===e.value?e.value=1:e.value++}},sum:{label:o.get().aggregation.sum,menuTitle:o.get().grouping.aggregate_sum,aggregationFn:function(e,t,n){isNaN(n)||(void 0===e.value?e.value=n:e.value+=n)}},min:{label:o.get().aggregation.min,menuTitle:o.get().grouping.aggregate_min,aggregationFn:function(e,t,n){void 0===e.value?e.value=t:void 0!==t&&null!==t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:o.get().aggregation.max,menuTitle:o.get().grouping.aggregate_max,aggregationFn:function(e,t,n){void 0===e.value?e.value=t:void 0!==t&&null!==t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:o.get().aggregation.avg,menuTitle:o.get().grouping.aggregate_avg,aggregationFn:function(e,t,n){void 0===e.count?e.count=1:e.count++,isNaN(n)||(void 0===e.value||void 0===e.sum?(e.value=n,e.sum=n):(e.sum+=n,e.value=e.sum/e.count))}}}},finaliseAggregation:function(e,t){t.col.treeAggregationUpdateEntity&&void 0!==e&&void 0!==e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),void 0===t.rendered&&(t.rendered=t.label?t.label+t.value:t.value)},finaliseAggregations:function(e){null!=e&&void 0!==e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(t){if(l.finaliseAggregation(e,t),t.col.treeAggregationUpdateEntity){var n={};angular.forEach(t,function(e,i){t.hasOwnProperty(i)&&"col"!==i&&(n[i]=e)}),e.entity["$$"+t.col.uid]=n}})},treeFooterAggregationType:function(e,t){return l.finaliseAggregation(void 0,t.treeFooterAggregation),void 0===t.treeFooterAggregation.value||null===t.treeFooterAggregation.rendered?"":t.treeFooterAggregation.rendered}};return l}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,i,r){var o=r.grid;e.treeButtonClick=function(e,n){t.toggleRowTreeState(o,e,n)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e,n,i,r){var o=e.col.grid;e.headerButtonClick=function(e,n){o.treeBase.expandAll?t.collapseAllRows(o,n):t.expandAllRows(o,n)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,i){return{priority:-200,scope:!1,compile:function(e,t){var n,i=angular.element(e.children().children()[0]),r=i.attr("ng-class");return n=r?r.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",i.attr("ng-class",n),{pre:function(e,t,n,i){},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,n,i,r,o,a,s,l){var u={initializeGrid:function(e,t){i.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(u.adjustSorting,60);var n={treeView:{}},r={treeView:{}};e.api.registerEventsFromObject(n),e.api.registerMethodsFromObject(r)},defaultGridOptions:function(e){e.enableTreeView=!1!==e.enableTreeView},adjustSorting:function(e){return this.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return u}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){!1!==r.grid.options.enableTreeView&&t.initializeGrid(r.grid,e)},post:function(e,t,n,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.validate",["ui.grid"]);e.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(e,t,n,i,r){var o={validatorFactories:{},setExternalFactoryFunction:function(e){o.externalFactoryFunction=e},clearExternalFactory:function(){delete o.externalFactoryFunction},getValidatorFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).validatorFactory(t)},getMessageFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).messageFunction(t)},setValidator:function(e,t,n){o.validatorFactories[e]={validatorFactory:t,messageFunction:n}},getValidator:function(e,t){if(o.externalFactoryFunction){var n=o.getValidatorFromExternalFactory(e,t);if(n)return n}if(!o.validatorFactories[e])throw"Invalid validator name: "+e;return o.validatorFactories[e].validatorFactory(t)},getMessage:function(e,t){if(o.externalFactoryFunction){var n=o.getMessageFromExternalFactory(e,t);if(n)return n}return o.validatorFactories[e].messageFunction(t)},isInvalid:function(e,t){return e["$$invalid"+t.name]},setInvalid:function(e,t){e["$$invalid"+t.name]=!0},setValid:function(e,t){delete e["$$invalid"+t.name]},setError:function(e,t,n){e["$$errors"+t.name]||(e["$$errors"+t.name]={}),e["$$errors"+t.name][n]=!0},clearError:function(e,t,n){e["$$errors"+t.name]&&n in e["$$errors"+t.name]&&delete e["$$errors"+t.name][n]},getErrorMessages:function(e,t){var n=[];return e["$$errors"+t.name]&&0!==Object.keys(e["$$errors"+t.name]).length?(Object.keys(e["$$errors"+t.name]).sort().forEach(function(e){n.push(o.getMessage(e,t.validators[e]))}),n):n},getFormattedErrors:function(t,n){var r="",a=o.getErrorMessages(t,n);return a.length?(a.forEach(function(e){r+=e+"<br/>"}),e.trustAsHtml("<p><b>"+i.getSafeText("validate.error")+"</b></p>"+r)):void 0},getTitleFormattedErrors:function(t,n){var r="",a=o.getErrorMessages(t,n);return a.length?(a.forEach(function(e){r+=e+"\n"}),e.trustAsHtml(i.getSafeText("validate.error")+"\n"+r)):void 0},runValidators:function(e,n,i,r,a){if(i!==r){if(void 0===n.name||!n.name)throw new Error("colDef.name is required to perform validation");o.setValid(e,n);var s=function(e,t,n){return function(s){s||(o.setInvalid(e,t),o.setError(e,t,n),a&&a.api.validate.raise.validationFailed(e,t,i,r))}},l=[];for(var u in n.validators){o.clearError(e,n,u);var c=o.getValidator(u,n.validators[u]),d=t.when(c(r,i,e,n)).then(s(e,n,u));l.push(d)}return t.all(l)}},createDefaultValidators:function(){o.setValidator("minLength",function(e){return function(t,n,i,r){return void 0===n||null===n||""===n||n.length>=e}},function(e){return i.getSafeText("validate.minLength").replace("THRESHOLD",e)}),o.setValidator("maxLength",function(e){return function(t,n,i,r){return void 0===n||null===n||""===n||n.length<=e}},function(e){return i.getSafeText("validate.maxLength").replace("THRESHOLD",e)}),o.setValidator("required",function(e){return function(t,n,i,r){return!e||!(void 0===n||null===n||""===n)}},function(e){return i.getSafeText("validate.required")})},initializeGrid:function(e,t){t.validate={isInvalid:o.isInvalid,getFormattedErrors:o.getFormattedErrors,getTitleFormattedErrors:o.getTitleFormattedErrors,runValidators:o.runValidators};var n={events:{validate:{validationFailed:function(e,t,n,i){}}},methods:{validate:{isInvalid:function(e,n){return t.validate.isInvalid(e,n)},getErrorMessages:function(e,n){return t.validate.getErrorMessages(e,n)},getFormattedErrors:function(e,n){return t.validate.getFormattedErrors(e,n)},getTitleFormattedErrors:function(e,n){return t.validate.getTitleFormattedErrors(e,n)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.edit&&t.api.edit.on.afterCellEdit(e,function(e,n,i,r){t.validate.runValidators(e,n,i,r,t)}),o.createDefaultValidators()}};return o}]),e.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(e,t){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,i,r){t.initializeGrid(e,r.grid)},post:function(e,t,n,i){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-style="col.extraStyle" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-show="colFilter.selectOptions.length > 0" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row">\x3c!-- tfooter --\x3e<div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header">\x3c!-- theader --\x3e<div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>"),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid">\x3c!-- TODO (c0bra): add "scoped" attr here, eventually? --\x3e<style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems">\x3c!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --\x3e</div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp;</i> {{ name }}</button>'),e.put("ui-grid/uiGridRenderContainer","<div role=\"grid\" ui-grid-one-bind-id-grid=\"'grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\">\x3c!-- All of these dom elements are replaced in place --\x3e<div ui-grid-header></div><div ui-grid-viewport></div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height:colContainer.grid.scrollbarHeight + 'px'}\"></div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></ui-grid-footer></div>"),e.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()">\x3c!-- tbody --\x3e<div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/emptyBaseLayerContainer",'<div class="ui-grid-empty-base-layer-container ui-grid-canvas"><div class="ui-grid-row" ng-repeat="(rowRenderIndex, row) in grid.baseLayer.emptyRows track by $index" ng-style="Viewport.rowStyle(rowRenderIndex)"><div><div><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell {{ col.getColClass(false) }}"></div></div></div></div></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-if="!row.groupHeader==true" ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( row.expandedRowHeight/2 - 5) + 'px', 'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px'}\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div role="contentinfo" class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div role="menubar" class="ui-grid-pager-control"><button type="button" role="menuitem" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle\' : \'first-triangle\'"><div ng-class="grid.isRTL() ? \'last-bar-rtl\' : \'first-bar\'"></div></div></button> <button type="button" role="menuitem" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle prev-triangle\' : \'first-triangle prev-triangle\'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/</abbr> {{ paginationApi.getTotalPages() }}</span> <button type="button" role="menuitem" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? \'first-triangle next-triangle\' : \'last-triangle next-triangle\'"></div></button> <button type="button" role="menuitem" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? \'first-triangle\' : \'last-triangle\'"><div ng-class="grid.isRTL() ? \'first-bar-rtl\' : \'last-bar\'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1 && !grid.options.useCustomPagination"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{ 1 + paginationApi.getFirstRowIndex() }} <abbr ui-grid-one-bind-title="paginationThrough">-</abbr> {{ 1 + paginationApi.getLastRowIndex() }} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div>\x3c!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --\x3e<div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>"),e.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}]),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e,t){for(var n in t)r(t,n)&&(e[n]=t[n]);return r(t,"toString")&&(e.toString=t.toString),r(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,n,i){return Fe(e,t,n,i,!0).utc()}function s(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),e._pf}function l(e){if(null==e._isValid){var t=s(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function u(e){var t=a(NaN);return null!=e?o(s(t),e):s(t).userInvalidated=!0,t}var c=t.momentProperties=[];function d(e,t){var n,i,r;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=s(t)),void 0!==t._locale&&(e._locale=t._locale),c.length>0)for(n in c)void 0!==(r=t[i=c[n]])&&(e[i]=r);return e}var p=!1;function h(e){d(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===p&&(p=!0,t.updateOffset(this),p=!1)}function f(e){return e instanceof h||null!=e&&null!=e._isAMomentObject}function g(e){return e<0?Math.ceil(e):Math.floor(e)}function m(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function v(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&m(e[i])!==m(t[i]))&&a++;return a+o}function y(){}var b,w={};function $(e){return e?e.toLowerCase().replace("_","-"):e}function C(e){var t=null;if(!w[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=b._abbr,require("./locale/"+e),S(t)}catch(e){}return w[e]}function S(e,t){var n;return e&&(n=void 0===t?E(e):x(e,t))&&(b=n),b._abbr}function x(e,t){return null!==t?(t.abbr=e,w[e]=w[e]||new y,w[e].set(t),S(e),w[e]):(delete w[e],null)}function E(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return b;if(!n(e)){if(t=C(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=$(e[o]).split("-")).length,n=(n=$(e[o+1]))?n.split("-"):null;t>0;){if(i=C(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&v(r,n,!0)>=t-1)break;t--}o++}return null}(e)}var k={};function D(e,t){var n=e.toLowerCase();k[n]=k[n+"s"]=k[t]=e}function _(e){return"string"==typeof e?k[e]||k[e.toLowerCase()]:void 0}function M(e){var t,n,i={};for(n in e)r(e,n)&&(t=_(n))&&(i[t]=e[n]);return i}function T(e,n){return function(i){return null!=i?(A(this,e,i),t.updateOffset(this,n),this):O(this,e)}}function O(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function A(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function P(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if("function"==typeof this[e=_(e)])return this[e](t);return this}function I(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var R=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N={},F={};function G(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(F[e]=r),t&&(F[t[0]]=function(){return I(r.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function V(e,t){return e.isValid()?(t=H(t,e.localeData()),N[t]=N[t]||function(e){var t,n,i,r=e.match(R);for(t=0,n=r.length;t<n;t++)F[r[t]]?r[t]=F[r[t]]:r[t]=(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(i){var o="";for(t=0;t<n;t++)o+=r[t]instanceof Function?r[t].call(i,e):r[t];return o}}(t),N[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(L.lastIndex=0;n>=0&&L.test(e);)e=e.replace(L,i),L.lastIndex=0,n-=1;return e}var j=/\d/,z=/\d\d/,U=/\d{3}/,W=/\d{4}/,B=/[+-]?\d{6}/,q=/\d\d?/,Y=/\d{1,3}/,K=/\d{1,4}/,Z=/[+-]?\d{1,6}/,X=/\d+/,J=/[+-]?\d+/,Q=/Z|[+-]\d\d:?\d\d/gi,ee=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,te={};function ne(e,t,n){var i;te[e]="function"==typeof(i=t)&&"[object Function]"===Object.prototype.toString.call(i)?t:function(e){return e&&n?n:t}}function ie(e,t){return r(te,e)?te[e](t._strict,t._locale):new RegExp(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))}var re={};function oe(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=m(e)}),n=0;n<e.length;n++)re[e[n]]=i}function ae(e,t){oe(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function se(e,t,n){null!=t&&r(re,e)&&re[e](t,n._a,n,e)}var le=0,ue=1,ce=2,de=3,pe=4,he=5,fe=6;function ge(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),G("MMMM",0,0,function(e){return this.localeData().months(this,e)}),D("month","M"),ne("M",q),ne("MM",q,z),ne("MMM",ee),ne("MMMM",ee),oe(["M","MM"],function(e,t){t[ue]=m(e)-1}),oe(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ue]=r:s(n).invalidMonth=e});var me="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var ve="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ye(e,t){var n;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))?e:(n=Math.min(e.date(),ge(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function be(e){return null!=e?(ye(this,e),t.updateOffset(this,!0),this):O(this,"Month")}function we(e){var t,n=e._a;return n&&-2===s(e).overflow&&(t=n[ue]<0||n[ue]>11?ue:n[ce]<1||n[ce]>ge(n[le],n[ue])?ce:n[de]<0||n[de]>24||24===n[de]&&(0!==n[pe]||0!==n[he]||0!==n[fe])?de:n[pe]<0||n[pe]>59?pe:n[he]<0||n[he]>59?he:n[fe]<0||n[fe]>999?fe:-1,s(e)._overflowDayOfYear&&(t<le||t>ce)&&(t=ce),s(e).overflow=t),e}function $e(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Ce(e,t){var n=!0;return o(function(){return n&&($e(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}var Se={};t.suppressDeprecationWarnings=!1;var xe=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ee=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ke=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],De=/^\/?Date\((\-?\d+)/i;function _e(e){var t,n,i=e._i,r=xe.exec(i);if(r){for(s(e).iso=!0,t=0,n=Ee.length;t<n;t++)if(Ee[t][1].exec(i)){e._f=Ee[t][0];break}for(t=0,n=ke.length;t<n;t++)if(ke[t][1].exec(i)){e._f+=(r[6]||" ")+ke[t][0];break}i.match(Q)&&(e._f+="Z"),Le(e)}else e._isValid=!1}function Me(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function Te(e){return Oe(e)?366:365}function Oe(e){return e%4==0&&e%100!=0||e%400==0}t.createFromInputFallback=Ce("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),D("year","y"),ne("Y",J),ne("YY",q,z),ne("YYYY",K,W),ne("YYYYY",Z,B),ne("YYYYYY",Z,B),oe(["YYYYY","YYYYYY"],le),oe("YYYY",function(e,n){n[le]=2===e.length?t.parseTwoDigitYear(e):m(e)}),oe("YY",function(e,n){n[le]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(e){return m(e)+(m(e)>68?1900:2e3)};var Ae=T("FullYear",!1);function Pe(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),o<r-7&&(o+=7),i=Ge(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),ne("w",q),ne("ww",q,z),ne("W",q),ne("WW",q,z),ae(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=m(e)});function Ie(e,t,n){return null!=e?e:null!=t?t:n}function Re(e){var t,n,i,r,o=[];if(!e._d){for(i=function(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ce]&&null==e._a[ue]&&function(e){var t,n,i,r,o,a,s;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=Ie(t.GG,e._a[le],Pe(Ge(),1,4).year),i=Ie(t.W,1),r=Ie(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=Ie(t.gg,e._a[le],Pe(Ge(),o,a).year),i=Ie(t.w,1),null!=t.d?(r=t.d)<o&&++i:r=null!=t.e?t.e+o:o);s=function(e,t,n,i,r){var o,a=6+r-i,s=Me(e,0,1+a).getUTCDay();return s<r&&(s+=7),{year:(o=1+a+7*(t-1)-s+(n=null!=n?1*n:r))>0?e:e-1,dayOfYear:o>0?o:Te(e-1)+o}}(n,i,r,a,o),e._a[le]=s.year,e._dayOfYear=s.dayOfYear}(e),e._dayOfYear&&(r=Ie(e._a[le],i[le]),e._dayOfYear>Te(r)&&(s(e)._overflowDayOfYear=!0),n=Me(r,0,e._dayOfYear),e._a[ue]=n.getUTCMonth(),e._a[ce]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[de]&&0===e._a[pe]&&0===e._a[he]&&0===e._a[fe]&&(e._nextDay=!0,e._a[de]=0),e._d=(e._useUTC?Me:function(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return e<1970&&s.setFullYear(e),s}).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[de]=24)}}function Le(e){if(e._f!==t.ISO_8601){e._a=[],s(e).empty=!0;var n,i,r,o,a,l=""+e._i,u=l.length,c=0;for(r=H(e._f,e._locale).match(R)||[],n=0;n<r.length;n++)o=r[n],(i=(l.match(ie(o,e))||[])[0])&&((a=l.substr(0,l.indexOf(i))).length>0&&s(e).unusedInput.push(a),l=l.slice(l.indexOf(i)+i.length),c+=i.length),F[o]?(i?s(e).empty=!1:s(e).unusedTokens.push(o),se(o,i,e)):e._strict&&!i&&s(e).unusedTokens.push(o);s(e).charsLeftOver=u-c,l.length>0&&s(e).unusedInput.push(l),!0===s(e).bigHour&&e._a[de]<=12&&e._a[de]>0&&(s(e).bigHour=void 0),e._a[de]=function(e,t,n){var i;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[de],e._meridiem),Re(e),we(e)}else _e(e)}function Ne(e){var r=e._i,a=e._f;return e._locale=e._locale||E(e._l),null===r||void 0===a&&""===r?u({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),f(r)?new h(we(r)):(n(a)?function(e){var t,n,i,r,a;if(0===e._f.length)return s(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)a=0,t=d({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Le(t),l(t)&&(a+=s(t).charsLeftOver,a+=10*s(t).unusedTokens.length,s(t).score=a,(null==i||a<i)&&(i=a,n=t));o(e,n||t)}(e):a?Le(e):i(r)?e._d=r:function(e){var r=e._i;void 0===r?e._d=new Date:i(r)?e._d=new Date(+r):"string"==typeof r?function(e){var n=De.exec(e._i);null===n?(_e(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e))):e._d=new Date(+n[1])}(e):n(r)?(e._a=function(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}(r.slice(0),function(e){return parseInt(e,10)}),Re(e)):"object"==typeof r?function(e){if(!e._d){var t=M(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],Re(e)}}(e):"number"==typeof r?e._d=new Date(r):t.createFromInputFallback(e)}(e),e))}function Fe(e,t,n,i,r){var o,a={};return"boolean"==typeof n&&(i=n,n=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,(o=new h(we(Ne(a))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Ge(e,t,n,i){return Fe(e,t,n,i,!1)}G("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),ne("DDD",Y),ne("DDDD",U),oe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=m(e)}),t.ISO_8601=function(){};var Ve=Ce("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ge.apply(null,arguments);return e<this?this:e}),He=Ce("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ge.apply(null,arguments);return e>this?this:e});function je(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ge();for(i=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](i)||(i=t[r]);return i}function ze(e){var t=M(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=E(),this._bubble()}function Ue(e){return e instanceof ze}function We(e,t){G(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}We("Z",":"),We("ZZ",""),ne("Z",Q),ne("ZZ",Q),oe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=qe(e)});var Be=/([\+\-]|\d\d)/gi;function qe(e){var t=(e||"").match(Q)||[],n=((t[t.length-1]||[])+"").match(Be)||["-",0,0],i=60*n[1]+m(n[2]);return"+"===n[0]?i:-i}function Ye(e,n){var r,o;return n._isUTC?(r=n.clone(),o=(f(e)||i(e)?+e:+Ge(e))-+r,r._d.setTime(+r._d+o),t.updateOffset(r,!1),r):Ge(e).local()}function Ke(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ze(){return this._isUTC&&0===this._offset}t.updateOffset=function(){};var Xe=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Je=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function Qe(e,t){var n,i,o,a=e,s=null;return Ue(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(s=Xe.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:m(s[ce])*n,h:m(s[de])*n,m:m(s[pe])*n,s:m(s[he])*n,ms:m(s[fe])*n}):(s=Je.exec(e))?(n="-"===s[1]?-1:1,a={y:et(s[2],n),M:et(s[3],n),d:et(s[4],n),h:et(s[5],n),m:et(s[6],n),s:et(s[7],n),w:et(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=function(e,t){var n;t=Ye(t,e),e.isBefore(t)?n=tt(e,t):((n=tt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Ge(a.from),Ge(a.to)),(a={}).ms=o.milliseconds,a.M=o.months),i=new ze(a),Ue(e)&&r(e,"_locale")&&(i._locale=e._locale),i}function et(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(!function(e,t){Se[e]||($e(t),Se[e]=!0)}(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=i,i=r),it(this,Qe(n="string"==typeof n?+n:n,i),e),this}}function it(e,n,i,r){var o=n._milliseconds,a=n._days,s=n._months;r=null==r||r,o&&e._d.setTime(+e._d+o*i),a&&A(e,"Date",O(e,"Date")+a*i),s&&ye(e,O(e,"Month")+s*i),r&&t.updateOffset(e,a||s)}Qe.fn=ze.prototype;var rt=nt(1,"add"),ot=nt(-1,"subtract");function at(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():V(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):V(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function st(e){var t;return void 0===e?this._locale._abbr:(null!=(t=E(e))&&(this._locale=t),this)}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var lt=Ce("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function ut(){return this._locale}function ct(e,t){G(0,[e,e.length],0,t)}function dt(e,t,n){return Pe(Ge([e,11,31+t-n]),t,n).week}G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ct("gggg","weekYear"),ct("ggggg","weekYear"),ct("GGGG","isoWeekYear"),ct("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),ne("G",J),ne("g",J),ne("GG",q,z),ne("gg",q,z),ne("GGGG",K,W),ne("gggg",K,W),ne("GGGGG",Z,B),ne("ggggg",Z,B),ae(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=m(e)}),ae(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),G("Q",0,0,"quarter"),D("quarter","Q"),ne("Q",j),oe("Q",function(e,t){t[ue]=3*(m(e)-1)}),G("D",["DD",2],"Do","date"),D("date","D"),ne("D",q),ne("DD",q,z),ne("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),oe(["D","DD"],ce),oe("Do",function(e,t){t[ce]=m(e.match(q)[0])});var pt=T("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),G("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),G("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),ne("d",q),ne("e",q),ne("E",q),ne("dd",ee),ne("ddd",ee),ne("dddd",ee),ae(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:s(n).invalidWeekday=e}),ae(["d","e","E"],function(e,t,n,i){t[i]=m(e)});var ht="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var ft="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var gt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function mt(e,t){G(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function vt(e,t){return t._meridiemParse}G("H",["HH",2],0,"hour"),G("h",["hh",2],0,function(){return this.hours()%12||12}),mt("a",!0),mt("A",!1),D("hour","h"),ne("a",vt),ne("A",vt),ne("H",q),ne("h",q),ne("HH",q,z),ne("hh",q,z),oe(["H","HH"],de),oe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),oe(["h","hh"],function(e,t,n){t[de]=m(e),s(n).bigHour=!0});var yt=T("Hours",!0);G("m",["mm",2],0,"minute"),D("minute","m"),ne("m",q),ne("mm",q,z),oe(["m","mm"],pe);var bt=T("Minutes",!1);G("s",["ss",2],0,"second"),D("second","s"),ne("s",q),ne("ss",q,z),oe(["s","ss"],he);var wt,$t=T("Seconds",!1);for(G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),ne("S",Y,j),ne("SS",Y,z),ne("SSS",Y,U),wt="SSSS";wt.length<=9;wt+="S")ne(wt,X);function Ct(e,t){t[fe]=m(1e3*("0."+e))}for(wt="S";wt.length<=9;wt+="S")oe(wt,Ct);var St=T("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var xt=h.prototype;xt.add=rt,xt.calendar=function(e,t){var n=e||Ge(),i=Ye(n,this).startOf("day"),r=this.diff(i,"days",!0),o=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(t&&t[o]||this.localeData().calendar(o,this,Ge(n)))},xt.clone=function(){return new h(this)},xt.diff=function(e,t,n){var i,r,o=Ye(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return"year"===(t=_(t))||"month"===t||"quarter"===t?(s=this,l=o,d=12*(l.year()-s.year())+(l.month()-s.month()),p=s.clone().add(d,"months"),l-p<0?(u=s.clone().add(d-1,"months"),c=(l-p)/(p-u)):(u=s.clone().add(d+1,"months"),c=(l-p)/(u-p)),r=-(d+c),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:g(r);var s,l,u,c,d,p},xt.endOf=function(e){return void 0===(e=_(e))||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},xt.format=function(e){var n=V(this,e||t.defaultFormat);return this.localeData().postformat(n)},xt.from=function(e,t){return this.isValid()?Qe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},xt.fromNow=function(e){return this.from(Ge(),e)},xt.to=function(e,t){return this.isValid()?Qe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},xt.toNow=function(e){return this.to(Ge(),e)},xt.get=P,xt.invalidAt=function(){return s(this).overflow},xt.isAfter=function(e,t){return"millisecond"===(t=_(void 0!==t?t:"millisecond"))?+this>+(e=f(e)?e:Ge(e)):(f(e)?+e:+Ge(e))<+this.clone().startOf(t)},xt.isBefore=function(e,t){var n;return"millisecond"===(t=_(void 0!==t?t:"millisecond"))?+this<+(e=f(e)?e:Ge(e)):(n=f(e)?+e:+Ge(e),+this.clone().endOf(t)<n)},xt.isBetween=function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},xt.isSame=function(e,t){var n;return"millisecond"===(t=_(t||"millisecond"))?+this==+(e=f(e)?e:Ge(e)):(n=+Ge(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},xt.isValid=function(){return l(this)},xt.lang=lt,xt.locale=st,xt.localeData=ut,xt.max=He,xt.min=Ve,xt.parsingFlags=function(){return o({},s(this))},xt.set=P,xt.startOf=function(e){switch(e=_(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},xt.subtract=ot,xt.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},xt.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},xt.toDate=function(){return this._offset?new Date(+this):this._d},xt.toISOString=at,xt.toJSON=at,xt.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},xt.unix=function(){return Math.floor(+this/1e3)},xt.valueOf=function(){return+this._d-6e4*(this._offset||0)},xt.year=Ae,xt.isLeapYear=function(){return Oe(this.year())},xt.weekYear=function(e){var t=Pe(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},xt.isoWeekYear=function(e){var t=Pe(this,1,4).year;return null==e?t:this.add(e-t,"y")},xt.quarter=xt.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},xt.month=be,xt.daysInMonth=function(){return ge(this.year(),this.month())},xt.week=xt.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},xt.isoWeek=xt.isoWeeks=function(e){var t=Pe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},xt.weeksInYear=function(){var e=this.localeData()._week;return dt(this.year(),e.dow,e.doy)},xt.isoWeeksInYear=function(){return dt(this.year(),1,4)},xt.date=pt,xt.day=xt.days=function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},xt.weekday=function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},xt.isoWeekday=function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},xt.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},xt.hour=xt.hours=yt,xt.minute=xt.minutes=bt,xt.second=xt.seconds=$t,xt.millisecond=xt.milliseconds=St,xt.utcOffset=function(e,n){var i,r=this._offset||0;return null!=e?("string"==typeof e&&(e=qe(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&n&&(i=Ke(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?it(this,Qe(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Ke(this)},xt.utc=function(e){return this.utcOffset(0,e)},xt.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ke(this),"m")),this},xt.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(qe(this._i)),this},xt.hasAlignedHourOffset=function(e){return e=e?Ge(e).utcOffset():0,(this.utcOffset()-e)%60==0},xt.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},xt.isDSTShifted=function(){if(void 0!==this._isDSTShifted)return this._isDSTShifted;var e={};if(d(e,this),(e=Ne(e))._a){var t=e._isUTC?a(e._a):Ge(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted},xt.isLocal=function(){return!this._isUTC},xt.isUtcOffset=function(){return this._isUTC},xt.isUtc=Ze,xt.isUTC=Ze,xt.zoneAbbr=function(){return this._isUTC?"UTC":""},xt.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},xt.dates=Ce("dates accessor is deprecated. Use date instead.",pt),xt.months=Ce("months accessor is deprecated. Use month instead",be),xt.years=Ce("years accessor is deprecated. Use year instead",Ae),xt.zone=Ce("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()});var Et=xt;function kt(e){return e}var Dt=y.prototype;function _t(e,t,n,i){var r=E(),o=a().set(i,t);return r[n](o,e)}function Mt(e,t,n,i,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return _t(e,t,n,r);var o,a=[];for(o=0;o<i;o++)a[o]=_t(e,o,n,r);return a}Dt._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Dt.calendar=function(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i},Dt._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Dt.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},Dt._invalidDate="Invalid date",Dt.invalidDate=function(){return this._invalidDate},Dt._ordinal="%d",Dt.ordinal=function(e){return this._ordinal.replace("%d",e)},Dt._ordinalParse=/\d{1,2}/,Dt.preparse=kt,Dt.postformat=kt,Dt._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Dt.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},Dt.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},Dt.set=function(e){var t,n;for(n in e)"function"==typeof(t=e[n])?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},Dt.months=function(e){return this._months[e.month()]},Dt._months=me,Dt.monthsShort=function(e){return this._monthsShort[e.month()]},Dt._monthsShort=ve,Dt.monthsParse=function(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},Dt.week=function(e){return Pe(e,this._week.dow,this._week.doy).week},Dt._week={dow:0,doy:6},Dt.firstDayOfYear=function(){return this._week.doy},Dt.firstDayOfWeek=function(){return this._week.dow},Dt.weekdays=function(e){return this._weekdays[e.day()]},Dt._weekdays=ht,Dt.weekdaysMin=function(e){return this._weekdaysMin[e.day()]},Dt._weekdaysMin=gt,Dt.weekdaysShort=function(e){return this._weekdaysShort[e.day()]},Dt._weekdaysShort=ft,Dt.weekdaysParse=function(e){var t,n,i;for(this._weekdaysParse=this._weekdaysParse||[],t=0;t<7;t++)if(this._weekdaysParse[t]||(n=Ge([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},Dt.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Dt._meridiemParse=/[ap]\.?m?\.?/i,Dt.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},S("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===m(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=Ce("moment.lang is deprecated. Use moment.locale instead.",S),t.langData=Ce("moment.langData is deprecated. Use moment.localeData instead.",E);var Tt=Math.abs;function Ot(e,t,n,i){var r=Qe(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function At(e){return e<0?Math.floor(e):Math.ceil(e)}function Pt(e){return 4800*e/146097}function It(e){return 146097*e/4800}function Rt(e){return function(){return this.as(e)}}var Lt=Rt("ms"),Nt=Rt("s"),Ft=Rt("m"),Gt=Rt("h"),Vt=Rt("d"),Ht=Rt("w"),jt=Rt("M"),zt=Rt("y");function Ut(e){return function(){return this._data[e]}}var Wt=Ut("milliseconds"),Bt=Ut("seconds"),qt=Ut("minutes"),Yt=Ut("hours"),Kt=Ut("days"),Zt=Ut("months"),Xt=Ut("years");var Jt=Math.round,Qt={s:45,m:45,h:22,d:26,M:11};var en=Math.abs;function tn(){var e,t,n=en(this._milliseconds)/1e3,i=en(this._days),r=en(this._months);t=g((e=g(n/60))/60),n%=60,e%=60;var o=g(r/12),a=r%=12,s=i,l=t,u=e,c=n,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(s?s+"D":"")+(l||u||c?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(c?c+"S":""):"P0D"}var nn=ze.prototype;return nn.abs=function(){var e=this._data;return this._milliseconds=Tt(this._milliseconds),this._days=Tt(this._days),this._months=Tt(this._months),e.milliseconds=Tt(e.milliseconds),e.seconds=Tt(e.seconds),e.minutes=Tt(e.minutes),e.hours=Tt(e.hours),e.months=Tt(e.months),e.years=Tt(e.years),this},nn.add=function(e,t){return Ot(this,e,t,1)},nn.subtract=function(e,t){return Ot(this,e,t,-1)},nn.as=function(e){var t,n,i=this._milliseconds;if("month"===(e=_(e))||"year"===e)return t=this._days+i/864e5,n=this._months+Pt(t),"month"===e?n:n/12;switch(t=this._days+Math.round(It(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},nn.asMilliseconds=Lt,nn.asSeconds=Nt,nn.asMinutes=Ft,nn.asHours=Gt,nn.asDays=Vt,nn.asWeeks=Ht,nn.asMonths=jt,nn.asYears=zt,nn.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)},nn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*At(It(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=g(o/1e3),l.seconds=e%60,t=g(e/60),l.minutes=t%60,n=g(t/60),l.hours=n%24,s+=r=g(Pt(a+=g(n/24))),a-=At(It(r)),i=g(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},nn.get=function(e){return this[(e=_(e))+"s"]()},nn.milliseconds=Wt,nn.seconds=Bt,nn.minutes=qt,nn.hours=Yt,nn.days=Kt,nn.weeks=function(){return g(this.days()/7)},nn.months=Zt,nn.years=Xt,nn.humanize=function(e){var t=this.localeData(),n=function(e,t,n){var i=Qe(e).abs(),r=Jt(i.as("s")),o=Jt(i.as("m")),a=Jt(i.as("h")),s=Jt(i.as("d")),l=Jt(i.as("M")),u=Jt(i.as("y")),c=r<Qt.s&&["s",r]||1===o&&["m"]||o<Qt.m&&["mm",o]||1===a&&["h"]||a<Qt.h&&["hh",a]||1===s&&["d"]||s<Qt.d&&["dd",s]||1===l&&["M"]||l<Qt.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},nn.toISOString=tn,nn.toString=tn,nn.toJSON=tn,nn.locale=st,nn.localeData=ut,nn.toIsoString=Ce("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",tn),nn.lang=lt,G("X",0,0,"unix"),G("x",0,0,"valueOf"),ne("x",J),ne("X",/[+-]?\d+(\.\d{1,3})?/),oe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),oe("x",function(e,t,n){n._d=new Date(m(e))}),t.version="2.10.6",e=Ge,t.fn=Et,t.min=function(){return je("isBefore",[].slice.call(arguments,0))},t.max=function(){return je("isAfter",[].slice.call(arguments,0))},t.utc=a,t.unix=function(e){return Ge(1e3*e)},t.months=function(e,t){return Mt(e,t,"months",12,"month")},t.isDate=i,t.locale=S,t.invalid=u,t.duration=Qe,t.isMoment=f,t.weekdays=function(e,t){return Mt(e,t,"weekdays",7,"day")},t.parseZone=function(){return Ge.apply(null,arguments).parseZone()},t.localeData=E,t.isDuration=Ue,t.monthsShort=function(e,t){return Mt(e,t,"monthsShort",12,"month")},t.weekdaysMin=function(e,t){return Mt(e,t,"weekdaysMin",7,"day")},t.defineLocale=x,t.weekdaysShort=function(e,t){return Mt(e,t,"weekdaysShort",7,"day")},t.normalizeUnits=_,t.relativeTimeThreshold=function(e,t){return void 0!==Qt[e]&&(void 0===t?Qt[e]:(Qt[e]=t,!0))},t}),function(){"use strict";function e(e,t,n){return{link:function(e,i,r,o){var a=e.$eval(r.niceOption),s=$(i).niceScroll(a),l=$(i).getNiceScroll();r.niceScrollObject&&t(r.niceScrollObject).assign(e,l);s.onscrollend=function(t){this.newscrolly>=this.page.maxh&&r.niceScrollEnd&&e.$evalAsync(r.niceScrollEnd),t.end.y<=0&&r.niceScrollTopEnd&&e.$evalAsync(r.niceScrollTopEnd)},e.$on("$destroy",function(){angular.isDefined(s.version)&&s.remove()}),e.$on("resizeNiceScroll",function(e,t){var r=t.delay||300;n(function(){$(i).getNiceScroll().resize()},r)})}}}angular.module("angular-nicescroll",[]).directive("ngNicescroll",e),e.$inject=["$rootScope","$parse","$timeout"]}(),function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){var n=e.fullCalendar={version:"2.8.0",internalApiVersion:4},i=n.views={};e.fn.fullCalendar=function(t){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,o){var a,s=e(o),l=s.data("fullCalendar");"string"==typeof t?l&&e.isFunction(l[t])&&(a=l[t].apply(l,n),r||(i=a),"destroy"===t&&s.removeData("fullCalendar")):l||(l=new qe(s,t),s.data("fullCalendar",l),l.render())}),i};var r=["header","buttonText","buttonIcons","themeButtonIcons"];function o(e){return H(e,r)}function a(e,t){t.left&&e.css({"border-left-width":1,"margin-left":t.left-1}),t.right&&e.css({"border-right-width":1,"margin-right":t.right-1})}function s(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function l(){e("body").addClass("fc-not-allowed")}function u(){e("body").removeClass("fc-not-allowed")}function c(t,n,i){var r=Math.floor(n/t.length),o=Math.floor(n-r*(t.length-1)),a=[],s=[],l=[],u=0;d(t),t.each(function(n,i){var c=n===t.length-1?o:r,d=e(i).outerHeight(!0);d<c?(a.push(i),s.push(d),l.push(e(i).height())):u+=d}),i&&(n-=u,r=Math.floor(n/a.length),o=Math.floor(n-r*(a.length-1))),e(a).each(function(t,n){var i=t===a.length-1?o:r,u=s[t],c=i-(u-l[t]);u<i&&e(n).height(c)})}function d(e){e.height("")}function p(t){var n=0;return t.find("> span").each(function(t,i){var r=e(i).outerWidth();r>n&&(n=r)}),n++,t.width(n),n}function h(e,t){var n,i=e.add(t);return i.css({position:"relative",left:-1}),n=e.outerHeight()-t.outerHeight(),i.css({position:"",left:""}),n}function f(t){var n=t.css("position"),i=t.parents().filter(function(){var t=e(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:e(t[0].ownerDocument||document)}function g(e,t){var n=e.offset(),i=n.left-(t?t.left:0),r=n.top-(t?t.top:0);return{left:i,right:i+e.outerWidth(),top:r,bottom:r+e.outerHeight()}}function m(e,t){var n=e.offset(),i=v(e),r=n.left+b(e,"border-left-width")+i.left-(t?t.left:0),o=n.top+b(e,"border-top-width")+i.top-(t?t.top:0);return{left:r,right:r+e[0].clientWidth,top:o,bottom:o+e[0].clientHeight}}function v(t){var n=t.innerWidth()-t[0].clientWidth,i={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return!function(){null===y&&(t=e("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=t.children().offset().left>t.offset().left,t.remove(),y=n);var t,n;return y}()||"rtl"!=t.css("direction")?i.right=n:i.left=n,i}n.intersectRanges=T,n.applyAll=W,n.debounce=Q,n.isInt=X,n.htmlEscape=q,n.cssToStr=K,n.proxy=J,n.capitaliseFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n.getOuterRect=g,n.getClientRect=m,n.getContentRect=function(e,t){var n=e.offset(),i=n.left+b(e,"border-left-width")+b(e,"padding-left")-(t?t.left:0),r=n.top+b(e,"border-top-width")+b(e,"padding-top")-(t?t.top:0);return{left:i,right:i+e.width(),top:r,bottom:r+e.height()}},n.getScrollbarWidths=v;var y=null;function b(e,t){return parseFloat(e.css(t))||0}function w(e){return 1==e.which&&!e.ctrlKey}function $(e){if(void 0!==e.pageX)return e.pageX;var t=e.originalEvent.touches;return t?t[0].pageX:void 0}function C(e){if(void 0!==e.pageY)return e.pageY;var t=e.originalEvent.touches;return t?t[0].pageY:void 0}function S(e){return/^touch/.test(e.type)}function x(e){e.preventDefault()}function E(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function k(t){var n,i,r=[],o=[];for("string"==typeof t?o=t.split(/\s*,\s*/):"function"==typeof t?o=[t]:e.isArray(t)&&(o=t),n=0;n<o.length;n++)"string"==typeof(i=o[n])?r.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&r.push({func:i});return r}function D(e,t,n){var i,r;for(i=0;i<n.length;i++)if(r=_(e,t,n[i]))return r;return 0}function _(e,t,n){return n.func?n.func(e,t):M(e[n.field],t[n.field])*(n.order||1)}function M(t,n){return t||n?null==n?-1:null==t?1:"string"===e.type(t)||"string"===e.type(n)?String(t).localeCompare(String(n)):t-n:0}function T(e,t){var n,i,r,o,a=e.start,s=e.end,l=t.start,u=t.end;if(s>l&&a<u)return a>=l?(n=a.clone(),r=!0):(n=l.clone(),r=!1),s<=u?(i=s.clone(),o=!0):(i=u.clone(),o=!1),{start:n,end:i,isStart:r,isEnd:o}}n.preventDefault=x,n.intersectRects=E,n.parseFieldSpecs=k,n.compareByFieldSpecs=D,n.compareByFieldSpec=_,n.flexibleCompare=M,n.computeIntervalUnit=R,n.divideRangeByDuration=function(e,t,n){var i;if(F(n))return(t-e)/n;if(i=n.asMonths(),Math.abs(i)>=1&&X(i))return t.diff(e,"months",!0)/i;return t.diff(e,"days",!0)/n.asDays()},n.divideDurationByDuration=N,n.multiplyDuration=function(e,n){var i;if(F(e))return t.duration(e*n);if(i=e.asMonths(),Math.abs(i)>=1&&X(i))return t.duration({months:i*n});return t.duration({days:e.asDays()*n})},n.durationHasTime=F;var O=["sun","mon","tue","wed","thu","fri","sat"],A=["year","month","week","day","hour","minute","second","millisecond"];function P(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:e.time()-n.time()})}function I(e,n,i){return t.duration(Math.round(e.diff(n,i,!0)),i)}function R(e,t){var n,i,r;for(n=0;n<A.length&&!((r=L(i=A[n],e,t))>=1&&X(r));n++);return i}function L(e,n,i){return null!=i?i.diff(n,e,!0):t.isDuration(n)?n.as(e):n.end.diff(n.start,e,!0)}function N(e,t){var n,i;return F(e)||F(t)?e/t:(n=e.asMonths(),i=t.asMonths(),Math.abs(n)>=1&&X(n)&&Math.abs(i)>=1&&X(i)?n/i:e.asDays()/t.asDays())}function F(e){return Boolean(e.hours()||e.minutes()||e.seconds()||e.milliseconds())}function G(e){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(e)}n.log=function(){var e=window.console;if(e&&e.log)return e.log.apply(e,arguments)},n.warn=function(){var e=window.console;return e&&e.warn?e.warn.apply(e,arguments):n.log.apply(n,arguments)};var V={}.hasOwnProperty;function H(e,t){var n,i,r,o,a,s,l={};if(t)for(n=0;n<t.length;n++){for(i=t[n],r=[],o=e.length-1;o>=0;o--)if("object"==typeof(a=e[o][i]))r.unshift(a);else if(void 0!==a){l[i]=a;break}r.length&&(l[i]=H(r))}for(n=e.length-1;n>=0;n--)for(i in s=e[n])i in l||(l[i]=s[i]);return l}function j(e){var t=function(){};return t.prototype=e,new t}function z(e,t){for(var n in e)U(e,n)&&(t[n]=e[n])}function U(e,t){return V.call(e,t)}function W(t,n,i){if(e.isFunction(t)&&(t=[t]),t){var r,o;for(r=0;r<t.length;r++)o=t[r].apply(n,i)||o;return o}}function B(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function q(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Y(e){return e.replace(/&.*?;/g,"")}function K(t){var n=[];return e.each(t,function(e,t){null!=t&&n.push(e+":"+t)}),n.join(";")}function Z(e,t){return e-t}function X(e){return e%1==0}function J(e,t){var n=e[t];return function(){return n.apply(e,arguments)}}function Q(e,t,n){var i,r,o,a,s,l=function(){var u=+new Date-a;u<t?i=setTimeout(l,t-u):(i=null,n||(s=e.apply(o,r),o=r=null))};return function(){o=this,r=arguments,a=+new Date;var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(s=e.apply(o,r),o=r=null),s}}function ee(t,n){return t&&t.then&&"resolved"!==t.state()?n?t.then(n):void 0:e.when(n())}var te,ne,ie,re=/^\s*\d{4}-\d\d$/,oe=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,ae=t.fn,se=e.extend({},ae);function le(n,i,r){var o,a,s,l,u=n[0],c=1==n.length&&"string"==typeof u;return t.isMoment(u)?ce(u,l=t.apply(null,n)):!function(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}(u)&&void 0!==u?(o=!1,a=!1,c?re.test(u)?(n=[u+="-01"],o=!0,a=!0):(s=oe.exec(u))&&(o=!s[5],a=!0):e.isArray(u)&&(a=!0),l=i||o?t.utc.apply(t,n):t.apply(null,n),o?(l._ambigTime=!0,l._ambigZone=!0):r&&(a?l._ambigZone=!0:c&&(l.utcOffset?l.utcOffset(u):l.zone(u)))):l=t.apply(null,n),l._fullCalendar=!0,l}function ue(e,i){var r,o,a=!1,s=!1,l=e.length,u=[];for(r=0;r<l;r++)o=e[r],t.isMoment(o)||(o=n.moment.parseZone(o)),a=a||o._ambigTime,s=s||o._ambigZone,u.push(o);for(r=0;r<l;r++)o=u[r],i||!a||o._ambigTime?s&&!o._ambigZone&&(u[r]=o.clone().stripZone()):u[r]=o.clone().stripTime();return u}function ce(e,t){e._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1),e._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function de(e,t){e.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function pe(e,t){return se.format.call(e,t)}function he(e,t){var n,i="";for(n=0;n<t.length;n++)i+=ge(e,t[n]);return i}n.moment=function(){return le(arguments)},n.moment.utc=function(){var e=le(arguments,!0);return e.hasTime()&&e.utc(),e},n.moment.parseZone=function(){return le(arguments,!0,!0)},ae.clone=function(){var e=se.clone.apply(this,arguments);return ce(this,e),this._fullCalendar&&(e._fullCalendar=!0),e},ae.week=ae.weeks=function(e){var t=(this._locale||this._lang)._fullCalendar_weekCalc;return null==e&&"function"==typeof t?t(this):"ISO"===t?se.isoWeek.apply(this,arguments):se.week.apply(this,arguments)},ae.time=function(e){if(!this._fullCalendar)return se.time.apply(this,arguments);if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var n=0;return t.isDuration(e)&&(n=24*Math.floor(e.asDays())),this.hours(n+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},ae.stripTime=function(){var e;return this._ambigTime||(e=this.toArray(),this.utc(),ne(this,e.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},ae.hasTime=function(){return!this._ambigTime},ae.stripZone=function(){var e,t;return this._ambigZone||(e=this.toArray(),t=this._ambigTime,this.utc(),ne(this,e),this._ambigTime=t||!1,this._ambigZone=!0),this},ae.hasZone=function(){return!this._ambigZone},ae.local=function(){var e=this.toArray(),t=this._ambigZone;return se.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&ie(this,e),this},ae.utc=function(){return se.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},e.each(["zone","utcOffset"],function(e,t){se[t]&&(ae[t]=function(e){return null!=e&&(this._ambigTime=!1,this._ambigZone=!1),se[t].apply(this,arguments)})}),ae.format=function(){return this._fullCalendar&&arguments[0]?(e=this,t=arguments[0],he(e,we(t))):this._ambigTime?pe(this,"YYYY-MM-DD"):this._ambigZone?pe(this,"YYYY-MM-DD[T]HH:mm:ss"):se.format.apply(this,arguments);var e,t},ae.toISOString=function(){return this._ambigTime?pe(this,"YYYY-MM-DD"):this._ambigZone?pe(this,"YYYY-MM-DD[T]HH:mm:ss"):se.toISOString.apply(this,arguments)},ae.isWithin=function(e,t){var n=ue([this,e,t]);return n[0]>=n[1]&&n[0]<n[2]},ae.isSame=function(e,t){var i;return this._fullCalendar?t?(i=ue([this,e],!0),se.isSame.call(i[0],i[1],t)):(e=n.moment.parseZone(e),se.isSame.call(this,e)&&Boolean(this._ambigTime)===Boolean(e._ambigTime)&&Boolean(this._ambigZone)===Boolean(e._ambigZone)):se.isSame.apply(this,arguments)},e.each(["isBefore","isAfter"],function(e,t){ae[t]=function(e,n){var i;return this._fullCalendar?(i=ue([this,e]),se[t].call(i[0],i[1],n)):se[t].apply(this,arguments)}}),te="_d"in t()&&"updateOffset"in t,ne=te?function(e,n){e._d.setTime(Date.UTC.apply(Date,n)),t.updateOffset(e,!1)}:de,ie=te?function(e,n){e._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),t.updateOffset(e,!1)}:de;var fe={t:function(e){return pe(e,"a").charAt(0)},T:function(e){return pe(e,"A").charAt(0)}};function ge(e,t){var n,i;return"string"==typeof t?t:(n=t.token)?fe[n]?fe[n](e):pe(e,n):t.maybe&&(i=he(e,t.maybe)).match(/[1-9]/)?i:""}function me(e,t,i,r,o){return e=n.moment.parseZone(e),t=n.moment.parseZone(t),i=(e.localeData||e.lang).call(e).longDateFormat(i)||i,r=r||" - ",function(e,t,n,i,r){var o,a,s,l,u=e.clone().stripZone(),c=t.clone().stripZone(),d="",p="",h="",f="",g="";for(a=0;a<n.length&&!1!==(o=ye(e,t,u,c,n[a]));a++)d+=o;for(s=n.length-1;s>a&&!1!==(o=ye(e,t,u,c,n[s]));s--)p=o+p;for(l=a;l<=s;l++)h+=ge(e,n[l]),f+=ge(t,n[l]);(h||f)&&(g=r?f+i+h:h+i+f);return d+g+p}(e,t,we(i),r,o)}n.formatRange=me;var ve={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};function ye(e,t,n,i,r){var o,a;return"string"==typeof r?r:!!((o=r.token)&&(a=ve[o.charAt(0)])&&n.isSame(i,a))&&pe(e,o)}var be={};function we(e){return e in be?be[e]:be[e]=function e(t){var n=[];var i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;var r;for(;r=i.exec(t);)r[1]?n.push(r[1]):r[2]?n.push({maybe:e(r[2])}):r[3]?n.push({token:r[3]}):r[5]&&n.push(r[5]);return n}(e)}function $e(){}function Ce(e,t){z(t,e.prototype)}n.Class=$e,$e.extend=function(){var e,t,n=arguments.length;for(e=0;e<n;e++)t=arguments[e],e<n-1&&Ce(this,t);return function(e,t){var n;U(t,"constructor")&&(n=t.constructor);"function"!=typeof n&&(n=t.constructor=function(){e.apply(this,arguments)});return n.prototype=j(e.prototype),z(t,n.prototype),function(e,t){var n,i,r=["constructor","toString","valueOf"];for(n=0;n<r.length;n++)e[i=r[n]]!==Object.prototype[i]&&(t[i]=e[i])}(t,n.prototype),z(e,n),n}(this,t||{})},$e.mixin=function(e){Ce(this,e)};var Se,xe=n.EmitterMixin={on:function(t,n){var i=function(e,t){return n.apply(t.context||this,t.args||[])};return n.guid||(n.guid=e.guid++),i.guid=n.guid,e(this).on(t,i),this},off:function(t,n){return e(this).off(t,n),this},trigger:function(t){var n=Array.prototype.slice.call(arguments,1);return e(this).triggerHandler(t,{args:n}),this},triggerWith:function(t,n,i){return e(this).triggerHandler(t,{context:n,args:i}),this}},Ee=n.ListenerMixin=(Se=0,{listenerId:null,listenTo:function(t,n,i){if("object"==typeof n)for(var r in n)n.hasOwnProperty(r)&&this.listenTo(t,r,n[r]);else"string"==typeof n&&t.on(n+"."+this.getListenerNamespace(),e.proxy(i,this))},stopListeningTo:function(e,t){e.off((t||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=Se++),"_listener"+this.listenerId}}),ke={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(e){this.delayUnignoreMouse=Q(J(this,"unignoreMouse"),e||1e3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0,this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},De=$e.extend(Ee,{isHidden:!0,options:null,el:null,margin:10,constructor:function(e){this.options=e||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,n=this.options;this.el=e('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),n.autoHide&&this.listenTo(e(document),"mousedown",this.documentMousedown)},documentMousedown:function(t){this.el&&!e(t.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(e(document),"mousedown")},position:function(){var t,n,i,r,o,a=this.options,s=this.el.offsetParent().offset(),l=this.el.outerWidth(),u=this.el.outerHeight(),c=e(window),d=f(this.el);r=a.top||0,o=void 0!==a.left?a.left:void 0!==a.right?a.right-l:0,d.is(window)||d.is(document)?(d=c,t=0,n=0):(t=(i=d.offset()).top,n=i.left),t+=c.scrollTop(),n+=c.scrollLeft(),!1!==a.viewportConstrain&&(r=Math.min(r,t+d.outerHeight()-u-this.margin),r=Math.max(r,t+this.margin),o=Math.min(o,n+d.outerWidth()-l-this.margin),o=Math.max(o,n+this.margin)),this.el.css({top:r-s.top,left:o-s.left})},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),_e=n.CoordCache=$e.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(t){this.els=e(t.els),this.isHorizontal=t.isHorizontal,this.isVertical=t.isVertical,this.forcedOffsetParentEl=t.offsetParent?e(t.offsetParent):null},build:function(){var e=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=e.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var e=f(this.els.eq(0));if(!e.is(document))return m(e)},buildElHorizontals:function(){var t=[],n=[];this.els.each(function(i,r){var o=e(r),a=o.offset().left,s=o.outerWidth();t.push(a),n.push(a+s)}),this.lefts=t,this.rights=n},buildElVerticals:function(){var t=[],n=[];this.els.each(function(i,r){var o=e(r),a=o.offset().top,s=o.outerHeight();t.push(a),n.push(a+s)}),this.tops=t,this.bottoms=n},getHorizontalIndex:function(e){this.ensureBuilt();var t,n=this.boundingRect,i=this.lefts,r=this.rights,o=i.length;if(!n||e>=n.left&&e<n.right)for(t=0;t<o;t++)if(e>=i[t]&&e<r[t])return t},getVerticalIndex:function(e){this.ensureBuilt();var t,n=this.boundingRect,i=this.tops,r=this.bottoms,o=i.length;if(!n||e>=n.top&&e<n.bottom)for(t=0;t<o;t++)if(e>=i[t]&&e<r[t])return t},getLeftOffset:function(e){return this.ensureBuilt(),this.lefts[e]},getLeftPosition:function(e){return this.ensureBuilt(),this.lefts[e]-this.origin.left},getRightOffset:function(e){return this.ensureBuilt(),this.rights[e]},getRightPosition:function(e){return this.ensureBuilt(),this.rights[e]-this.origin.left},getWidth:function(e){return this.ensureBuilt(),this.rights[e]-this.lefts[e]},getTopOffset:function(e){return this.ensureBuilt(),this.tops[e]},getTopPosition:function(e){return this.ensureBuilt(),this.tops[e]-this.origin.top},getBottomOffset:function(e){return this.ensureBuilt(),this.bottoms[e]},getBottomPosition:function(e){return this.ensureBuilt(),this.bottoms[e]-this.origin.top},getHeight:function(e){return this.ensureBuilt(),this.bottoms[e]-this.tops[e]}}),Me=n.DragListener=$e.extend(Ee,ke,{options:null,subjectEl:null,subjectHref:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(e){this.options=e||{},this.handleTouchScrollProxy=J(this,"handleTouchScroll"),this.initMouseIgnoring(500)},startInteraction:function(t,n){var i=S(t);if("mousedown"===t.type){if(this.isIgnoringMouse)return;if(!w(t))return;t.preventDefault()}this.isInteracting||(n=n||{},this.delay=B(n.delay,this.options.delay,0),this.minDistance=B(n.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=i,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=$(t),this.originY=C(t),this.scrollEl=f(e(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},handleInteractionStart:function(e){this.trigger("interactionStart",e)},endInteraction:function(e,t){this.isInteracting&&(this.endDrag(e),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(e,t),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(e,t){this.trigger("interactionEnd",e,t||!1)},bindHandlers:function(){var t,n=this,i=1;this.isTouch?(this.listenTo(e(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(e){i?i--:n.endInteraction(e,!0)}}),t=this.handleTouchScrollProxy,window.addEventListener&&(window.addEventListener("scroll",t,!0),1)||!this.scrollEl||this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(e(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(e(document),{selectstart:x,contextmenu:x})},unbindHandlers:function(){var t;this.stopListeningTo(e(document)),t=this.handleTouchScrollProxy,window.removeEventListener&&window.removeEventListener("scroll",t,!0),this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(e,t){this.startInteraction(e,t),this.isDragging||(this.isDragging=!0,this.handleDragStart(e))},handleDragStart:function(e){this.trigger("dragStart",e),this.initHrefHack()},handleMove:function(e){var t=$(e)-this.originX,n=C(e)-this.originY,i=this.minDistance;this.isDistanceSurpassed||t*t+n*n>=i*i&&this.handleDistanceSurpassed(e),this.isDragging&&this.handleDrag(t,n,e)},handleDrag:function(e,t,n){this.trigger("drag",e,t,n),this.updateAutoScroll(n)},endDrag:function(e){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(e))},handleDragEnd:function(e){this.trigger("dragEnd",e),this.destroyHrefHack()},startDelay:function(e){var t=this;this.delay?this.delayTimeoutId=setTimeout(function(){t.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)},handleDelayEnd:function(e){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(e)},handleDistanceSurpassed:function(e){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(e)},handleTouchMove:function(e){this.isDragging&&e.preventDefault(),this.handleMove(e)},handleMouseMove:function(e){this.handleMove(e)},handleTouchScroll:function(e){this.isDragging||this.endInteraction(e,!0)},initHrefHack:function(){var e=this.subjectEl;(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},destroyHrefHack:function(){var e=this.subjectEl,t=this.subjectHref;setTimeout(function(){t&&e.attr("href",t)},0)},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+e]&&this["_"+e].apply(this,Array.prototype.slice.call(arguments,1))}});Me.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var e=this.scrollEl;this.isAutoScroll=this.options.scroll&&e&&!e.is(window)&&!e.is(document),this.isAutoScroll&&this.listenTo(e,"scroll",Q(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=g(this.scrollEl))},updateAutoScroll:function(e){var t,n,i,r,o=this.scrollSensitivity,a=this.scrollBounds,s=0,l=0;a&&(t=(o-(C(e)-a.top))/o,n=(o-(a.bottom-C(e)))/o,i=(o-($(e)-a.left))/o,r=(o-(a.right-$(e)))/o,t>=0&&t<=1?s=t*this.scrollSpeed*-1:n>=0&&n<=1&&(s=n*this.scrollSpeed),i>=0&&i<=1?l=i*this.scrollSpeed*-1:r>=0&&r<=1&&(l=r*this.scrollSpeed)),this.setScrollVel(s,l)},setScrollVel:function(e,t){this.scrollTopVel=e,this.scrollLeftVel=t,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(J(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var e=this.scrollEl;this.scrollTopVel<0?e.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?e.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var e=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&e.scrollTop(e.scrollTop()+this.scrollTopVel*t),this.scrollLeftVel&&e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*t),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var Te=Me.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(e,t){Me.call(this,t),this.component=e},handleInteractionStart:function(e){var t,n,i,r,o,a,s=this.subjectEl;this.computeCoords(),e?(i=n={left:$(e),top:C(e)},s&&(i=function(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}(i,t=g(s))),this.origHit=this.queryHit(i.left,i.top),s&&this.options.subjectCenter&&(this.origHit&&(t=E(this.origHit,t)||t),i={left:((a=t).left+a.right)/2,top:(a.top+a.bottom)/2}),this.coordAdjust=(o=n,{left:(r=i).left-o.left,top:r.top-o.top})):(this.origHit=null,this.coordAdjust=null),Me.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},handleDragStart:function(e){var t;Me.prototype.handleDragStart.apply(this,arguments),(t=this.queryHit($(e),C(e)))&&this.handleHitOver(t)},handleDrag:function(e,t,n){var i;Me.prototype.handleDrag.apply(this,arguments),Oe(i=this.queryHit($(n),C(n)),this.hit)||(this.hit&&this.handleHitOut(),i&&this.handleHitOver(i))},handleDragEnd:function(){this.handleHitDone(),Me.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(e){var t=Oe(e,this.origHit);this.hit=e,this.trigger("hitOver",this.hit,t,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){Me.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},handleScrollEnd:function(){Me.prototype.handleScrollEnd.apply(this,arguments),this.computeCoords()},queryHit:function(e,t){return this.coordAdjust&&(e+=this.coordAdjust.left,t+=this.coordAdjust.top),this.component.queryHit(e,t)}});function Oe(e,t){return!e&&!t||!(!e||!t)&&(e.component===t.component&&Ae(e,t)&&Ae(t,e))}function Ae(e,t){for(var n in e)if(!/^(component|left|right|top|bottom)$/.test(n)&&e[n]!==t[n])return!1;return!0}var Pe=$e.extend(Ee,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,n){this.options=n=n||{},this.sourceEl=t,this.parentEl=n.parentEl?e(n.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.y0=C(t),this.x0=$(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),S(t)?this.listenTo(e(document),"touchmove",this.handleMove):this.listenTo(e(document),"mousemove",this.handleMove))},stop:function(t,n){var i=this,r=this.options.revertDuration;function o(){this.isAnimating=!1,i.removeElement(),this.top0=this.left0=null,n&&n()}this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(e(document)),t&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:o})):o())},getEl:function(){var e=this.el;return e||(this.sourceEl.width(),(e=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex})).addClass("fc-unselectable"),e.appendTo(this.parentEl)),e},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var e,t;this.getEl(),null===this.top0&&(this.sourceEl.width(),e=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=e.top-t.top,this.left0=e.left-t.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(e){this.topDelta=C(e)-this.y0,this.leftDelta=$(e)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),Ie=n.Grid=$e.extend(Ee,ke,{view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(e){this.view=e,this.isRTL=e.opt("isRTL"),this.elsByFill={},this.dayDragListener=this.buildDayDragListener(),this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(e){this.start=e.start.clone(),this.end=e.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var e,t,n=this.view;this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),null==(e=n.opt("displayEventTime"))&&(e=this.computeDisplayEventTime()),null==(t=n.opt("displayEventEnd"))&&(t=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=t},spanToSegs:function(e){},diffDates:function(e,t){return this.largeUnit?I(e,t,this.largeUnit):P(e,t)},prepareHits:function(){},releaseHits:function(){},queryHit:function(e,t){},getHitSpan:function(e){},getHitEl:function(e){},setElement:function(e){this.el=e,function(e){e.addClass("fc-unselectable").on("selectstart",x)}(e),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(t,n){var i=this;this.el.on(t,function(t){if(!e(t.target).is(".fc-event-container *, .fc-more")&&!e(t.target).closest(".fc-popover").length)return n.call(i,t)})},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(e(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(e(document))},dayMousedown:function(e){this.isIgnoringMouse||this.dayDragListener.startInteraction(e,{})},dayTouchStart:function(e){var t=this.view;(t.isSelected||t.selectedEvent)&&this.tempIgnoreMouse(),this.dayDragListener.startInteraction(e,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var e,t,n=this,i=this.view,r=i.opt("selectable"),o=new Te(this,{scroll:i.opt("dragScroll"),interactionStart:function(){e=o.origHit},dragStart:function(){i.unselect()},hitOver:function(i,o,a){a&&(o||(e=null),r&&((t=n.computeSelection(n.getHitSpan(a),n.getHitSpan(i)))?n.renderSelection(t):!1===t&&l()))},hitOut:function(){e=null,t=null,n.unrenderSelection(),u()},interactionEnd:function(r,o){o||(e&&!n.isIgnoringMouse&&i.triggerDayClick(n.getHitSpan(e),n.getHitEl(e),r),t&&i.reportSelection(t,r),u())}});return o},clearDragListeners:function(){this.dayDragListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(e,t){var n=this.fabricateHelperEvent(e,t);return this.renderHelper(n,t)},fabricateHelperEvent:function(e,t){var n=t?j(t.event):{};return n.start=e.start.clone(),n.end=e.end?e.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDates(n),n.className=(n.className||[]).concat("fc-helper"),t||(n.editable=!1),n},renderHelper:function(e,t){},unrenderHelper:function(){},renderSelection:function(e){this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(e,t){var n=this.computeSelectionSpan(e,t);return!(n&&!this.view.calendar.isSelectionSpanAllowed(n))&&n},computeSelectionSpan:function(e,t){var n=[e.start,e.end,t.start,t.end];return n.sort(Z),{start:n[0].clone(),end:n[3].clone()}},renderHighlight:function(e){this.renderFill("highlight",this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(e){},unrenderNowIndicator:function(){},renderFill:function(e,t){},unrenderFill:function(e){var t=this.elsByFill[e];t&&(t.remove(),delete this.elsByFill[e])},renderFillSegEls:function(t,n){var i,r=this,o=this[t+"SegEl"],a="",s=[];if(n.length){for(i=0;i<n.length;i++)a+=this.fillSegHtml(t,n[i]);e(a).each(function(t,i){var a=n[t],l=e(i);o&&(l=o.call(r,a,l)),l&&(l=e(l)).is(r.fillSegTag)&&(a.el=l,s.push(a))})}return s},fillSegTag:"div",fillSegHtml:function(e,t){var n=this[e+"SegClasses"],i=this[e+"SegCss"],r=n?n.call(this,t):[],o=K(i?i.call(this,t):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},getDayClasses:function(e){var t=this.view,n=t.calendar.getNow(),i=["fc-"+O[e.day()]];return 1==t.intervalDuration.as("months")&&e.month()!=t.intervalStart.month()&&i.push("fc-other-month"),e.isSame(n,"day")?i.push("fc-today",t.highlightStateClass):e<n?i.push("fc-past"):i.push("fc-future"),i}});function Re(e){var t=Le(e);return"background"===t||"inverse-background"===t}function Le(e){return B((e.source||{}).rendering,e.rendering)}function Ne(e,t){return e.start-t.start}Ie.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(e){var t,n=[],i=[];for(t=0;t<e.length;t++)(Re(e[t])?n:i).push(e[t]);this.segs=[].concat(this.renderBgEvents(n),this.renderFgEvents(i))},renderBgEvents:function(e){var t=this.eventsToSegs(e);return this.renderBgSegs(t)||t},renderFgEvents:function(e){var t=this.eventsToSegs(e);return this.renderFgSegs(t)||t},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(e){},unrenderFgSegs:function(){},renderFgSegEls:function(t,n){var i,r=this.view,o="",a=[];if(t.length){for(i=0;i<t.length;i++)o+=this.fgSegHtml(t[i],n);e(o).each(function(n,i){var o=t[n],s=r.resolveEventEl(o.event,e(i));s&&(s.data("fc-seg",o),o.el=s,a.push(o))})}return a},fgSegHtml:function(e,t){},renderBgSegs:function(e){return this.renderFill("bgEvent",e)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(e,t){return this.view.resolveEventEl(e.event,t)},bgEventSegClasses:function(e){var t=e.event,n=t.source||{};return["fc-bgevent"].concat(t.className,n.className||[])},bgEventSegCss:function(e){return{"background-color":this.getSegSkinCss(e)["background-color"]}},businessHoursSegClasses:function(e){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){this.bindSegHandler("touchstart",this.handleSegTouchStart),this.bindSegHandler("touchend",this.handleSegTouchEnd),this.bindSegHandler("mouseenter",this.handleSegMouseover),this.bindSegHandler("mouseleave",this.handleSegMouseout),this.bindSegHandler("mousedown",this.handleSegMousedown),this.bindSegHandler("click",this.handleSegClick)},bindSegHandler:function(t,n){var i=this;this.el.on(t,".fc-event-container > *",function(t){var r=e(this).data("fc-seg");if(r&&!i.isDraggingSeg&&!i.isResizingSeg)return n.call(i,r,t)})},handleSegClick:function(e,t){return this.view.trigger("eventClick",e.el[0],e.event,t)},handleSegMouseover:function(e,t){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=e,e.el.addClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseover",e.el[0],e.event,t))},handleSegMouseout:function(e,t){t=t||{},this.mousedOverSeg&&(e=e||this.mousedOverSeg,this.mousedOverSeg=null,e.el.removeClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseout",e.el[0],e.event,t))},handleSegMousedown:function(e,t){!this.startSegResize(e,t,{distance:5})&&this.view.isEventDraggable(e.event)&&this.buildSegDragListener(e).startInteraction(t,{distance:5})},handleSegTouchStart:function(e,t){var n=this.view,i=e.event,r=n.isEventSelected(i),o=n.isEventDraggable(i),a=n.isEventResizable(i),s=!1;r&&a&&(s=this.startSegResize(e,t)),s||!o&&!a||(o?this.buildSegDragListener(e):this.buildSegSelectListener(e)).startInteraction(t,{delay:r?0:this.view.opt("longPressDelay")}),this.tempIgnoreMouse()},handleSegTouchEnd:function(e,t){this.tempIgnoreMouse()},startSegResize:function(t,n,i){return!!e(n.target).is(".fc-resizer")&&(this.buildSegResizeListener(t,e(n.target).is(".fc-start-resizer")).startInteraction(n,i),!0)},buildSegDragListener:function(e){var t,n,i,r=this,o=this.view,a=o.calendar,s=e.el,c=e.event;if(this.segDragListener)return this.segDragListener;var d=this.segDragListener=new Te(o,{scroll:o.opt("dragScroll"),subjectEl:s,subjectCenter:!0,interactionStart:function(i){t=!1,(n=new Pe(e.el,{additionalClass:"fc-dragging",parentEl:o.el,opacity:d.isTouch?null:o.opt("dragOpacity"),revertDuration:o.opt("dragRevertDuration"),zIndex:2})).hide(),n.start(i)},dragStart:function(n){d.isTouch&&!o.isEventSelected(c)&&o.selectEvent(c),t=!0,r.handleSegMouseout(e,n),r.segDragStart(e,n),o.hideEvent(c)},hitOver:function(t,s,u){var p;e.hit&&(u=e.hit),(i=r.computeEventDrop(u.component.getHitSpan(u),t.component.getHitSpan(t),c))&&!a.isEventSpanAllowed(r.eventToSpan(i),c)&&(l(),i=null),i&&(p=o.renderDrag(i,e))?(p.addClass("fc-dragging"),d.isTouch||r.applyDragOpacity(p),n.hide()):n.show(),s&&(i=null)},hitOut:function(){o.unrenderDrag(),n.show(),i=null},hitDone:function(){u()},interactionEnd:function(a){n.stop(!i,function(){t&&(o.unrenderDrag(),o.showEvent(c),r.segDragStop(e,a)),i&&o.reportEventDrop(c,i,this.largeUnit,s,a)}),r.segDragListener=null}});return d},buildSegSelectListener:function(e){var t=this,n=this.view,i=e.event;if(this.segDragListener)return this.segDragListener;var r=this.segDragListener=new Me({dragStart:function(e){r.isTouch&&!n.isEventSelected(i)&&n.selectEvent(i)},interactionEnd:function(e){t.segDragListener=null}});return r},segDragStart:function(e,t){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",e.el[0],e.event,t,{})},segDragStop:function(e,t){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",e.el[0],e.event,t,{})},computeEventDrop:function(e,t,n){var i,r,o=this.view.calendar,a=e.start,s=t.start;return a.hasTime()===s.hasTime()?(i=this.diffDates(s,a),n.allDay&&F(i)?(r={start:n.start.clone(),end:o.getEventEnd(n),allDay:!1},o.normalizeEventTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:s.clone(),end:null,allDay:!s.hasTime()},r},applyDragOpacity:function(e){var t=this.view.opt("dragOpacity");null!=t&&e.each(function(e,n){n.style.opacity=t})},externalDragStart:function(t,n){var i,r,o=this.view;o.opt("droppable")&&(i=e((n?n.item:null)||t.target),r=o.opt("dropAccept"),(e.isFunction(r)?r.call(i[0],i):i.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(i,t,n)))},listenToExternalDrag:function(i,r,o){var a,s=this,c=this.view.calendar,d=function(i){var r,o,a,s,l=n.dataAttrPrefix;l&&(l+="-");(r=i.data(l+"event")||null)&&(r="object"==typeof r?e.extend({},r):{},null==(o=r.start)&&(o=r.time),a=r.duration,s=r.stick,delete r.start,delete r.time,delete r.duration,delete r.stick);null==o&&(o=i.data(l+"start"));null==o&&(o=i.data(l+"time"));null==a&&(a=i.data(l+"duration"));null==s&&(s=i.data(l+"stick"));return o=null!=o?t.duration(o):null,a=null!=a?t.duration(a):null,s=Boolean(s),{eventProps:r,startTime:o,duration:a,stick:s}}(i);(s.externalDragListener=new Te(this,{interactionStart:function(){s.isDraggingExternal=!0},hitOver:function(e){(a=s.computeExternalDrop(e.component.getHitSpan(e),d))&&!c.isExternalSpanAllowed(s.eventToSpan(a),a,d.eventProps)&&(l(),a=null),a&&s.renderDrag(a)},hitOut:function(){a=null},hitDone:function(){u(),s.unrenderDrag()},interactionEnd:function(e){a&&s.view.reportExternalDrop(d,a,i,e,o),s.isDraggingExternal=!1,s.externalDragListener=null}})).startDrag(r)},computeExternalDrop:function(e,t){var n={start:this.view.calendar.applyTimezone(e.start),end:null};return t.startTime&&!n.start.hasTime()&&n.start.time(t.startTime),t.duration&&(n.end=n.start.clone().add(t.duration)),n},renderDrag:function(e,t){},unrenderDrag:function(){},buildSegResizeListener:function(e,t){var n,i,r=this,o=this.view,a=o.calendar,s=e.el,c=e.event,d=a.getEventEnd(c);return this.segResizeListener=new Te(this,{scroll:o.opt("dragScroll"),subjectEl:s,interactionStart:function(){n=!1},dragStart:function(t){n=!0,r.handleSegMouseout(e,t),r.segResizeStart(e,t)},hitOver:function(n,s,u){var p=r.getHitSpan(u),h=r.getHitSpan(n);(i=t?r.computeEventStartResize(p,h,c):r.computeEventEndResize(p,h,c))&&(a.isEventSpanAllowed(r.eventToSpan(i),c)?i.start.isSame(c.start)&&i.end.isSame(d)&&(i=null):(l(),i=null)),i&&(o.hideEvent(c),r.renderEventResize(i,e))},hitOut:function(){i=null},hitDone:function(){r.unrenderEventResize(),o.showEvent(c),u()},interactionEnd:function(t){n&&r.segResizeStop(e,t),i&&o.reportEventResize(c,i,this.largeUnit,s,t),r.segResizeListener=null}})},segResizeStart:function(e,t){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",e.el[0],e.event,t,{})},segResizeStop:function(e,t){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",e.el[0],e.event,t,{})},computeEventStartResize:function(e,t,n){return this.computeEventResize("start",e,t,n)},computeEventEndResize:function(e,t,n){return this.computeEventResize("end",e,t,n)},computeEventResize:function(e,t,n,i){var r,o,a=this.view.calendar,s=this.diffDates(n[e],t[e]);return(r={start:i.start.clone(),end:a.getEventEnd(i),allDay:i.allDay}).allDay&&F(s)&&(r.allDay=!1,a.normalizeEventTimes(r)),r[e].add(s),r.start.isBefore(r.end)||(o=this.minResizeDuration||(i.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration),"start"==e?r.start=r.end.clone().subtract(o):r.end=r.start.clone().add(o)),r},renderEventResize:function(e,t){},unrenderEventResize:function(){},getEventTimeText:function(e,t,n){return null==t&&(t=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?n&&e.end?this.view.formatRange(e,t):e.start.format(t):""},getSegClasses:function(e,t,n){var i=this.view,r=e.event,o=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return t&&o.push("fc-draggable"),n&&o.push("fc-resizable"),i.isEventSelected(r)&&o.push("fc-selected"),o},getSegSkinCss:function(e){var t=e.event,n=this.view,i=t.source||{},r=t.color,o=i.color,a=n.opt("eventColor");return{"background-color":t.backgroundColor||r||i.backgroundColor||o||n.opt("eventBackgroundColor")||a,"border-color":t.borderColor||r||i.borderColor||o||n.opt("eventBorderColor")||a,color:t.textColor||i.textColor||n.opt("eventTextColor")}},eventToSegs:function(e){return this.eventsToSegs([e])},eventToSpan:function(e){return this.eventToSpans(e)[0]},eventToSpans:function(e){var t=this.eventToRange(e);return this.eventRangeToSpans(t,e)},eventsToSegs:function(t,n){var i=this,r=function(e){var t,n,i={};for(t=0;t<e.length;t++)n=e[t],(i[n._id]||(i[n._id]=[])).push(n);return i}(t),o=[];return e.each(r,function(e,t){var r,a=[];for(r=0;r<t.length;r++)a.push(i.eventToRange(t[r]));if("inverse-background"===Le(t[0]))for(a=i.invertRanges(a),r=0;r<a.length;r++)o.push.apply(o,i.eventRangeToSegs(a[r],t[0],n));else for(r=0;r<a.length;r++)o.push.apply(o,i.eventRangeToSegs(a[r],t[r],n))}),o},eventToRange:function(e){return{start:e.start.clone().stripZone(),end:(e.end?e.end.clone():this.view.calendar.getDefaultEventEnd(null!=e.allDay?e.allDay:!e.start.hasTime(),e.start)).stripZone()}},eventRangeToSegs:function(e,t,n){var i,r=this.eventRangeToSpans(e,t),o=[];for(i=0;i<r.length;i++)o.push.apply(o,this.eventSpanToSegs(r[i],t,n));return o},eventRangeToSpans:function(t,n){return[e.extend({},t)]},eventSpanToSegs:function(e,t,n){var i,r,o=n?n(e):this.spanToSegs(e);for(i=0;i<o.length;i++)(r=o[i]).event=t,r.eventStartMS=+e.start,r.eventDurationMS=e.end-e.start;return o},invertRanges:function(e){var t,n,i=this.view,r=i.start.clone(),o=i.end.clone(),a=[],s=r;for(e.sort(Ne),t=0;t<e.length;t++)(n=e[t]).start>s&&a.push({start:s,end:n.start}),s=n.end;return s<o&&a.push({start:s,end:o}),a},sortEventSegs:function(e){e.sort(J(this,"compareEventSegs"))},compareEventSegs:function(e,t){return e.eventStartMS-t.eventStartMS||t.eventDurationMS-e.eventDurationMS||t.event.allDay-e.event.allDay||D(e.event,t.event,this.view.eventOrderSpecs)}}),n.isBgEvent=Re,n.dataAttrPrefix="";var Fe=n.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var e,t,n,i=this.view,r=this.start.clone(),o=-1,a=[],s=[];r.isBefore(this.end);)i.isHiddenDay(r)?a.push(o+.5):(o++,a.push(o),s.push(r.clone())),r.add(1,"days");if(this.breakOnWeeks){for(t=s[0].day(),e=1;e<s.length&&s[e].day()!=t;e++);n=Math.ceil(s.length/e)}else n=1,e=s.length;this.dayDates=s,this.dayIndices=a,this.daysPerRow=e,this.rowCnt=n,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(e,t){return this.dayDates[this.getCellDayIndex(e,t)].clone()},getCellRange:function(e,t){var n=this.getCellDate(e,t);return{start:n,end:n.clone().add(1,"days")}},getCellDayIndex:function(e,t){return e*this.daysPerRow+this.getColDayIndex(t)},getColDayIndex:function(e){return this.isRTL?this.colCnt-1-e:e},getDateDayIndex:function(e){var t=this.dayIndices,n=e.diff(this.start,"days");return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(e){var t,n,i,r,o,a=this.daysPerRow,s=this.view.computeDayRange(e),l=this.getDateDayIndex(s.start),u=this.getDateDayIndex(s.end.clone().subtract(1,"days")),c=[];for(t=0;t<this.rowCnt;t++)i=(n=t*a)+a-1,r=Math.max(l,n),o=Math.min(u,i),(r=Math.ceil(r))<=(o=Math.floor(o))&&c.push({row:t,firstRowDayIndex:r-n,lastRowDayIndex:o-n,isStart:r===l,isEnd:o===u});return c},sliceRangeByDay:function(e){var t,n,i,r,o,a,s=this.daysPerRow,l=this.view.computeDayRange(e),u=this.getDateDayIndex(l.start),c=this.getDateDayIndex(l.end.clone().subtract(1,"days")),d=[];for(t=0;t<this.rowCnt;t++)for(i=(n=t*s)+s-1,r=n;r<=i;r++)o=Math.max(u,r),a=Math.min(c,r),(o=Math.ceil(o))<=(a=Math.floor(a))&&d.push({row:t,firstRowDayIndex:o-n,lastRowDayIndex:a-n,isStart:o===u,isEnd:a===c});return d},renderHeadHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var e,t,n=[];for(e=0;e<this.colCnt;e++)t=this.getCellDate(0,e),n.push(this.renderHeadDateCellHtml(t));return n.join("")},renderHeadDateCellHtml:function(e,t,n){return'<th class="fc-day-header '+this.view.widgetHeaderClass+" fc-"+O[e.day()]+'"'+(1==this.rowCnt?' data-date="'+e.format("YYYY-MM-DD")+'"':"")+(t>1?' colspan="'+t+'"':"")+(n?" "+n:"")+">"+q(e.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(e))+this.renderBgCellsHtml(e)+(this.isRTL?this.renderBgIntroHtml(e):"")+"</tr>"},renderBgIntroHtml:function(e){return this.renderIntroHtml()},renderBgCellsHtml:function(e){var t,n,i=[];for(t=0;t<this.colCnt;t++)n=this.getCellDate(e,t),i.push(this.renderBgCellHtml(n));return i.join("")},renderBgCellHtml:function(e,t){var n=this.view,i=this.getDayClasses(e);return i.unshift("fc-day",n.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+e.format("YYYY-MM-DD")+'"'+(t?" "+t:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(e){var t=this.renderIntroHtml();t&&(this.isRTL?e.append(t):e.prepend(t))}},Ge=n.DayGrid=Ie.extend(Fe,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(e){var t,n,i=this.view,r=this.rowCnt,o=this.colCnt,a="";for(t=0;t<r;t++)a+=this.renderDayRowHtml(t,e);for(this.el.html(a),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new _e({els:this.rowEls,isVertical:!0}),this.colCoordCache=new _e({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;t<r;t++)for(n=0;n<o;n++)i.trigger("dayRender",null,this.getCellDate(t,n),this.getCellEl(t,n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(!0),t=this.eventsToSegs(e);this.renderFill("businessHours",t,"bgevent")},renderDayRowHtml:function(e,t){var n=["fc-row","fc-week",this.view.widgetContentClass];return t&&n.push("fc-rigid"),'<div class="'+n.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(e)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(e){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(e))+this.renderNumberCellsHtml(e)+(this.isRTL?this.renderNumberIntroHtml(e):"")+"</tr>"},renderNumberIntroHtml:function(e){return this.renderIntroHtml()},renderNumberCellsHtml:function(e){var t,n,i=[];for(t=0;t<this.colCnt;t++)n=this.getCellDate(e,t),i.push(this.renderNumberCellHtml(n));return i.join("")},renderNumberCellHtml:function(e){var t;return this.view.dayNumbersVisible?((t=this.getDayClasses(e)).unshift("fc-day-number"),'<td class="'+t.join(" ")+'" data-date="'+e.format()+'">'+e.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(e){var t,n,i=this.sliceRangeByRow(e);for(t=0;t<i.length;t++)n=i[t],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return i},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(e,t){var n=this.colCoordCache.getHorizontalIndex(e),i=this.rowCoordCache.getVerticalIndex(t);if(null!=i&&null!=n)return this.getCellHit(i,n)},getHitSpan:function(e){return this.getCellRange(e.row,e.col)},getHitEl:function(e){return this.getCellEl(e.row,e.col)},getCellHit:function(e,t){return{row:e,col:t,component:this,left:this.colCoordCache.getLeftOffset(t),right:this.colCoordCache.getRightOffset(t),top:this.rowCoordCache.getTopOffset(e),bottom:this.rowCoordCache.getBottomOffset(e)}},getCellEl:function(e,t){return this.cellEls.eq(e*this.colCnt+t)},renderDrag:function(e,t){if(this.renderHighlight(this.eventToSpan(e)),t&&!t.el.closest(this.el).length)return this.renderEventLocationHelper(e,t)},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(e,t){return this.renderHighlight(this.eventToSpan(e)),this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(t,n){var i,r=[],o=this.eventToSegs(t);return o=this.renderFgSegEls(o),i=this.renderSegRows(o),this.rowEls.each(function(t,o){var a,s=e(o),l=e('<div class="fc-helper-skeleton"><table/></div>');a=n&&n.row===t?n.el.position().top:s.find(".fc-content-skeleton tbody").position().top,l.css("top",a).find("table").append(i[t].tbodyEl),s.append(l),r.push(l[0])}),this.helperEls=e(r)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,n,i){var r,o,a,s=[];for(n=this.renderFillSegEls(t,n),r=0;r<n.length;r++)o=n[r],a=this.renderFillRow(t,o,i),this.rowEls.eq(o.row).append(a),s.push(a[0]);return this.elsByFill[t]=e(s),n},renderFillRow:function(t,n,i){var r,o,a=this.colCnt,s=n.leftCol,l=n.rightCol+1;return i=i||t.toLowerCase(),o=(r=e('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>')).find("tr"),s>0&&o.append('<td colspan="'+s+'"/>'),o.append(n.el.attr("colspan",l-s)),l<a&&o.append('<td colspan="'+(a-l)+'"/>'),this.bookendCells(o),r}});function Ve(e,t){var n,i;for(n=0;n<t.length;n++)if((i=t[n]).leftCol<=e.rightCol&&i.rightCol>=e.leftCol)return!0;return!1}function He(e,t){return e.leftCol-t.leftCol}Ge.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),Ie.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return Ie.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var n=e.grep(t,function(e){return e.event.allDay});return Ie.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(t){var n;return t=this.renderFgSegEls(t),n=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,i){e(i).find(".fc-content-skeleton > table").append(n[t].tbodyEl)}),t},unrenderFgSegs:function(){for(var e,t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(e){var t,n,i=[];for(t=this.groupSegRows(e),n=0;n<t.length;n++)i.push(this.renderSegRow(n,t[n]));return i},fgSegHtml:function(e,t){var n,i,r=this.view,o=e.event,a=r.isEventDraggable(o),s=!t&&o.allDay&&e.isStart&&r.isEventResizableFromStart(o),l=!t&&o.allDay&&e.isEnd&&r.isEventResizableFromEnd(o),u=this.getSegClasses(e,a,s||l),c=K(this.getSegSkinCss(e)),d="";return u.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(n=this.getEventTimeText(o))&&(d='<span class="fc-time">'+q(n)+"</span>"),i='<span class="fc-title">'+(q(o.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(o.url?' href="'+q(o.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+d:d+" "+i)+"</div>"+(s?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,n){var i,r,o,a,s,l,u,c=this.colCnt,d=this.buildSegLevels(n),p=Math.max(1,d.length),h=e("<tbody/>"),f=[],g=[],m=[];function v(t){for(;o<t;)(u=(m[i-1]||[])[o])?u.attr("rowspan",parseInt(u.attr("rowspan")||1,10)+1):(u=e("<td/>"),a.append(u)),g[i][o]=u,m[i][o]=u,o++}for(i=0;i<p;i++){if(r=d[i],o=0,a=e("<tr/>"),f.push([]),g.push([]),m.push([]),r)for(s=0;s<r.length;s++){for(v((l=r[s]).leftCol),u=e('<td class="fc-event-container"/>').append(l.el),l.leftCol!=l.rightCol?u.attr("colspan",l.rightCol-l.leftCol+1):m[i][o]=u;o<=l.rightCol;)g[i][o]=u,f[i][o]=l,o++;a.append(u)}v(c),this.bookendCells(a),h.append(a)}return{row:t,tbodyEl:h,cellMatrix:g,segMatrix:f,segLevels:d,segs:n}},buildSegLevels:function(e){var t,n,i,r=[];for(this.sortEventSegs(e),t=0;t<e.length;t++){for(n=e[t],i=0;i<r.length&&Ve(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;i<r.length;i++)r[i].sort(He);return r},groupSegRows:function(e){var t,n=[];for(t=0;t<this.rowCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].row].push(e[t]);return n}}),Ge.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(e){var t,n,i=this.rowStructs||[];for(t=0;t<i.length;t++)this.unlimitRow(t),!1!==(n=!!e&&("number"==typeof e?e:this.computeRowLevelLimit(t)))&&this.limitRow(t,n)},computeRowLevelLimit:function(t){var n,i,r,o=this.rowEls.eq(t).height(),a=this.rowStructs[t].tbodyEl.children();function s(t,n){r=Math.max(r,e(n).outerHeight())}for(n=0;n<a.length;n++)if(i=a.eq(n).removeClass("fc-limited"),r=0,i.find("> td > :first-child").each(s),i.position().top+r>o)return n;return!1},limitRow:function(t,n){var i,r,o,a,s,l,u,c,d,p,h,f,g,m,v,y=this,b=this.rowStructs[t],w=[],$=0;function C(i){for(;$<i;)(l=y.getCellSegs(t,$,n)).length&&(d=r[n-1][$],v=y.renderMoreLink(t,$,l),m=e("<div/>").append(v),d.append(m),w.push(m[0])),$++}if(n&&n<b.segLevels.length){for(i=b.segLevels[n-1],r=b.cellMatrix,o=b.tbodyEl.children().slice(n).addClass("fc-limited").get(),a=0;a<i.length;a++){for(C((s=i[a]).leftCol),c=[],u=0;$<=s.rightCol;)l=this.getCellSegs(t,$,n),c.push(l),u+=l.length,$++;if(u){for(p=(d=r[n-1][s.leftCol]).attr("rowspan")||1,h=[],f=0;f<c.length;f++)g=e('<td class="fc-more-cell"/>').attr("rowspan",p),l=c[f],v=this.renderMoreLink(t,s.leftCol+f,[s].concat(l)),m=e("<div/>").append(v),g.append(m),h.push(g[0]),w.push(g[0]);d.addClass("fc-limited").after(e(h)),o.push(d[0])}}C(this.colCnt),b.moreEls=e(w),b.limitedEls=e(o)}},unlimitRow:function(e){var t=this.rowStructs[e];t.moreEls&&(t.moreEls.remove(),t.moreEls=null),t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,n,i){var r=this,o=this.view;return e('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(a){var s=o.opt("eventLimitClick"),l=r.getCellDate(t,n),u=e(this),c=r.getCellEl(t,n),d=r.getCellSegs(t,n),p=r.resliceDaySegs(d,l),h=r.resliceDaySegs(i,l);"function"==typeof s&&(s=o.trigger("eventLimitClick",null,{date:l,dayEl:c,moreEl:u,segs:p,hiddenSegs:h},a)),"popover"===s?r.showSegPopover(t,n,u,p):"string"==typeof s&&o.calendar.zoomTo(l,s)})},showSegPopover:function(e,t,n,i){var r,o,a=this,s=this.view,l=n.parent();r=1==this.rowCnt?s.el:this.rowEls.eq(e),o={className:"fc-more-popover",content:this.renderSegPopoverContent(e,t,i),parentEl:this.el,top:r.offset().top,autoHide:!0,viewportConstrain:s.opt("popoverViewportConstrain"),hide:function(){a.segPopover.removeElement(),a.segPopover=null,a.popoverSegs=null}},this.isRTL?o.right=l.offset().left+l.outerWidth()+1:o.left=l.offset().left-1,this.segPopover=new De(o),this.segPopover.show()},renderSegPopoverContent:function(t,n,i){var r,o=this.view,a=o.opt("theme"),s=this.getCellDate(t,n).format(o.opt("dayPopoverFormat")),l=e('<div class="fc-header '+o.widgetHeaderClass+'"><span class="fc-close '+(a?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+q(s)+'</span><div class="fc-clear"/></div><div class="fc-body '+o.widgetContentClass+'"><div class="fc-event-container"></div></div>'),u=l.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,r=0;r<i.length;r++)this.prepareHits(),i[r].hit=this.getCellHit(t,n),this.releaseHits(),u.append(i[r].el);return l},resliceDaySegs:function(t,n){var i=e.map(t,function(e){return e.event}),r=n.clone(),o={start:r,end:r.clone().add(1,"days")};return t=this.eventsToSegs(i,function(e){var t=T(e,o);return t?[t]:[]}),this.sortEventSegs(t),t},getMoreLinkText:function(e){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(e):"+"+e+" "+t},getCellSegs:function(e,t,n){for(var i,r=this.rowStructs[e].segMatrix,o=n||0,a=[];o<r.length;)(i=r[o][t])&&a.push(i),o++;return a}});var je=n.TimeGrid=Ie.extend(Fe,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){Ie.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new _e({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new _e({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var e,n,i,r=this.view,o=this.isRTL,a="",s=t.duration(+this.minTime);s<this.maxTime;)e=this.start.clone().time(s),n=X(N(s,this.labelInterval)),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(n?"<span>"+q(e.format(this.labelFormat))+"</span>":"")+"</td>",a+='<tr data-time="'+e.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(o?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(o?i:"")+"</tr>",s.add(this.slotDuration);return a},processOptions:function(){var n,i=this.view,r=i.opt("slotDuration"),o=i.opt("snapDuration");r=t.duration(r),o=o?t.duration(o):r,this.slotDuration=r,this.snapDuration=o,this.snapsPerSlot=r/o,this.minResizeDuration=o,this.minTime=t.duration(i.opt("minTime")),this.maxTime=t.duration(i.opt("maxTime")),n=i.opt("slotLabelFormat"),e.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||i.opt("axisFormat")||i.opt("smallTimeFormat"),n=i.opt("slotLabelInterval"),this.labelInterval=n?t.duration(n):this.computeLabelInterval(r)},computeLabelInterval:function(e){var n,i,r;for(n=ct.length-1;n>=0;n--)if(X(r=N(i=t.duration(ct[n]),e))&&r>1)return i;return t.duration(e)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(e,t){var n=this.snapsPerSlot,i=this.colCoordCache,r=this.slatCoordCache,o=i.getHorizontalIndex(e),a=r.getVerticalIndex(t);if(null!=o&&null!=a){var s=r.getTopOffset(a),l=r.getHeight(a),u=(t-s)/l,c=Math.floor(u*n),d=s+c/n*l,p=s+(c+1)/n*l;return{col:o,snap:a*n+c,component:this,left:i.getLeftOffset(o),right:i.getRightOffset(o),top:d,bottom:p}}},getHitSpan:function(e){var t=this.getCellDate(0,e.col),n=this.computeSnapTime(e.snap);return t.time(n),{start:t,end:t.clone().add(this.snapDuration)}},getHitEl:function(e){return this.colEls.eq(e.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(e){return t.duration(this.minTime+this.snapDuration*e)},spanToSegs:function(e){var t,n=this.sliceRangeByTimes(e);for(t=0;t<n.length;t++)this.isRTL?n[t].col=this.daysPerRow-1-n[t].dayIndex:n[t].col=n[t].dayIndex;return n},sliceRangeByTimes:function(e){var t,n,i,r=[];for(n=0;n<this.daysPerRow;n++)(t=T(e,{start:(i=this.dayDates[n].clone()).clone().time(this.minTime),end:i.clone().time(this.maxTime)}))&&(t.dayIndex=n,r.push(t));return r},updateSize:function(e){this.slatCoordCache.build(),e&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(e,n){return this.computeTimeTop(t.duration(e-n.clone().stripTime()))},computeTimeTop:function(e){var t,n,i=this.slatEls.length,r=(e-this.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(i,r),t=Math.floor(r),n=r-(t=Math.min(t,i-1)),this.slatCoordCache.getTopPosition(t)+this.slatCoordCache.getHeight(t)*n},renderDrag:function(e,t){if(t)return this.renderEventLocationHelper(e,t);this.renderHighlight(this.eventToSpan(e))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(e,t){return this.renderEventLocationHelper(e,t)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(e,t){return this.renderHelperSegs(this.eventToSegs(e),t)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(),t=this.eventsToSegs(e);this.renderBusinessSegs(t)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(t){var n,i=this.spanToSegs({start:t,end:t}),r=this.computeDateTop(t,t),o=[];for(n=0;n<i.length;n++)o.push(e('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",r).appendTo(this.colContainerEls.eq(i[n].col))[0]);i.length>0&&o.push(e('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",r).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=e(o)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(e){this.view.opt("selectHelper")?this.renderEventLocationHelper(e):this.renderHighlight(e)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(e){this.renderHighlightSegs(this.spanToSegs(e))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});function ze(e){var t,n,i=e.forwardSegs,r=0;if(void 0===e.forwardPressure){for(t=0;t<i.length;t++)ze(n=i[t]),r=Math.max(r,1+n.forwardPressure);e.forwardPressure=r}}function Ue(e,t,n){n=n||[];for(var i=0;i<t.length;i++)r=e,o=t[i],r.bottom>o.top&&r.top<o.bottom&&n.push(t[i]);var r,o;return n}je.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var t,n,i="";for(t=0;t<this.colCnt;t++)i+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';n=e('<div class="fc-content-skeleton"><table><tr>'+i+"</tr></table></div>"),this.colContainerEls=n.find(".fc-content-col"),this.helperContainerEls=n.find(".fc-helper-container"),this.fgContainerEls=n.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=n.find(".fc-bgevent-container"),this.highlightContainerEls=n.find(".fc-highlight-container"),this.businessContainerEls=n.find(".fc-business-container"),this.bookendCells(n.find("tr")),this.el.append(n)},renderFgSegs:function(e){return e=this.renderFgSegsIntoContainers(e,this.fgContainerEls),this.fgSegs=e,e},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(t,n){var i,r,o,a=[];for(t=this.renderFgSegsIntoContainers(t,this.helperContainerEls),i=0;i<t.length;i++)r=t[i],n&&n.col===r.col&&(o=n.el,r.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")})),a.push(r.el[0]);return this.helperSegs=t,e(a)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(e){return e=this.renderFillSegEls("bgEvent",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.bgContainerEls),this.bgSegs=e,e},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(e){e=this.renderFillSegEls("highlight",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.highlightContainerEls),this.highlightSegs=e},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(e){e=this.renderFillSegEls("businessHours",e),this.updateSegVerticals(e),this.attachSegsByCol(this.groupSegsByCol(e),this.businessContainerEls),this.businessSegs=e},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].col].push(e[t]);return n},attachSegsByCol:function(e,t){var n,i,r;for(n=0;n<this.colCnt;n++)for(i=e[n],r=0;r<i.length;r++)t.eq(n).append(i[r].el)},unrenderNamedSegs:function(e){var t,n=this[e];if(n){for(t=0;t<n.length;t++)n[t].el.remove();this[e]=null}},renderFgSegsIntoContainers:function(e,t){var n,i;for(e=this.renderFgSegEls(e),n=this.groupSegsByCol(e),i=0;i<this.colCnt;i++)this.updateFgSegCoords(n[i]);return this.attachSegsByCol(n,t),e},fgSegHtml:function(e,t){var n,i,r,o=this.view,a=e.event,s=o.isEventDraggable(a),l=!t&&e.isStart&&o.isEventResizableFromStart(a),u=!t&&e.isEnd&&o.isEventResizableFromEnd(a),c=this.getSegClasses(e,s,l||u),d=K(this.getSegSkinCss(e));return c.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(a)?(e.isStart||e.isEnd)&&(n=this.getEventTimeText(e),i=this.getEventTimeText(e,"LT"),r=this.getEventTimeText(e,null,!1)):(n=this.getEventTimeText(a),i=this.getEventTimeText(a,"LT"),r=this.getEventTimeText(a,null,!1)),'<a class="'+c.join(" ")+'"'+(a.url?' href="'+q(a.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+q(r)+'" data-full="'+q(i)+'"><span>'+q(n)+"</span></div>":"")+(a.title?'<div class="fc-title">'+q(a.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(e){this.computeSegVerticals(e),this.assignSegVerticals(e)},computeSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)(n=e[t]).top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},assignSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)(n=e[t]).el.css(this.generateSegVerticalCss(n))},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},updateFgSegCoords:function(e){this.computeSegVerticals(e),this.computeFgSegHorizontals(e),this.assignSegVerticals(e),this.assignFgSegHorizontals(e)},computeFgSegHorizontals:function(e){var t,n,i;if(this.sortEventSegs(e),function(e){var t,n,i,r,o;for(t=0;t<e.length;t++)for(n=e[t],i=0;i<n.length;i++)for((r=n[i]).forwardSegs=[],o=t+1;o<e.length;o++)Ue(r,e[o],r.forwardSegs)}(t=function(e){var t,n,i,r=[];for(t=0;t<e.length;t++){for(n=e[t],i=0;i<r.length&&Ue(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}(e)),n=t[0]){for(i=0;i<n.length;i++)ze(n[i]);for(i=0;i<n.length;i++)this.computeFgSegForwardBack(n[i],0,0)}},computeFgSegForwardBack:function(e,t,n){var i,r=e.forwardSegs;if(void 0===e.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],t+1,n),e.forwardCoord=r[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),i=0;i<r.length;i++)this.computeFgSegForwardBack(r[i],0,e.forwardCoord)},sortForwardSegs:function(e){e.sort(J(this,"compareForwardSegs"))},compareForwardSegs:function(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||this.compareEventSegs(e,t)},assignFgSegHorizontals:function(e){var t,n;for(t=0;t<e.length;t++)(n=e[t]).el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},generateFgSegHorizontalCss:function(e){var t,n,i=this.view.opt("slotEventOverlap"),r=e.backwardCoord,o=e.forwardCoord,a=this.generateSegVerticalCss(e);return i&&(o=Math.min(1,r+2*(o-r))),this.isRTL?(t=1-o,n=r):(t=r,n=1-o),a.zIndex=e.level+1,a.left=100*t+"%",a.right=100*n+"%",i&&e.forwardPressure&&(a[this.isRTL?"marginLeft":"marginRight"]=20),a}});var We=n.View=$e.extend(xe,Ee,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(e,n,i,r){this.calendar=e,this.type=this.name=n,this.options=i,this.intervalDuration=r||t.duration(1,"day"),this.nextDayThreshold=t.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=k(this.opt("eventOrder")),this.initialize()},initialize:function(){},opt:function(e){return this.options[e]},trigger:function(e,t){var n=this.calendar;return n.trigger.apply(n,[e,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(e){this.setRange(this.computeRange(e))},setRange:function(t){e.extend(this,t),this.updateTitle()},computeRange:function(e){var t,n,i=R(this.intervalDuration),r=e.clone().startOf(i),o=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),o.stripTime()):(r.hasTime()||(r=this.calendar.time(0)),o.hasTime()||(o=this.calendar.time(0))),t=r.clone(),t=this.skipHiddenDays(t),n=o.clone(),{intervalUnit:i,intervalStart:r,intervalEnd:o,start:t,end:n=this.skipHiddenDays(n,-1,!0)}},computePrevDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(e,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(e)&&(e=this.skipHiddenDays(e,t)).startOf("day"),e},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(e,t,n){var i=e.end;return i.hasTime()||(i=i.clone().subtract(1)),me(e.start,i,t,n,this.opt("isRTL"))},setElement:function(e){this.el=e,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(e){var t=this,n=null;return this.displaying&&(n=this.queryScroll()),this.calendar.freezeContentHeight(),ee(this.clear(),function(){return t.displaying=ee(t.displayView(e),function(){t.forceScroll(t.computeInitialScroll(n)),t.calendar.unfreezeContentHeight(),t.triggerRender()})})},clear:function(){var t=this,n=this.displaying;return n?ee(n,function(){return t.displaying=null,t.clearEvents(),t.clearView()}):e.when()},displayView:function(e){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),e&&this.setDate(e),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(e(document),"mousedown",this.handleDocumentMousedown),this.listenTo(e(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(e(document))},initThemingProps:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var e,n,i,r=this;this.opt("nowIndicator")&&(e=this.getNowIndicatorUnit())&&(n=J(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,i=this.initialNowDate.clone().startOf(e).add(1,e)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){r.nowIndicatorTimeoutID=null,n(),i=+t.duration(1,e),i=Math.max(100,i),r.nowIndicatorIntervalID=setInterval(n,i)},i))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(e){},unrenderNowIndicator:function(){},updateSize:function(e){var t;e&&(t=this.queryScroll()),this.updateHeight(e),this.updateWidth(e),this.updateNowIndicator(),e&&this.setScroll(t)},updateWidth:function(e){},updateHeight:function(e){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(e,t){},computeInitialScroll:function(e){return 0},queryScroll:function(){},setScroll:function(e){},forceScroll:function(e){var t=this;this.setScroll(e),setTimeout(function(){t.setScroll(e)},0)},displayEvents:function(e){var t=this.queryScroll();this.clearEvents(),this.renderEvents(e),this.isEventsRendered=!0,this.setScroll(t),this.triggerEventRender()},clearEvents:function(){var e;this.isEventsRendered&&(e=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(e),this.isEventsRendered=!1)},renderEvents:function(e){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(e){this.trigger("eventAfterRender",e.event,e.event,e.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(e){this.trigger("eventDestroy",e.event,e.event,e.el)})},resolveEventEl:function(t,n){var i=this.trigger("eventRender",t,t,n);return!1===i?n=null:i&&!0!==i&&(n=e(i)),n},showEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","")},e)},hideEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","hidden")},e)},renderedEventSegEach:function(e,t){var n,i=this.getEventSegs();for(n=0;n<i.length;n++)t&&i[n].event._id!==t._id||i[n].el&&e.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(e){var t=e.source||{};return B(e.startEditable,t.startEditable,this.opt("eventStartEditable"),e.editable,t.editable,this.opt("editable"))},reportEventDrop:function(e,t,n,i,r){var o=this.calendar,a=o.mutateEvent(e,t,n);this.triggerEventDrop(e,a.dateDelta,function(){a.undo(),o.reportEventChange()},i,r),o.reportEventChange()},triggerEventDrop:function(e,t,n,i,r){this.trigger("eventDrop",i[0],e,t,n,r,{})},reportExternalDrop:function(t,n,i,r,o){var a,s,l=t.eventProps;l&&(a=e.extend({},l,n),s=this.calendar.renderEvent(a,t.stick)[0]),this.triggerExternalDrop(s,n,i,r,o)},triggerExternalDrop:function(e,t,n,i,r){this.trigger("drop",n[0],t.start,i,r),e&&this.trigger("eventReceive",null,e)},renderDrag:function(e,t){},unrenderDrag:function(){},isEventResizableFromStart:function(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function(e){return this.isEventResizable(e)},isEventResizable:function(e){var t=e.source||{};return B(e.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),e.editable,t.editable,this.opt("editable"))},reportEventResize:function(e,t,n,i,r){var o=this.calendar,a=o.mutateEvent(e,t,n);this.triggerEventResize(e,a.durationDelta,function(){a.undo(),o.reportEventChange()},i,r),o.reportEventChange()},triggerEventResize:function(e,t,n,i,r){this.trigger("eventResize",i[0],e,t,n,r,{})},select:function(e,t){this.unselect(t),this.renderSelection(e),this.reportSelection(e,t)},renderSelection:function(e){},reportSelection:function(e,t){this.isSelected=!0,this.triggerSelect(e,t)},triggerSelect:function(e,t){this.trigger("select",null,this.calendar.applyTimezone(e.start),this.calendar.applyTimezone(e.end),t)},unselect:function(e){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,e))},unrenderSelection:function(){},selectEvent:function(e){this.selectedEvent&&this.selectedEvent===e||(this.unselectEvent(),this.renderedEventSegEach(function(e){e.el.addClass("fc-selected")},e),this.selectedEvent=e)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(e){e.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(e){return this.selectedEvent&&this.selectedEvent._id===e._id},handleDocumentMousedown:function(e){w(e)&&this.processUnselect(e)},processUnselect:function(e){this.processRangeUnselect(e),this.processEventUnselect(e)},processRangeUnselect:function(t){var n;this.isSelected&&this.opt("unselectAuto")&&((n=this.opt("unselectCancel"))&&e(t.target).closest(n).length||this.unselect(t))},processEventUnselect:function(t){this.selectedEvent&&(e(t.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(e,t,n){this.trigger("dayClick",t,this.calendar.applyTimezone(e.start),n)},initHiddenDays:function(){var t,n=this.opt("hiddenDays")||[],i=[],r=0;for(!1===this.opt("weekends")&&n.push(0,6),t=0;t<7;t++)(i[t]=-1!==e.inArray(t,n))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(e){return t.isMoment(e)&&(e=e.day()),this.isHiddenDayHash[e]},skipHiddenDays:function(e,t,n){var i=e.clone();for(t=t||1;this.isHiddenDayHash[(i.day()+(n?t:0)+7)%7];)i.add(t,"days");return i},computeDayRange:function(e){var t,n=e.start.clone().stripTime(),i=e.end,r=null;return i&&(r=i.clone().stripTime(),(t=+i.time())&&t>=this.nextDayThreshold&&r.add(1,"days")),(!i||r<=n)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(e){var t=this.computeDayRange(e);return t.end.diff(t.start,"days")>1}}),Be=n.Scroller=$e.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(e){e=e||{},this.overflowX=e.overflowX||e.overflow||"auto",this.overflowY=e.overflowY||e.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=e('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(e){var t=this.overflowX,n=this.overflowY;e=e||this.getScrollbarWidths(),"auto"===t&&(t=e.top||e.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===n&&(n=e.left||e.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":t,"overflow-y":n})},setHeight:function(e){this.scrollEl.height(e)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(e){this.scrollEl.scrollTop(e)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return v(this.scrollEl)}}),qe=n.Calendar=$e.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:function(i,r){var o=this;o.initOptions(r||{});var a=this.options;o.render=function(){p?x()&&(D(),E()):function(){a.theme?"ui":"fc",i.addClass("fc"),a.isRTL?i.addClass("fc-rtl"):i.addClass("fc-ltr");a.theme?i.addClass("ui-widget"):i.addClass("fc-unthemed");p=e("<div class='fc-view-container'/>").prependTo(i),c=o.header=new function(t,n){var i=this;i.render=function(){var t=n.header;if(r=n.theme?"ui":"fc",t)return o=e("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>')},i.removeElement=function(){o.remove(),o=e()},i.updateTitle=function(e){o.find("h2").text(e)},i.activateButton=function(e){o.find(".fc-"+e+"-button").addClass(r+"-state-active")},i.deactivateButton=function(e){o.find(".fc-"+e+"-button").removeClass(r+"-state-active")},i.disableButton=function(e){o.find(".fc-"+e+"-button").prop("disabled",!0).addClass(r+"-state-disabled")},i.enableButton=function(e){o.find(".fc-"+e+"-button").prop("disabled",!1).removeClass(r+"-state-disabled")},i.getViewsWithButtons=function(){return a};var r,o=e(),a=[];function s(i){var o=e('<div class="fc-'+i+'"/>'),s=n.header[i];return s&&e.each(s.split(" "),function(i){var s,l=e(),u=!0;e.each(this.split(","),function(i,o){var s,c,d,p,h,f,g,m,v;"title"==o?(l=l.add(e("<h2>&nbsp;</h2>")),u=!1):((s=(t.options.customButtons||{})[o])?(d=function(e){s.click&&s.click.call(v[0],e)},p="",h=s.text):(c=t.getViewSpec(o))?(d=function(){t.changeView(o)},a.push(o),p=c.buttonTextOverride,h=c.buttonTextDefault):t[o]&&(d=function(){t[o]()},p=(t.overrides.buttonText||{})[o],h=n.buttonText[o]),d&&(f=s?s.themeIcon:n.themeButtonIcons[o],g=s?s.icon:n.buttonIcons[o],m=p?q(p):f&&n.theme?"<span class='ui-icon ui-icon-"+f+"'></span>":g&&!n.theme?"<span class='fc-icon fc-icon-"+g+"'></span>":q(h),v=e('<button type="button" class="'+["fc-"+o+"-button",r+"-button",r+"-state-default"].join(" ")+'">'+m+"</button>").click(function(e){v.hasClass(r+"-state-disabled")||(d(e),(v.hasClass(r+"-state-active")||v.hasClass(r+"-state-disabled"))&&v.removeClass(r+"-state-hover"))}).mousedown(function(){v.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-down")}).mouseup(function(){v.removeClass(r+"-state-down")}).hover(function(){v.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-hover")},function(){v.removeClass(r+"-state-hover").removeClass(r+"-state-down")}),l=l.add(v)))}),u&&l.first().addClass(r+"-corner-left").end().last().addClass(r+"-corner-right").end(),l.length>1?(s=e("<div/>"),u&&s.addClass("fc-button-group"),s.append(l),o.append(s)):o.append(l)}),o}}(o,a),(d=c.render())&&i.prepend(d);E(a.defaultView),a.handleWindowResize&&(g=Q(M,a.windowResizeDelay),e(window).resize(g))}()},o.destroy=function(){h&&h.removeElement();c.removeElement(),p.remove(),i.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),g&&e(window).unbind("resize",g)},o.refetchEvents=function(){O()},o.refetchEventSources=function(e){b(o.getEventSourcesByMatchArray(e))},o.reportEvents=function(e){S=e,T()},o.reportEventChange=function(){T()},o.rerenderEvents=T,o.changeView=E,o.select=function(e,t){h.select(o.buildSelectSpan.apply(o,arguments))},o.unselect=function(){h&&h.unselect()},o.prev=function(){m=h.computePrevDate(m),E()},o.next=function(){m=h.computeNextDate(m),E()},o.prevYear=function(){m.add(-1,"years"),E()},o.nextYear=function(){m.add(1,"years"),E()},o.today=function(){m=o.getNow(),E()},o.gotoDate=function(e){m=o.moment(e).stripZone(),E()},o.incrementDate=function(e){m.add(t.duration(e)),E()},o.zoomTo=function(e,t){var n;t=t||"day",n=o.getViewSpec(t)||o.getUnitViewSpec(t),m=e.clone(),E(n?n.type:null)},o.getDate=function(){return o.applyTimezone(m)},o.getCalendar=function(){return o},o.getView=function(){return h},o.option=function(e,t){if(void 0===t)return a[e];"height"!=e&&"contentHeight"!=e&&"aspectRatio"!=e||(a[e]=t,k(!0))},o.trigger=function(e,t){var n=Array.prototype.slice.call(arguments,2);if(t=t||w,this.triggerWith(e,t,n),a[e])return a[e].apply(t,n)};var s=j(Qe(a.lang));a.monthNames&&(s._months=a.monthNames);a.monthNamesShort&&(s._monthsShort=a.monthNamesShort);a.dayNames&&(s._weekdays=a.dayNames);a.dayNamesShort&&(s._weekdaysShort=a.dayNamesShort);if(null!=a.firstDay){var l=j(s._week);l.dow=a.firstDay,s._week=l}s._fullCalendar_weekCalc=(u=a.weekNumberCalculation,"function"==typeof u?u:"local"===u?u:"iso"===u||"ISO"===u?"ISO":void 0),o.defaultAllDayEventDuration=t.duration(a.defaultAllDayEventDuration),o.defaultTimedEventDuration=t.duration(a.defaultTimedEventDuration),o.moment=function(){var e;return"local"===a.timezone?(e=n.moment.apply(null,arguments)).hasTime()&&e.local():e="UTC"===a.timezone?n.moment.utc.apply(null,arguments):n.moment.parseZone.apply(null,arguments),"_locale"in e?e._locale=s:e._lang=s,e},o.getIsAmbigTimezone=function(){return"local"!==a.timezone&&"UTC"!==a.timezone},o.applyTimezone=function(e){if(!e.hasTime())return e.clone();var t,n=o.moment(e.toArray()),i=e.time()-n.time();return i&&(t=n.clone().add(i),e.time()-t.time()==0&&(n=t)),n},o.getNow=function(){var e=a.now;return"function"==typeof e&&(e=e()),o.moment(e).stripZone()},o.getEventEnd=function(e){return e.end?e.end.clone():o.getDefaultEventEnd(e.allDay,e.start)},o.getDefaultEventEnd=function(e,t){var n=t.clone();return e?n.stripTime().add(o.defaultAllDayEventDuration):n.add(o.defaultTimedEventDuration),o.getIsAmbigTimezone()&&n.stripZone(),n},o.humanizeDuration=function(e){return(e.locale||e.lang).call(e,a.lang).humanize()},function(i){var r=this;r.isFetchNeeded=function(e,t){return!o||e<o||t>a},r.fetchEvents=function(e,t){o=e,a=t,p(u,"reset")},r.fetchEventSources=p,r.getEventSources=function(){return u.slice(1)},r.getEventSourceById=y,r.getEventSourcesByMatchArray=b,r.getEventSourcesByMatch=w,r.addEventSource=function(e){var t=m(e);t&&(u.push(t),p([t],"add"))},r.removeEventSource=function(e){v(w(e))},r.removeEventSources=function(e){null==e?v(u,!0):v(b(e))},r.updateEvent=function(t){t.start=r.moment(t.start),t.end?t.end=r.moment(t.end):t.end=null;T(t,function(t){var n={};return e.each(t,function(t,i){S(t)&&void 0!==i&&function(t){return/undefined|null|boolean|number|string/.test(e.type(t))}(i)&&(n[t]=i)}),n}(t)),s(d)},r.renderEvent=function(e,t){var n,i,r,o=E(e);if(o){for(n=M(o),i=0;i<n.length;i++)(r=n[i]).source||(t&&(l.events.push(r),r.source=l),d.push(r));return s(d),n}return[]},r.removeEvents=function(t){var n,i;null==t?t=function(){return!0}:e.isFunction(t)||(n=t+"",t=function(e){return e._id==n});for(d=e.grep(d,t,!0),i=0;i<u.length;i++)e.isArray(u[i].events)&&(u[i].events=e.grep(u[i].events,t,!0));s(d)},r.clientEvents=x,r.mutateEvent=T,r.normalizeEventDates=D,r.normalizeEventTimes=_;var o,a,s=r.reportEvents,l={events:[]},u=[l],c=0,d=[];function p(e,t){var n,i;for("reset"===t?d=[]:"add"!==t&&(d=C(d,e)),n=0;n<e.length;n++)"pending"!==(i=e[n])._status&&c++,i._fetchId=(i._fetchId||0)+1,i._status="pending";for(n=0;n<e.length;n++)h(i=e[n],i._fetchId)}function h(t,s){!function t(s,l){var u;var c=n.sourceFetchers;var d;for(u=0;u<c.length;u++){if(!0===(d=c[u].call(r,s,o.clone(),a.clone(),i.timezone,l)))return;if("object"==typeof d)return void t(d,l)}var p=s.events;if(p)e.isFunction(p)?(r.pushLoading(),p.call(r,o.clone(),a.clone(),i.timezone,function(e){l(e),r.popLoading()})):e.isArray(p)?l(p):l();else{var h=s.url;if(h){var f,g=s.success,m=s.error,v=s.complete;f=e.isFunction(s.data)?s.data():s.data;var y=e.extend({},f||{}),b=B(s.startParam,i.startParam),w=B(s.endParam,i.endParam),$=B(s.timezoneParam,i.timezoneParam);b&&(y[b]=o.format()),w&&(y[w]=a.format()),i.timezone&&"local"!=i.timezone&&(y[$]=i.timezone),r.pushLoading(),e.ajax(e.extend({},et,s,{data:y,success:function(t){t=t||[];var n=W(g,this,arguments);e.isArray(n)&&(t=n),l(t)},error:function(){W(m,this,arguments),l()},complete:function(){W(v,this,arguments),r.popLoading()}}))}else l()}}(t,function(n){var i,r,o,a=e.isArray(t.events);if(s===t._fetchId&&"rejected"!==t._status){if(t._status="resolved",n)for(i=0;i<n.length;i++)r=n[i],(o=a?r:E(r,t))&&d.push.apply(d,M(o));g()}})}function f(e){var t="pending"===e._status;e._status="rejected",t&&g()}function g(){--c||s(d)}function m(t){var i,o,a=n.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?i={events:t}:"string"==typeof t?i={url:t}:"object"==typeof t&&(i=e.extend({},t)),i){for(i.className?"string"==typeof i.className&&(i.className=i.className.split(/\s+/)):i.className=[],e.isArray(i.events)&&(i.origArray=i.events,i.events=e.map(i.events,function(e){return E(e,i)})),o=0;o<a.length;o++)a[o].call(r,i);return i}}function v(t,n){var i;for(i=0;i<t.length;i++)f(t[i]);n?(u=[],d=[]):(u=e.grep(u,function(e){for(i=0;i<t.length;i++)if(e===t[i])return!1;return!0}),d=C(d,t)),s(d)}function y(t){return e.grep(u,function(e){return e.id&&e.id===t})[0]}function b(t){t?e.isArray(t)||(t=[t]):t=[];var n,i=[];for(n=0;n<t.length;n++)i.push.apply(i,w(t[n]));return i}function w(t){var n,i;for(n=0;n<u.length;n++)if((i=u[n])===t)return[i];return(i=y(t))?[i]:e.grep(u,function(e){return i=e,(n=t)&&i&&$(n)==$(i);var n,i})}function $(e){return("object"==typeof e?e.origArray||e.googleCalendarId||e.url||e.events:null)||e}function C(t,n){return e.grep(t,function(e){for(var t=0;t<n.length;t++)if(e.source===n[t])return!1;return!0})}function S(e){return!/^_|^(id|allDay|start|end)$/.test(e)}function x(t){return e.isFunction(t)?e.grep(d,t):null!=t?(t+="",e.grep(d,function(e){return e._id==t})):d}function E(n,o){var a,s,l,u={};if(i.eventDataTransform&&(n=i.eventDataTransform(n)),o&&o.eventDataTransform&&(n=o.eventDataTransform(n)),e.extend(u,n),o&&(u.source=o),u._id=n._id||(void 0===n.id?"_fc"+tt++:n.id+""),n.className?"string"==typeof n.className?u.className=n.className.split(/\s+/):u.className=n.className:u.className=[],a=n.start||n.date,s=n.end,G(a)&&(a=t.duration(a)),G(s)&&(s=t.duration(s)),n.dow||t.isDuration(a)||t.isDuration(s))u.start=a?t.duration(a):null,u.end=s?t.duration(s):null,u._recurring=!0;else{if(a&&!(a=r.moment(a)).isValid())return!1;s&&((s=r.moment(s)).isValid()||(s=null)),void 0===(l=n.allDay)&&(l=B(o?o.allDayDefault:void 0,i.allDayDefault)),k(a,s,l,u)}return r.normalizeEvent(u),u}function k(e,t,n,i){i.start=e,i.end=t,i.allDay=n,D(i),nt(i)}function D(e){_(e),e.end&&!e.end.isAfter(e.start)&&(e.end=null),e.end||(i.forceEventDuration?e.end=r.getDefaultEventEnd(e.allDay,e.start):e.end=null)}function _(e){null==e.allDay&&(e.allDay=!(e.start.hasTime()||e.end&&e.end.hasTime())),e.allDay?(e.start.stripTime(),e.end&&e.end.stripTime()):(e.start.hasTime()||(e.start=r.applyTimezone(e.start.time(0))),e.end&&!e.end.hasTime()&&(e.end=r.applyTimezone(e.end.time(0))))}function M(t,n,i){var r,s,l,u,c,d,p,h,f,g=[];if(n=n||o,i=i||a,t)if(t._recurring){if(s=t.dow)for(r={},l=0;l<s.length;l++)r[s[l]]=!0;for(u=n.clone().stripTime();u.isBefore(i);)r&&!r[u.day()]||(c=t.start,d=t.end,p=u.clone(),h=null,c&&(p=p.time(c)),d&&(h=u.clone().time(d)),f=e.extend({},t),k(p,h,!c&&!d,f),g.push(f)),u.add(1,"days")}else g.push(t);return g}function T(n,i,o){var a,s,l,u,c,d,p={};function h(e,n){return o?I(e,n,o):i.allDay?(r=e,a=n,t.duration({days:r.clone().stripTime().diff(a.clone().stripTime(),"days")})):P(e,n);var r,a}return(i=i||{}).start||(i.start=n.start.clone()),void 0===i.end&&(i.end=n.end?n.end.clone():null),null==i.allDay&&(i.allDay=n.allDay),D(i),D(a={start:n._start.clone(),end:n._end?n._end.clone():r.getDefaultEventEnd(n._allDay,n._start),allDay:i.allDay}),s=null!==n._end&&null===i.end,l=h(i.start,a.start),i.end?(u=h(i.end,a.end),c=u.subtract(l)):c=null,e.each(i,function(e,t){S(e)&&void 0!==t&&(p[e]=t)}),d=function(t,n,i,o,a,s){var l=r.getIsAmbigTimezone(),u=[];o&&!o.valueOf()&&(o=null);a&&!a.valueOf()&&(a=null);return e.each(t,function(t,c){var d,p;d={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay},e.each(s,function(e){d[e]=c[e]}),D(p={start:c._start,end:c._end,allDay:i}),n?p.end=null:a&&!p.end&&(p.end=r.getDefaultEventEnd(p.allDay,p.start)),o&&(p.start.add(o),p.end&&p.end.add(o)),a&&p.end.add(a),l&&!p.allDay&&(o||a)&&(p.start.stripZone(),p.end&&p.end.stripZone()),e.extend(c,s,p),nt(c),u.push(function(){e.extend(c,d),nt(c)})}),function(){for(var e=0;e<u.length;e++)u[e]()}}(x(n._id),s,i.allDay,l,c,p),{dateDelta:l,durationDelta:c,undo:d}}function O(t){var n,o=i.businessHours,a=r.getView();return o&&(n=e.extend({},{className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},"object"==typeof o?o:{})),n?(t&&(n.start=null,n.end=null),M(E(n),a.start,a.end)):[]}function A(e,t){var n=t.source||{},r=B(t.constraint,n.constraint,i.eventConstraint),o=B(t.overlap,n.overlap,i.eventOverlap);return L(e,r,o,t)}function R(e){return L(e,i.selectConstraint,i.selectOverlap)}function L(e,t,n,i){var o,a,s,l,u,c;if(null!=t){for(o=function(e){if("businessHours"===e)return O();if("object"==typeof e)return M(E(e));return x(e)}(t),a=!1,l=0;l<o.length;l++)if(N(o[l],e)){a=!0;break}if(!a)return!1}for(s=r.getPeerEvents(e,i),l=0;l<s.length;l++)if(F(u=s[l],e)){if(!1===n)return!1;if("function"==typeof n&&!n(u,i))return!1;if(i){if(!1===(c=B(u.overlap,(u.source||{}).overlap)))return!1;if("function"==typeof c&&!c(i,u))return!1}}return!0}function N(e,t){var n=e.start.clone().stripZone(),i=r.getEventEnd(e).stripZone();return t.start>=n&&t.end<=i}function F(e,t){var n=e.start.clone().stripZone(),i=r.getEventEnd(e).stripZone();return t.start<i&&t.end>n}e.each((i.events?[i.events]:[]).concat(i.eventSources||[]),function(e,t){var n=m(t);n&&u.push(n)}),r.getBusinessHoursEvents=O,r.isEventSpanAllowed=A,r.isExternalSpanAllowed=function(t,n,i){var r,o;i&&(r=e.extend({},i,n),o=M(E(r))[0]);return o?A(t,o):R(t)},r.isSelectionSpanAllowed=R,r.getEventCache=function(){return d}}.call(o,a);var u;var c,d,p,h,f,g,m,v=o.isFetchNeeded,y=o.fetchEvents,b=o.fetchEventSources,w=i[0],$={},C=0,S=[];m=null!=a.defaultDate?o.moment(a.defaultDate).stripZone():o.getNow();function x(){return i.is(":visible")}function E(t){C++,h&&t&&h.type!==t&&(c.deactivateButton(h.type),A(),h.removeElement(),h=o.view=null),!h&&t&&((h=o.view=$[t]||($[t]=o.instantiateView(t))).setElement(e("<div class='fc-view fc-"+t+"-view' />").appendTo(p)),c.activateButton(t)),h&&(m=h.massageCurrentDate(m),h.displaying&&m.isWithin(h.intervalStart,h.intervalEnd)||x()&&(h.display(m),R(),c.updateTitle(h.title),o.getNow().isWithin(h.intervalStart,h.intervalEnd)?c.disableButton("today"):c.enableButton("today"),!a.lazyFetching||v(h.start,h.end)?O():T())),R(),C--}function k(e){if(x())return e&&_(),C++,h.updateSize(!0),C--,!0}function D(){x()&&_()}function _(){f="number"==typeof a.contentHeight?a.contentHeight:"number"==typeof a.height?a.height-(d?d.outerHeight(!0):0):Math.round(p.width()/Math.max(a.aspectRatio,.5))}function M(e){!C&&e.target===window&&h.start&&k(!0)&&h.trigger("windowResize",w)}function T(){x()&&(A(),h.displayEvents(S),R())}function O(){y(h.start,h.end)}function A(){p.css({width:"100%",height:p.height(),overflow:"hidden"})}function R(){p.css({width:"",height:"",overflow:""})}o.getSuggestedViewHeight=function(){return void 0===f&&D(),f},o.isHeightAuto=function(){return"auto"===a.contentHeight||"auto"===a.height},o.freezeContentHeight=A,o.unfreezeContentHeight=R,o.initialize()},initialize:function(){},initOptions:function(t){var n,i,a;n=(t=function(t){var n,i={views:t.views||{}};return e.each(t,function(t,o){"views"!=t&&(e.isPlainObject(o)&&!/(time|duration|interval)$/i.test(t)&&-1==e.inArray(t,r)?(n=null,e.each(o,function(e,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(e)?(i.views[e]||(i.views[e]={}),i.views[e][t]=r):(n||(n={}),n[e]=r)}),n&&(i[t]=n)):i[t]=o)}),i}(t)).lang,(i=Ye[n])||(n=qe.defaults.lang,i=Ye[n]||{}),a=B(t.isRTL,i.isRTL,qe.defaults.isRTL)?qe.rtlDefaults:{},this.dirDefaults=a,this.langDefaults=i,this.overrides=t,this.options=o([qe.defaults,a,i,t]),Je(this.options),this.viewSpecCache={}},getViewSpec:function(e){var t=this.viewSpecCache;return t[e]||(t[e]=this.buildViewSpec(e))},getUnitViewSpec:function(t){var i,r,o;if(-1!=e.inArray(t,A))for(i=this.header.getViewsWithButtons(),e.each(n.views,function(e){i.push(e)}),r=0;r<i.length;r++)if((o=this.getViewSpec(i[r]))&&o.singleUnit==t)return o},buildViewSpec:function(e){for(var n,r,a,s,l=this.overrides.views||{},u=[],c=[],d=[],p=e;p;)n=i[p],r=l[p],p=null,"function"==typeof n&&(n={class:n}),n&&(u.unshift(n),c.unshift(n.defaults||{}),a=a||n.duration,p=p||n.type),r&&(d.unshift(r),a=a||r.duration,p=p||r.type);return(n=H(u)).type=e,!!n.class&&(a&&(a=t.duration(a)).valueOf()&&(n.duration=a,s=R(a),1===a.as(s)&&(n.singleUnit=s,d.unshift(l[s]||{}))),n.defaults=o(c),n.overrides=o(d),this.buildViewSpecOptions(n),this.buildViewSpecButtonText(n,e),n)},buildViewSpecOptions:function(e){e.options=o([qe.defaults,e.defaults,this.dirDefaults,this.langDefaults,this.overrides,e.overrides]),Je(e.options)},buildViewSpecButtonText:function(e,t){function n(n){var i=n.buttonText||{};return i[t]||(e.singleUnit?i[e.singleUnit]:null)}e.buttonTextOverride=n(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||e.defaults.buttonText||n(qe.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||t},instantiateView:function(e){var t=this.getViewSpec(e);return new t.class(this,e,t.options,t.duration)},isValidViewType:function(e){return Boolean(this.getViewSpec(e))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(e,t){var n=this.moment(e).stripZone();return{start:n,end:t?this.moment(t).stripZone():n.hasTime()?n.clone().add(this.defaultTimedEventDuration):n.clone().add(this.defaultAllDayEventDuration)}}});qe.mixin(xe),qe.defaults={titleRangeSeparator:" – ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200,longPressDelay:1e3},qe.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},qe.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Ye=n.langs={};n.datepickerLang=function(t,n,i){var r=Ye[t]||(Ye[t]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,e.each(Ke,function(e,t){r[e]=t(i)}),e.datepicker&&(e.datepicker.regional[n]=e.datepicker.regional[t]=i,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(i))},n.lang=function(t,n){var i,r;i=Ye[t]||(Ye[t]={}),n&&(i=Ye[t]=o([i,n])),r=Qe(t),e.each(Ze,function(e,t){null==i[e]&&(i[e]=t(r,i))}),qe.defaults.lang=t};var Ke={buttonText:function(e){return{prev:Y(e.prevText),next:Y(e.nextText),today:Y(e.currentText)}},monthYearFormat:function(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},Ze={dayOfMonthFormat:function(e,t){var n=e.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},Xe={smallDayDateFormat:function(e){return e.isRTL?"D dd":"dd D"},weekFormat:function(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};function Je(t){e.each(Xe,function(e,n){null==t[e]&&(t[e]=n(t))})}function Qe(e){var n=t.localeData||t.langData;return n.call(t,e)||n.call(t,"en")}n.lang("en",qe.englishDefaults),n.sourceNormalizers=[],n.sourceFetchers=[];var et={dataType:"json",cache:!1},tt=1;function nt(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}qe.prototype.normalizeEvent=function(e){},qe.prototype.getPeerEvents=function(e,t){var n,i,r=this.getEventCache(),o=[];for(n=0;n<r.length;n++)i=r[n],t&&t._id===i._id||o.push(i);return o};var it=n.BasicView=We.extend({scroller:null,dayGridClass:Ge,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new Be({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){return new(this.dayGridClass.extend(rt))(this)},setRange:function(e){We.prototype.setRange.call(this,e),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(e)},computeRange:function(e){var t=We.prototype.computeRange.call(this,e);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var t=this.scroller.el.addClass("fc-day-grid-container"),n=e('<div class="fc-day-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t),this.dayGrid.setElement(n),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=p(this.el.find(".fc-week-number")))},setHeight:function(e,t){var n,i,r=this.opt("eventLimit");this.scroller.clear(),s(this.headRowEl),this.dayGrid.removeSegPopover(),r&&"number"==typeof r&&this.dayGrid.limitRows(r),n=this.computeScrollerHeight(e),this.setGridHeight(n,t),r&&"number"!=typeof r&&this.dayGrid.limitRows(r),t||(this.scroller.setHeight(n),((i=this.scroller.getScrollbarWidths()).left||i.right)&&(a(this.headRowEl,i),n=this.computeScrollerHeight(e),this.scroller.setHeight(n)),this.scroller.lockOverflow(i))},computeScrollerHeight:function(e){return e-h(this.el,this.scroller.el)},setGridHeight:function(e,t){t?d(this.dayGrid.rowEls):c(this.dayGrid.rowEls,e,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(e){this.scroller.setScrollTop(e)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(e,t){return this.dayGrid.queryHit(e,t)},getHitSpan:function(e){return this.dayGrid.getHitSpan(e)},getHitEl:function(e){return this.dayGrid.getHitEl(e)},renderEvents:function(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return this.dayGrid.renderDrag(e,t)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(e){this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),rt={renderHeadIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<th class="fc-week-number '+e.widgetHeaderClass+'" '+e.weekNumberStyleAttr()+"><span>"+q(e.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(e){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"><span>"+this.getCellDate(e,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number '+e.widgetContentClass+'" '+e.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"></td>":""}},ot=n.MonthView=it.extend({computeRange:function(e){var t,n=it.prototype.computeRange.call(this,e);return this.isFixedWeeks()&&(t=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-t,"weeks")),n},setGridHeight:function(e,t){(t=t||"variable"===this.opt("weekMode"))&&(e*=this.rowCnt/6),c(this.dayGrid.rowEls,e,!t)},isFixedWeeks:function(){var e=this.opt("weekMode");return e?"fixed"===e:this.opt("fixedWeekCount")}});i.basic={class:it},i.basicDay={type:"basic",duration:{days:1}},i.basicWeek={type:"basic",duration:{weeks:1}},i.month={class:ot,duration:{months:1},defaults:{fixedWeekCount:!0}};var at=n.AgendaView=We.extend({scroller:null,timeGridClass:je,timeGrid:null,dayGridClass:Ge,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new Be({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){return new(this.timeGridClass.extend(st))(this)},instantiateDayGrid:function(){return new(this.dayGridClass.extend(lt))(this)},setRange:function(e){We.prototype.setRange.call(this,e),this.timeGrid.setRange(e),this.dayGrid&&this.dayGrid.setRange(e)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var t=this.scroller.el.addClass("fc-time-grid-container"),n=e('<div class="fc-time-grid" />').appendTo(t);this.el.find(".fc-body > tr > td").append(t),this.timeGrid.setElement(n),this.timeGrid.renderDates(),this.bottomRuleEl=e('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(e){this.timeGrid.renderNowIndicator(e)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(e){this.timeGrid.updateSize(e),We.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=p(this.el.find(".fc-axis"))},setHeight:function(e,t){var n,i,r;this.bottomRuleEl.hide(),this.scroller.clear(),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),(n=this.opt("eventLimit"))&&"number"!=typeof n&&(n=ut),n&&this.dayGrid.limitRows(n)),t||(i=this.computeScrollerHeight(e),this.scroller.setHeight(i),((r=this.scroller.getScrollbarWidths()).left||r.right)&&(a(this.noScrollRowEls,r),i=this.computeScrollerHeight(e),this.scroller.setHeight(i)),this.scroller.lockOverflow(r),this.timeGrid.getTotalSlatHeight()<i&&this.bottomRuleEl.show())},computeScrollerHeight:function(e){return e-h(this.el,this.scroller.el)},computeInitialScroll:function(){var e=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(e);return(n=Math.ceil(n))&&n++,n},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(e){this.scroller.setScrollTop(e)},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(e,t){var n=this.timeGrid.queryHit(e,t);return!n&&this.dayGrid&&(n=this.dayGrid.queryHit(e,t)),n},getHitSpan:function(e){return e.component.getHitSpan(e)},getHitEl:function(e){return e.component.getHitEl(e)},renderEvents:function(e){var t,n=[],i=[];for(t=0;t<e.length;t++)e[t].allDay?n.push(e[t]):i.push(e[t]);this.timeGrid.renderEvents(i),this.dayGrid&&this.dayGrid.renderEvents(n),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(e,t){return e.start.hasTime()?this.timeGrid.renderDrag(e,t):this.dayGrid?this.dayGrid.renderDrag(e,t):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),st={renderHeadIntroHtml:function(){var e,t=this.view;return t.opt("weekNumbers")?(e=this.start.format(t.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+"><span>"+q(e)+"</span></th>"):'<th class="fc-axis '+t.widgetHeaderClass+'" '+t.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},lt={renderBgIntroHtml:function(){var e=this.view;return'<td class="fc-axis '+e.widgetContentClass+'" '+e.axisStyleAttr()+"><span>"+(e.opt("allDayHtml")||q(e.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},ut=5,ct=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return i.agenda={class:at,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},i.agendaDay={type:"agenda",duration:{days:1}},i.agendaWeek={type:"agenda",duration:{weeks:1}},n}),angular.module("ui.calendar",[]).constant("uiCalendarConfig",{calendars:{}}).controller("uiCalendarCtrl",["$scope","$locale",function(e,t){var n=e.eventSources,i=e.calendarWatchEvent?e.calendarWatchEvent:angular.noop,r=1;this.eventFingerprint=function(e){e._id||(e._id=r++);var t=i({event:e})||"",n=moment.isMoment(e.start)?e.start.unix():e.start?moment(e.start).unix():"",o=moment.isMoment(e.end)?e.end.unix():e.end?moment(e.end).unix():"";return""+e._id+(e.id||"")+(e.title||"")+(e.url||"")+n+o+(e.allDay||"")+(e.className||"")+t};var o=1,a=1;this.sourceFingerprint=function(e){var t=""+(e.__id||(e.__id=o++)),n=angular.isObject(e)&&e.events;return n&&(t=t+"-"+(n.__id||(n.__id=a++))),t},this.allEvents=function(){for(var e=[],t=0,i=n.length;t<i;t++){var r=n[t];if(angular.isArray(r))e.push(r);else if(angular.isObject(r)&&angular.isArray(r.events)){var o={};for(var a in r)"_id"!==a&&"events"!==a&&(o[a]=r[a]);for(var s=0;s<r.events.length;s++)angular.extend(r.events[s],o);e.push(r.events)}}return Array.prototype.concat.apply([],e)},this.changeWatcher=function(e,t){var n,i=function(){for(var n,i,r=angular.isFunction(e)?e():e,a=[],s=0,l=r.length;s<l;s++)i=r[s],n=t(i),o[n]=i,a.push(n);return a},r=function(e,t){var n,i,r=[],o={};for(n=0,i=t.length;n<i;n++)o[t[n]]=!0;for(n=0,i=e.length;n<i;n++)o[e[n]]||r.push(e[n]);return r},o={};return n={subscribe:function(e,a){e.$watch(i,function(e,i){!(a&&!1===a(e,i))&&function(e,i){var a,s,l,u,c={},d=r(i,e);for(a=0,s=d.length;a<s;a++){var p=d[a];l=o[p],delete o[p];var h=t(l);h===p?n.onRemoved(l):(c[h]=p,n.onChanged(l))}var f=r(e,i);for(a=0,s=f.length;a<s;a++)u=f[a],l=o[u],c[u]||n.onAdded(l)}(e,i)},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}},this.getFullCalendarConfig=function(t,n){var i={};return angular.extend(i,n),angular.extend(i,t),angular.forEach(i,function(t,n){var r;"function"==typeof t&&(i[n]=(r=i[n],function(){if(e.$root.$$phase)return r.apply(this,arguments);var t=arguments,n=this;return e.$root.$apply(function(){return r.apply(n,t)})}))}),i},this.getLocaleConfig=function(e){if(!e.lang||e.useNgLocale){var n=function(e){var t,n;for(n in t=[],e)t[n]=e[n];return t},i=t.DATETIME_FORMATS;return{monthNames:n(i.MONTH),monthNamesShort:n(i.SHORTMONTH),dayNames:n(i.DAY),dayNamesShort:n(i.SHORTDAY)}}return{}}}]).directive("uiCalendar",["uiCalendarConfig",function(e){return{restrict:"A",scope:{eventSources:"=ngModel",calendarWatchEvent:"&"},controller:"uiCalendarCtrl",link:function(t,n,i,r){var o,a=t.eventSources,s=!1,l=r.changeWatcher(a,r.sourceFingerprint),u=r.changeWatcher(r.allEvents,r.eventFingerprint),c=null;t.destroyCalendar=function(){o&&o.fullCalendar&&o.fullCalendar("destroy"),o=i.calendar?e.calendars[i.calendar]=$(n).html(""):$(n).html("")},t.initCalendar=function(){o||(o=angular.element(n).html("")),o.fullCalendar(c),i.calendar&&(e.calendars[i.calendar]=o)},t.$on("$destroy",function(){t.destroyCalendar()}),l.onAdded=function(t){o&&o.fullCalendar&&(o.fullCalendar(c),i.calendar&&(e.calendars[i.calendar]=o),o.fullCalendar("addEventSource",t),s=!0)},l.onRemoved=function(e){o&&o.fullCalendar&&(o.fullCalendar("removeEventSource",e),s=!0)},l.onChanged=function(){o&&o.fullCalendar&&(o.fullCalendar("refetchEvents"),s=!0)},u.onAdded=function(e){o&&o.fullCalendar&&o.fullCalendar("renderEvent",e,!!e.stick)},u.onRemoved=function(e){o&&o.fullCalendar&&o.fullCalendar("removeEvents",e._id)},u.onChanged=function(e){if(o&&o.fullCalendar)for(var t=o.fullCalendar("clientEvents",e._id),n=0;n<t.length;n++){var i=t[n];i=angular.extend(i,e),o.fullCalendar("updateEvent",i)}},l.subscribe(t),u.subscribe(t,function(){if(!0===s)return s=!1,!1}),t.$watch(function(){var n,o=i.uiCalendar?t.$parent.$eval(i.uiCalendar):{};n=r.getFullCalendarConfig(o,e);var s=r.getLocaleConfig(n);angular.extend(s,n),c={eventSources:a},angular.extend(c,s),c.calendars=null;var l={};for(var u in c)"eventSources"!==u&&(l[u]=c[u]);return JSON.stringify(l)},function(e,n){e!==n?(t.destroyCalendar(),t.initCalendar()):e&&angular.isUndefined(o)&&t.initCalendar()})}}}]),function(e,t,n){"use strict";var i=t.module("nsPopover",[]),r=t.element,o=t.isDefined,a=[],s=0;i.provider("nsPopover",function(){var e={template:"",theme:"ns-popover-list-theme",plain:"false",trigger:"click",triggerPrevent:!0,angularEvent:"",scopeEvent:"",container:"body",placement:"bottom|left",timeout:1.5,hideOnInsideClick:!1,hideOnOutsideClick:!0,hideOnButtonClick:!0,mouseRelative:"",popupDelay:0};this.setDefaults=function(n){t.extend(e,n)},this.$get=function(){return{getDefaults:function(){return e}}}}),i.directive("nsPopover",["nsPopover","$rootScope","$timeout","$templateCache","$q","$http","$compile","$document","$parse",function(n,i,l,u,c,d,p,h,f){return{restrict:"A",scope:!0,link:function(g,m,v){var y=n.getDefaults(),b={template:v.nsPopoverTemplate||y.template,theme:v.nsPopoverTheme||y.theme,plain:M(v.nsPopoverPlain||y.plain),trigger:v.nsPopoverTrigger||y.trigger,triggerPrevent:v.nsPopoverTriggerPrevent||y.triggerPrevent,angularEvent:v.nsPopoverAngularEvent||y.angularEvent,scopeEvent:v.nsPopoverScopeEvent||y.scopeEvent,container:v.nsPopoverContainer||y.container,placement:v.nsPopoverPlacement||y.placement,timeout:v.nsPopoverTimeout||y.timeout,hideOnInsideClick:M(v.nsPopoverHideOnInsideClick||y.hideOnInsideClick),hideOnOutsideClick:M(v.nsPopoverHideOnOutsideClick||y.hideOnOutsideClick),hideOnButtonClick:M(v.nsPopoverHideOnButtonClick||y.hideOnButtonClick),mouseRelative:v.nsPopoverMouseRelative,popupDelay:v.nsPopoverPopupDelay||y.popupDelay,group:v.nsPopoverGroup};b.mouseRelative&&(b.mouseRelativeX=-1!==b.mouseRelative.indexOf("x"),b.mouseRelativeY=-1!==b.mouseRelative.indexOf("y"));var w,$,C,S={id_:void 0,display:function(e,t){!1!==f(v.nsPopover)(g)&&(l.cancel(S.id_),o(e)||(e=0),b.group&&i.$broadcast("ns:popover:hide",b.group),S.id_=l(function(){k.isOpen=!0,k.css("display","block");var e=_(m[0]);b.mouseRelative&&(e=function(e,t,n,i){var r={bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width};t&&(r.left=i.pageX,r.right=i.pageX,r.width=0);n&&(r.top=i.pageY,r.bottom=i.pageY,r.height=0);return r}(e,b.mouseRelativeX,b.mouseRelativeY,t)),function(e,t,n,i,r){var o,a,s=_(e[0]),l=function(){return"center"===n?Math.round(i.left+i.width/2-s.width/2):"right"===n?i.right-s.width:i.left},u=function(){return"center"===n?Math.round(i.top+i.height/2-s.height/2):"bottom"===n?i.bottom-s.height:i.top};"top"===t?(o=i.top-s.height,a=l()):"right"===t?(o=u(),a=i.right):"bottom"===t?(o=i.bottom,a=l()):"left"===t&&(o=u(),a=i.left-s.width);e.css("top",o.toString()+"px").css("left",a.toString()+"px"),r&&r.length&&("top"===t||"bottom"===t?(a=i.left+i.width/2-a,r.css("left",a.toString()+"px")):(o=i.top+i.height/2-o,r.css("top",o.toString()+"px")))}(k,$,C,e,w),b.hideOnInsideClick&&k.on("click",T),b.hideOnOutsideClick&&h.on("click",O),b.hideOnButtonClick&&m.on("click",A)},1e3*e))},cancel:function(){l.cancel(S.id_)}},x={id_:void 0,hide:function(e){l.cancel(x.id_),"-1"!==e&&(o(e)||(e=1.5),x.id_=l(function(){k.off("click",T),h.off("click",O),m.off("click",A),k.isOpen=!1,S.cancel(),k.css("display","none")},1e3*e))},cancel:function(){l.cancel(x.id_)}},E=h.find(b.container);E.length||(E=h.find("body"));var k=r('<div id="nspopover-'+(s+=1)+'"></div>');a.push(k);var D=b.placement.match(/^(top|bottom|left|right)$|((top|bottom)\|(center|left|right)+)|((left|right)\|(center|top|bottom)+)/);if(!D)throw new Error('"'+b.placement+'" is not a valid placement or has a invalid combination of placements.');function _(t){var n=e,i=document.documentElement||document.body.parentNode||document.body,r=o(n.pageXOffset)?n.pageXOffset:i.scrollLeft,a=o(n.pageYOffset)?n.pageYOffset:i.scrollTop,s=t.getBoundingClientRect();return r||a?{bottom:s.bottom+a,left:s.left+r,right:s.right+r,top:s.top+a,height:s.height,width:s.width}:s}function M(e){e&&0!==e.length?e="true"==(""+e).toLowerCase():e=!1;return e}function T(){k.isOpen&&x.hide(0)}function O(e){if(k.isOpen&&e.target!==m[0]){var n=k[0].id;(function e(i){if(i.id===n)return!0;var r=t.element(i).parent()[0];if(!r)return!1;return r.id===n||e(r)})(e.target)||x.hide(0)}}function A(){k.isOpen&&x.hide(0)}$=D[6]||D[3]||D[1],C=D[7]||D[4]||D[2]||"center",c.when(function(e,n){if(!e)return"";if(t.isString(e)&&n)return e;return u.get(e)||d.get(e,{cache:!0})}(b.template,b.plain)).then(function(e){e=t.isString(e)?e:e.data&&t.isString(e.data)?e.data:"",k.html(e),b.theme&&k.addClass(b.theme),k.addClass("ns-popover-"+$+"-placement").addClass("ns-popover-"+C+"-align"),p(k)(g),g.$on("$destroy",function(){k.remove()}),g.hidePopover=function(){x.hide(0)},g.$on("ns:popover:hide",function(e,t){b.group===t&&g.hidePopover()}),k.css("position","absolute").css("display","none"),(w=k[0].querySelectorAll(".triangle")).length&&(w=r(w)),E.append(k)}),b.angularEvent?i.$on(b.angularEvent,function(){x.cancel(),S.display(b.popupDelay)}):b.scopeEvent?g.$on(b.scopeEvent,function(){x.cancel(),S.display(b.popupDelay)}):m.on(b.trigger,function(e){!1!==b.triggerPrevent&&e.preventDefault(),x.cancel(),S.display(b.popupDelay,e)}),m.on("mouseout",function(){x.hide(b.timeout)}).on("mouseover",function(){x.cancel()}),k.on("mouseout",function(e){x.hide(b.timeout)}).on("mouseover",function(){x.cancel()})}}}])}(window,window.angular),function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){switch(t.which){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return!!t.metaKey},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)},toSeparator:function(t){var n={ENTER:"\n",TAB:"\t",SPACE:" "}[t];return n||(e[t]?void 0:t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments).message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(t)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,i,r){r(e,function(e){t.append(e)})}}}).filter("highlight",function(){return function(e,t){return t&&e?(""+e).replace(new RegExp((""+t).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),'<span class="ui-select-highlight">$&</span>'):e}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(e,t,n,i,r){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-choices"),(t.parent().attr("theme")||e.theme)+"/choices.tpl.html"},compile:function(o,a){if(!a.repeat)throw n("repeat","Expected 'repeat' expression.");return function(o,a,s,l,u){var c=s.groupBy,d=s.groupFilter;if(l.parseRepeatAttr(s.repeat,c,d),l.disableChoiceExpression=s.uiDisableChoice,l.onHighlightCallback=s.onHighlight,l.dropdownPosition=s.position?s.position.toLowerCase():e.dropdownPosition,c){var p=a.querySelectorAll(".ui-select-choices-group");if(1!==p.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",p.length);p.attr("ng-repeat",t.getGroupNgRepeatExpression())}var h=a.querySelectorAll(".ui-select-choices-row");if(1!==h.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",h.length);h.attr("ng-repeat",l.parserResult.repeatExpression(c)).attr("ng-if","$select.open"),r.document.addEventListener&&h.attr("ng-mouseenter","$select.setActiveItem("+l.parserResult.itemName+")").attr("ng-click","$select.select("+l.parserResult.itemName+",$select.skipFocusser,$event)");var f=a.querySelectorAll(".ui-select-choices-row-inner");if(1!==f.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",f.length);f.attr("uis-transclude-append",""),r.document.addEventListener||f.attr("ng-mouseenter","$select.setActiveItem("+l.parserResult.itemName+")").attr("ng-click","$select.select("+l.parserResult.itemName+",$select.skipFocusser,$event)"),i(a,u)(o),o.$watch("$select.search",function(e){e&&!l.open&&l.multiple&&l.activate(!1,!0),l.activeIndex=l.tagging.isActivated?-1:0,!s.minimumInputLength||l.search.length>=s.minimumInputLength?l.refresh(s.refresh):l.items=[]}),s.$observe("refreshDelay",function(){var t=o.$eval(s.refreshDelay);l.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector",function(t,n,i,r,o,a,s,l,u){var c,d=this,p="";if(d.placeholder=s.placeholder,d.searchEnabled=s.searchEnabled,d.sortable=s.sortable,d.refreshDelay=s.refreshDelay,d.paste=s.paste,d.removeSelected=!1,d.closeOnSelect=!0,d.skipFocusser=!1,d.search=p,d.activeIndex=0,d.items=[],d.open=!1,d.focus=!1,d.disabled=!1,d.selected=void 0,d.dropdownPosition="auto",d.focusser=void 0,d.resetSearchInput=!0,d.multiple=void 0,d.disableChoiceExpression=void 0,d.tagging={isActivated:!1,fct:void 0},d.taggingTokens={isActivated:!1,tokens:void 0},d.lockChoiceExpression=void 0,d.clickTriggeredSelect=!1,d.$filter=r,d.$animate=function(){try{return u.get("$animate")}catch(e){return null}}(),d.searchInput=n.querySelectorAll("input.ui-select-search"),1!==d.searchInput.length)throw a("searchInput","Expected 1 input.ui-select-search but got '{0}'.",d.searchInput.length);function h(){(d.resetSearchInput||void 0===d.resetSearchInput&&s.resetSearchInput)&&(d.search=p,d.selected&&d.items.length&&!d.multiple&&(d.activeIndex=function(e,t,n){if(e.findIndex)return e.findIndex(t,n);for(var i,r=Object(e),o=r.length>>>0,a=0;a<o;a++)if(i=r[a],t.call(n,i,a,r))return a;return-1}(d.items,function(e){return angular.equals(this,e)},d.selected)))}d.isEmpty=function(){return angular.isUndefined(d.selected)||null===d.selected||""===d.selected||d.multiple&&0===d.selected.length},d.activate=function(e,r){if(!d.disabled&&!d.open){r||h(),t.$broadcast("uis:activate"),d.open=!0,d.activeIndex=d.activeIndex>=d.items.length?0:d.activeIndex,-1===d.activeIndex&&!1!==d.taggingLabel&&(d.activeIndex=0);var o=n.querySelectorAll(".ui-select-choices-content");d.$animate&&d.$animate.on&&d.$animate.enabled(o[0])?d.$animate.on("enter",o[0],function(t,n){"close"===n&&i(function(){d.focusSearchInput(e)})}):i(function(){d.focusSearchInput(e)})}},d.focusSearchInput=function(e){d.search=e||d.search,d.searchInput[0].focus(),!d.tagging.isActivated&&d.items.length>1&&g()},d.findGroupByName=function(e){return d.groups&&d.groups.filter(function(t){return t.name===e})[0]},d.parseRepeatAttr=function(e,n,i){d.setItemsFn=n?function(e){var r=t.$eval(n);if(d.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(r)?r(e):e[r],n=d.findGroupByName(t);n?n.items.push(e):d.groups.push({name:t,items:[e]})}),i){var o=t.$eval(i);angular.isFunction(o)?d.groups=o(d.groups):angular.isArray(o)&&(d.groups=function(e,t){var n,i,r=[];for(n=0;n<t.length;n++)for(i=0;i<e.length;i++)e[i].name==[t[n]]&&r.push(e[i]);return r}(d.groups,o))}d.items=[],d.groups.forEach(function(e){d.items=d.items.concat(e.items)})}:function(e){d.items=e},d.parserResult=o.parse(e),d.isGrouped=!!n,d.itemProperty=d.parserResult.itemName;var r=d.parserResult.source,s=function(){var e=r(t);t.$uisSource=Object.keys(e).map(function(t){var n={};return n[d.parserResult.keyName]=t,n.value=e[t],n})};d.parserResult.keyName&&(s(),d.parserResult.source=l("$uisSource"+d.parserResult.filters),t.$watch(r,function(e,t){e!==t&&s()},!0)),d.refreshItems=function(e){e=e||d.parserResult.source(t);var n=d.selected;if(d.isEmpty()||angular.isArray(n)&&!n.length||!d.removeSelected)d.setItemsFn(e);else if(void 0!==e){var i=e.filter(function(e){return n.every(function(t){return!angular.equals(e,t)})});d.setItemsFn(i)}"auto"!==d.dropdownPosition&&"up"!==d.dropdownPosition||t.calculateDropdownPos()},t.$watchCollection(d.parserResult.source,function(e){if(void 0===e||null===e)d.items=[];else{if(!angular.isArray(e))throw a("items","Expected an array but got '{0}'.",e);d.refreshItems(e),d.ngModel.$modelValue=null}})},d.refresh=function(e){void 0!==e&&(c&&i.cancel(c),c=i(function(){t.$eval(e)},d.refreshDelay))},d.setActiveItem=function(e){d.activeIndex=d.items.indexOf(e)},d.isActive=function(e){if(!d.open)return!1;var t=d.items.indexOf(e[d.itemProperty]),n=t==d.activeIndex;return!(!n||t<0&&!1!==d.taggingLabel||t<0&&!1===d.taggingLabel)&&(n&&!angular.isUndefined(d.onHighlightCallback)&&e.$eval(d.onHighlightCallback),n)},d.isDisabled=function(e){if(d.open){var t,n=d.items.indexOf(e[d.itemProperty]),i=!1;return n>=0&&!angular.isUndefined(d.disableChoiceExpression)&&(t=d.items[n],i=!!e.$eval(d.disableChoiceExpression),t._uiSelectChoiceDisabled=i),i}},d.select=function(e,n,r){if(void 0===e||!e._uiSelectChoiceDisabled){if(!d.items&&!d.search&&!d.tagging.isActivated)return;if(!e||!e._uiSelectChoiceDisabled){if(d.tagging.isActivated){if(!1===d.taggingLabel)if(d.activeIndex<0){if(!(e=void 0!==d.tagging.fct?d.tagging.fct(d.search):d.search)||angular.equals(d.items[0],e))return}else e=d.items[d.activeIndex];else if(0===d.activeIndex){if(void 0===e)return;if(void 0!==d.tagging.fct&&"string"==typeof e){if(!(e=d.tagging.fct(e)))return}else"string"==typeof e&&(e=e.replace(d.taggingLabel,"").trim())}if(d.selected&&angular.isArray(d.selected)&&d.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void d.close(n)}t.$broadcast("uis:select",e);var o={};o[d.parserResult.itemName]=e,i(function(){d.onSelectCallback(t,{$item:e,$model:d.parserResult.modelMapper(t,o)})}),d.closeOnSelect&&d.close(n),r&&"click"===r.type&&(d.clickTriggeredSelect=!0)}}},d.close=function(e){d.open&&(d.ngModel&&d.ngModel.$setTouched&&d.ngModel.$setTouched(),h(),d.open=!1,t.$broadcast("uis:close",e))},d.setFocus=function(){d.focus||d.focusInput[0].focus()},d.clear=function(e){d.select(void 0),e.stopPropagation(),i(function(){d.focusser[0].focus()},0,!1)},d.toggle=function(e){d.open?(d.close(),e.preventDefault(),e.stopPropagation()):d.activate()},d.isLocked=function(e,t){var n,i=d.selected[t];return i&&!angular.isUndefined(d.lockChoiceExpression)&&(n=!!e.$eval(d.lockChoiceExpression),i._uiSelectChoiceLocked=n),n};var f=null;function g(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw a("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(d.activeIndex<0)){var i=t[d.activeIndex],r=i.offsetTop+i.clientHeight-e[0].scrollTop,o=e[0].offsetHeight;r>o?e[0].scrollTop+=r-o:r<i.clientHeight&&(d.isGrouped&&0===d.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=i.clientHeight-r)}}d.sizeSearchInput=function(){var e=d.searchInput[0],n=d.searchInput.parent().parent()[0],r=function(){return n.clientWidth*!!e.offsetParent},o=function(t){if(0===t)return!1;var n=t-e.offsetLeft-10;return n<50&&(n=t),d.searchInput.css("width",n+"px"),!0};d.searchInput.css("width","10px"),i(function(){null!==f||o(r())||(f=t.$watch(r,function(e){o(e)&&(f(),f=null)}))})},d.searchInput.on("keydown",function(n){var r=n.which;~[e.ENTER,e.ESC].indexOf(r)&&(n.preventDefault(),n.stopPropagation()),t.$apply(function(){var t=!1;if((d.items.length>0||d.tagging.isActivated)&&(function(t){var n=!0;switch(t){case e.DOWN:!d.open&&d.multiple?d.activate(!1,!0):d.activeIndex<d.items.length-1&&d.activeIndex++;break;case e.UP:!d.open&&d.multiple?d.activate(!1,!0):(d.activeIndex>0||0===d.search.length&&d.tagging.isActivated&&d.activeIndex>-1)&&d.activeIndex--;break;case e.TAB:d.multiple&&!d.open||d.select(d.items[d.activeIndex],!0);break;case e.ENTER:d.open&&(d.tagging.isActivated||d.activeIndex>=0)?d.select(d.items[d.activeIndex],d.skipFocusser):d.activate(!1,!0);break;case e.ESC:d.close();break;default:n=!1}}(r),d.taggingTokens.isActivated)){for(var o=0;o<d.taggingTokens.tokens.length;o++)d.taggingTokens.tokens[o]===e.MAP[n.keyCode]&&d.search.length>0&&(t=!0);t&&i(function(){d.searchInput.triggerHandler("tagged");var t=d.search.replace(e.MAP[n.keyCode],"").trim();d.tagging.fct&&(t=d.tagging.fct(t)),t&&d.select(t,!0)})}}),e.isVerticalMovement(r)&&d.items.length>0&&g(),r!==e.ENTER&&r!==e.ESC||(n.preventDefault(),n.stopPropagation())}),d.searchInput.on("paste",function(t){var n;if(n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(t.originalEvent||t).clipboardData.getData("text/plain"),(n=d.search+n)&&n.length>0)if(d.taggingTokens.isActivated){var i=e.toSeparator(d.taggingTokens.tokens[0]),r=n.split(i||d.taggingTokens.tokens[0]);if(r&&r.length>0){var o=d.search;angular.forEach(r,function(e){var t=d.tagging.fct?d.tagging.fct(e):e;t&&d.select(t,!0)}),d.search=o||p,t.preventDefault(),t.stopPropagation()}}else d.paste&&(d.paste(n),d.search=p,t.preventDefault(),t.stopPropagation())}),d.searchInput.on("tagged",function(){i(function(){h()})}),t.$on("$destroy",function(){d.searchInput.off("keyup keydown tagged blur paste")})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,i,r,o,a){return{restrict:"EA",templateUrl:function(e,n){return(n.theme||t.theme)+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(r,s){var l=/{(.*)}\s*{(.*)}/.exec(s.ngClass);if(l){var u="{"+l[1]+", "+l[2]+"}";s.ngClass=u,r.attr("ng-class",u)}return angular.isDefined(s.multiple)?r.append("<ui-select-multiple/>").removeAttr("multiple"):r.append("<ui-select-single/>"),s.inputId&&(r.querySelectorAll("input.ui-select-search")[0].id=s.inputId),r.querySelectorAll("input.ui-select-search")[0].placeholder=s.placeholder?s.placeholder:"",function(r,s,l,u,c){var d=u[0],p=u[1];function h(e){if(d.open){if(!(window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target))&&!d.clickTriggeredSelect){var t;if(d.skipFocusser)t=!0;else{var n=angular.element(e.target).controller("uiSelect");(t=n&&n!==d)||(t=~["input","button","textarea","select"].indexOf(e.target.tagName.toLowerCase()))}d.close(t),r.$digest()}d.clickTriggeredSelect=!1}}d.generatedId=t.generateId(),d.baseTitle=l.title||"Select box",d.focusserTitle=d.baseTitle+" focus",d.focusserId="focusser-"+d.generatedId,d.closeOnSelect=angular.isDefined(l.closeOnSelect)?o(l.closeOnSelect)():t.closeOnSelect,r.$watch("skipFocusser",function(){var e=r.$eval(l.skipFocusser);d.skipFocusser=void 0!==e?e:t.skipFocusser}),d.onSelectCallback=o(l.onSelect),d.onRemoveCallback=o(l.onRemove),d.limit=angular.isDefined(l.limit)?parseInt(l.limit,10):void 0,d.ngModel=p,d.choiceGrouped=function(e){return d.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){d.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),r.$watch("searchEnabled",function(){var e=r.$eval(l.searchEnabled);d.searchEnabled=void 0!==e?e:t.searchEnabled}),r.$watch("sortable",function(){var e=r.$eval(l.sortable);d.sortable=void 0!==e?e:t.sortable}),l.$observe("disabled",function(){d.disabled=void 0!==l.disabled&&l.disabled}),l.$observe("resetSearchInput",function(){var e=r.$eval(l.resetSearchInput);d.resetSearchInput=void 0===e||e}),l.$observe("paste",function(){d.paste=r.$eval(l.paste)}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=r.$eval(l.tagging);d.tagging={isActivated:!0,fct:!0!==e?e:void 0}}else d.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&("false"===l.taggingLabel?d.taggingLabel=!1:d.taggingLabel=void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];d.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(l.autofocus)&&a(function(){d.setFocus()}),angular.isDefined(l.focusOn)&&r.$on(l.focusOn,function(){a(function(){d.setFocus()})}),e.on("click",h),r.$on("$destroy",function(){e.off("click",h)}),c(r,function(e){var t=angular.element("<div>").append(e),i=t.querySelectorAll(".ui-select-match");if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);s.querySelectorAll(".ui-select-match").replaceWith(i);var r=t.querySelectorAll(".ui-select-choices");if(r.removeAttr("ui-select-choices"),r.removeAttr("data-ui-select-choices"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",r.length);s.querySelectorAll(".ui-select-choices").replaceWith(r)});var f=r.$eval(l.appendToBody);(void 0!==f?f:t.appendToBody)&&(r.$watch("$select.open",function(t){var n;t?(n=i(s),(g=angular.element('<div class="ui-select-placeholder"></div>'))[0].style.width=n.width+"px",g[0].style.height=n.height+"px",s.after(g),m=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=n.left+"px",s[0].style.top=n.top+"px",s[0].style.width=n.width+"px"):v()}),r.$on("$destroy",function(){v()}));var g=null,m="";function v(){null!==g&&(g.replaceWith(s),g=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=m,d.setFocus())}var y=null;r.$watch("$select.open",function(){"auto"!==d.dropdownPosition&&"up"!==d.dropdownPosition||r.calculateDropdownPos()});var b=function(e,t){e=e||i(s),t=t||i(y),y[0].style.position="absolute",y[0].style.top=-1*t.height+"px",s.addClass("direction-up")};r.calculateDropdownPos=function(){if(d.open){if(0===(y=angular.element(s).querySelectorAll(".ui-select-dropdown")).length)return;y[0].style.opacity=0,a(function(){if("up"===d.dropdownPosition)b();else{s.removeClass("direction-up");var t=i(s),n=i(y),r=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+n.height>r+e[0].documentElement.clientHeight?b(t,n):function(e,t){s.removeClass("direction-up"),e=e||i(s),t=t||i(y),y[0].style.position="",y[0].style.top=""}(t,n)}y[0].style.opacity=1})}else{if(null===y||0===y.length)return;y[0].style.position="",y[0].style.top="",s.removeClass("direction-up")}}}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){return t.addClass("ui-select-match"),(t.parent().attr("theme")||e.theme)+(t.parent().attr("multiple")?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,i,r){function o(e){r.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}r.lockChoiceExpression=i.uiLockChoice,i.$observe("placeholder",function(t){r.placeholder=void 0!==t?t:e.placeholder}),i.$observe("allowClear",o),o(i.allowClear),r.multiple&&r.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,i=this,r=e.$select;angular.isUndefined(r.selected)&&(r.selected=[]),e.$evalAsync(function(){n=e.ngModel}),i.activeMatchIndex=-1,i.updateModel=function(){n.$setViewValue(Date.now()),i.refreshComponent()},i.refreshComponent=function(){r.refreshItems(),r.sizeSearchInput()},i.removeChoice=function(n){var o=r.selected[n];if(!o._uiSelectChoiceLocked){var a={};a[r.parserResult.itemName]=o,r.selected.splice(n,1),i.activeMatchIndex=-1,r.sizeSearchInput(),t(function(){r.onRemoveCallback(e,{$item:o,$model:r.parserResult.modelMapper(e,a)})}),i.updateModel()}},i.getPlaceholder=function(){if(!r.selected||!r.selected.length)return r.placeholder}}],controllerAs:"$selectMultiple",link:function(i,r,o,a){var s=a[0],l=i.ngModel=a[1],u=i.$selectMultiple;function c(e){return void 0!==e&&void 0!==s.search&&e.filter(function(e){return void 0!==s.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===s.search.toUpperCase()}).length>0}function d(e,t){var n=-1;if(angular.isArray(e))for(var i=angular.copy(e),r=0;r<i.length;r++)if(void 0===s.tagging.fct)i[r]+" "+s.taggingLabel===t&&(n=r);else{var o=i[r];angular.isObject(o)&&(o.isTag=!0),angular.equals(o,t)&&(n=r)}return n}s.multiple=!0,s.removeSelected=!0,s.focusInput=s.searchInput,l.$parsers.unshift(function(){for(var e,t={},n=[],r=s.selected.length-1;r>=0;r--)(t={})[s.parserResult.itemName]=s.selected[r],e=s.parserResult.modelMapper(i,t),n.unshift(e);return n}),l.$formatters.unshift(function(e){var t,n=s.parserResult.source(i,{$select:{search:""}}),r={};if(!n)return e;var o=[],a=function(e,n){if(e&&e.length){for(var a=e.length-1;a>=0;a--){if(r[s.parserResult.itemName]=e[a],t=s.parserResult.modelMapper(i,r),s.parserResult.trackByExp){var l=/(\w*)\./.exec(s.parserResult.trackByExp),u=/\.([^\s]+)/.exec(s.parserResult.trackByExp);if(l&&l.length>0&&l[1]==s.parserResult.itemName&&u&&u.length>0&&t[u[1]]==n[u[1]])return o.unshift(e[a]),!0}if(angular.equals(t,n))return o.unshift(e[a]),!0}return!1}};if(!e)return o;for(var l=e.length-1;l>=0;l--)a(s.selected,e[l])||a(n,e[l])||o.unshift(e[l]);return o}),i.$watchCollection(function(){return l.$modelValue},function(e,t){t!=e&&(l.$modelValue=null,u.refreshComponent())}),l.$render=function(){if(!angular.isArray(l.$viewValue)){if(!angular.isUndefined(l.$viewValue)&&null!==l.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",l.$viewValue);s.selected=[]}s.selected=l.$viewValue,i.$evalAsync()},i.$on("uis:select",function(e,t){s.selected.length>=s.limit||(s.selected.push(t),u.updateModel())}),i.$on("uis:activate",function(){u.activeMatchIndex=-1}),i.$watch("$select.disabled",function(e,t){t&&!e&&s.sizeSearchInput()}),s.searchInput.on("keydown",function(t){var n=t.which;i.$apply(function(){var i=!1;e.isHorizontalMovement(n)&&(i=function(t){var n=(c=s.searchInput[0],angular.isNumber(c.selectionStart)?c.selectionStart:c.value.length),i=s.selected.length-1,r=u.activeMatchIndex,o=u.activeMatchIndex+1,a=u.activeMatchIndex-1,l=r;var c;if(n>0||s.search.length&&t==e.RIGHT)return!1;s.close(),l=function(){switch(t){case e.LEFT:return~u.activeMatchIndex?a:i;case e.RIGHT:return~u.activeMatchIndex&&r!==i?o:(s.activate(),!1);case e.BACKSPACE:return~u.activeMatchIndex?(u.removeChoice(r),a):i;case e.DELETE:return!!~u.activeMatchIndex&&(u.removeChoice(u.activeMatchIndex),r)}}(),s.selected.length&&!1!==l?u.activeMatchIndex=Math.min(i,Math.max(0,l)):u.activeMatchIndex=-1;return!0}(n)),i&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),s.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||i.$evalAsync(function(){s.activeIndex=!1===s.taggingLabel?-1:0}),s.tagging.isActivated&&s.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(s.activeIndex=!1===s.taggingLabel?-1:0,!1===s.taggingLabel)return;var n,r,o,a=angular.copy(s.items),l=angular.copy(s.items),u=!1,p=-1;if(void 0!==s.tagging.fct){if((r=s.$filter("filter")(a,{isTag:!0})).length>0&&(o=r[0]),a.length>0&&o&&(u=!0,a=a.slice(1,a.length),l=l.slice(1,l.length)),n=s.tagging.fct(s.search),l.some(function(e){return angular.equals(e,s.tagging.fct(s.search))})||s.selected.some(function(e){return angular.equals(e,n)}))return void i.$evalAsync(function(){s.activeIndex=0,s.items=a});n.isTag=!0}else{if((r=s.$filter("filter")(a,function(e){return e.match(s.taggingLabel)})).length>0&&(o=r[0]),void 0!==a[0]&&a.length>0&&o&&(u=!0,a=a.slice(1,a.length),l=l.slice(1,l.length)),n=s.search+" "+s.taggingLabel,d(s.selected,s.search)>-1)return;if(c(l.concat(s.selected)))return void(u&&(a=l,i.$evalAsync(function(){s.activeIndex=0,s.items=a})));if(c(l))return void(u&&(s.items=l.slice(1,l.length)))}u&&(p=d(s.selected,n)),p>-1?a=a.slice(p+1,a.length-1):((a=[]).push(n),a=a.concat(l)),i.$evalAsync(function(){s.activeIndex=0,s.items=a})}}),s.searchInput.on("blur",function(){n(function(){u.activeMatchIndex=-1})})}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,r,o,a){var s=a[0],l=a[1];l.$parsers.unshift(function(e){var t={};return t[s.parserResult.itemName]=e,s.parserResult.modelMapper(i,t)}),l.$formatters.unshift(function(e){var t=s.parserResult.source(i,{$select:{search:""}}),n={};if(t){var r=function(t){return n[s.parserResult.itemName]=t,s.parserResult.modelMapper(i,n)==e};if(s.selected&&r(s.selected))return s.selected;for(var o=t.length-1;o>=0;o--)if(r(t[o]))return t[o]}return e}),i.$watch("$select.selected",function(e){l.$viewValue!==e&&l.$setViewValue(e)}),l.$render=function(){s.selected=l.$viewValue},i.$on("uis:select",function(e,t){s.selected=t}),i.$on("uis:close",function(e,n){t(function(){s.focusser.prop("disabled",!1),n||s.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){u.prop("disabled",!0)});var u=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(u)(i),s.focusser=u,s.focusInput=u,r.parent().append(u),u.bind("focus",function(){i.$evalAsync(function(){s.focus=!0})}),u.bind("blur",function(){i.$evalAsync(function(){s.focus=!1})}),u.bind("keydown",function(t){if(t.which===e.BACKSPACE)return t.preventDefault(),t.stopPropagation(),s.select(void 0),void i.$apply();t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||(t.which!=e.DOWN&&t.which!=e.UP&&t.which!=e.ENTER&&t.which!=e.SPACE||(t.preventDefault(),t.stopPropagation(),s.activate()),i.$digest())}),u.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(s.activate(u.val()),u.val(""),i.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:"^^uiSelect",link:function(t,i,r,o){if(null===t[r.uiSelectSort])throw n("sort","Expected a list to sort");var a=angular.extend({axis:"horizontal"},t.$eval(r.uiSelectSortOptions)).axis;t.$watch(function(){return o.sortable},function(e){e?i.attr("draggable",!0):i.removeAttr("draggable")}),i.on("dragstart",function(e){i.addClass("dragging"),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",t.$index)}),i.on("dragend",function(){i.removeClass("dragging")});var s,l=function(e){e.preventDefault(),("vertical"===a?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0))<this["vertical"===a?"offsetHeight":"offsetWidth"]/2?(i.removeClass("dropping-after"),i.addClass("dropping-before")):(i.removeClass("dropping-before"),i.addClass("dropping-after"))},u=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(s),s=e(function(){c(n)},20)},c=function(e){var n=t.$eval(r.uiSelectSort),o=n[e],a=null;a=i.hasClass("dropping-before")?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,function(e,t){this.splice(t,0,this.splice(e,1)[0])}.apply(n,[e,a]),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:o,from:e,to:a})}),i.removeClass("dropping"),i.removeClass("dropping-before"),i.removeClass("dropping-after"),i.off("drop",u)};i.on("dragenter",function(){i.hasClass("dragging")||(i.addClass("dropping"),i.on("dragover",l),i.on("drop",u))}),i.on("dragleave",function(e){e.target==i&&(i.removeClass("dropping"),i.removeClass("dropping-before"),i.removeClass("dropping-after"),i.off("dragover",l),i.off("drop",u))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){this.parse=function(n){var i;if(!(i=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var r=i[5],o="";if(i[3]){r=i[5].replace(/(^\()|(\)$)/g,"");var a=i[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);a&&a[1].trim()&&(o=a[1],r=r.replace(o,""))}return{itemName:i[4]||i[2],keyName:i[3],source:t(r),filters:o,trackByExp:i[6],modelMapper:t(i[1]||i[4]||i[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},this.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="false" autocorrect="false" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function(e,t){function n(e,t,n){if(angular.isArray(e))for(var i=e.length;i--;)if(n(e[i],t))return!0;return!1}function i(i,r,o){var a=o.checklistModel;o.$set("checklistModel",null),t(r)(i),o.$set("checklistModel",a);var s=e(a),l=s.assign,u=e(o.checklistChange),c=o.checklistValue?e(o.checklistValue)(i.$parent):o.value,d=angular.equals;if(o.hasOwnProperty("checklistComparator"))if("."==o.checklistComparator[0]){var p=o.checklistComparator.substring(1);d=function(e,t){return e[p]===t[p]}}else d=e(o.checklistComparator)(i.$parent);function h(e,t){i[o.ngModel]=n(e,c,d)}i.$watch(o.ngModel,function(e,t){if(e!==t){var r=s(i.$parent);angular.isFunction(l)&&l(i.$parent,!0===e?function(e,t,i){return n(e=angular.isArray(e)?e:[],t,i)||e.push(t),e}(r,c,d):function(e,t,n){if(angular.isArray(e))for(var i=e.length;i--;)if(n(e[i],t)){e.splice(i,1);break}return e}(r,c,d)),u&&u(i)}}),angular.isFunction(i.$parent.$watchCollection)?i.$parent.$watchCollection(a,h):i.$parent.$watch(a,h,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(e,t){if(("INPUT"!==e[0].tagName||"checkbox"!==t.type)&&"MD-CHECKBOX"!==e[0].tagName&&!t.btnCheckbox)throw'checklist-model should be applied to `input[type="checkbox"]` or `md-checkbox`.';if(!t.checklistValue&&!t.value)throw"You should provide `value` or `checklist-value`.";return t.ngModel||t.$set("ngModel","checked"),i}}}]),function(){angular.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(e){this.prefix=e},this.setStorageCookie=function(e,t){this.cookie={expiry:e,path:t}},this.setNotify=function(e,t){this.notify={setItem:e,removeItem:t}},this.$get=["$rootScope",function(e){var t=this.prefix;"."!==t.substr(-1)&&(t=t?t+".":"");var n=function(){try{var n="localStorage"in window&&null!==window.localStorage,i=t+"__"+Math.round(1e7*Math.random());return n&&(localStorage.setItem(i,""),localStorage.removeItem(i)),!0}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}},i=function(i,r){if(!n())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),notify.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:i,newvalue:r,storageType:"cookie"}),a(i,r);void 0===r&&(r=null);try{(angular.isObject(r)||angular.isArray(r))&&(r=angular.toJson(r)),localStorage.setItem(t+i,r),notify.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:i,newvalue:r,storageType:"localStorage"})}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),a(i,r)}return!0},r=function(i){if(!n())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),notify.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:i,storageType:"cookie"}),l(i);try{localStorage.removeItem(t+i),notify.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:i,storageType:"localStorage"})}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),l(i)}return!0},o=function(){try{return navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}},a=function(n,i){if(void 0===i)return!1;if(!o())return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var r="",a=new Date;null===i?(a.setTime(a.getTime()+-864e5),r="; expires="+a.toGMTString(),i=""):0!==cookie.expiry&&(a.setTime(a.getTime()+24*cookie.expiry*60*60*1e3),r="; expires="+a.toGMTString()),n&&(document.cookie=t+n+"="+encodeURIComponent(i)+r+"; path="+cookie.path)}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),!1}return!0},s=function(n){if(!o())return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var i=document.cookie.split(";"),r=0;r<i.length;r++){for(var a=i[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t+n+"="))return decodeURIComponent(a.substring(t.length+n.length+1,a.length))}return null},l=function(e){a(e,null)},u=function(){for(var e=null,n=t.length,i=document.cookie.split(";"),r=0;r<i.length;r++){for(e=i[r];" "===e.charAt(0);)e=e.substring(1,e.length);var o=e.substring(n,e.indexOf("="));l(o)}};return{isSupported:n,set:i,add:i,get:function(i){if(!n())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),s(i);var r=localStorage.getItem(t+i);return r&&"null"!==r?"{"===r.charAt(0)||"["===r.charAt(0)?angular.fromJson(r):r:null},keys:function(){if(!n())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var i=t.length,r=[];for(var o in localStorage)if(o.substr(0,i)===t)try{r.push(o.substr(i))}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.Description),[]}return r},remove:r,clearAll:function(){if(!n())return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),u();var i=t.length;for(var o in localStorage)if(o.substr(0,i)===t)try{r(o.substr(i))}catch(t){return e.$broadcast("LocalStorageModule.notification.error",t.message),u()}return!0},cookie:{set:a,add:a,get:s,remove:l,clearAll:u}}}]})}.call(this),angular.module("ngLocale",[],["$provide",function(e){var t="one",n="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[6,6],fullDate:"EEEE d MMMM y",longDate:"d MMMM y",medium:"dd-MMM-y h:mm:ss a",mediumDate:"dd-MMM-y",mediumTime:"h:mm:ss a",short:"dd/MM/yy h:mm a",shortDate:"dd/MM/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"₹",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:2,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:2,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤ ",negSuf:"",posPre:"¤ ",posSuf:""}]},id:"en-in",localeID:"en_IN",pluralCat:function(e,i){var r=0|e,o=function(e,t){var n=t;void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var i=Math.pow(10,n);return{v:n,f:(e*i|0)%i}}(e,i);return 1==r&&0==o.v?t:n}})}]);var angularSpectrumColorpicker=angular.module("angularSpectrumColorpicker",[]);!function(e){"use strict";angularSpectrumColorpicker.directive("spectrumColorpicker",function(){return{restrict:"E",require:"ngModel",scope:!1,replace:!0,template:'<span><input class="input-small" /></span>',link:function(e,t,n,i){var r=t.find("input"),o=e.$eval(n.fallbackValue),a=e.$eval(n.format)||void 0;function s(e){var t=o;e?t=e.toString(a):angular.isUndefined(o)&&(t=e),i.$setViewValue(t)}var l=function(t){e.$apply(function(){s(t)})},u=angular.extend({color:i.$viewValue,change:l,move:l,hide:l},e.$eval(n.options));n.triggerId&&angular.element(document.body).on("click","#"+n.triggerId,function(){return r.spectrum("toggle"),!1}),i.$render=function(){r.spectrum("set",i.$viewValue||"")},u.color&&(r.spectrum("set",u.color||""),s(u.color)),r.spectrum(u),e.$on("$destroy",function(){r.spectrum("destroy")})}}})}(),function(e,t,n){"use strict";var i=t.isDefined,r=t.isUndefined,o=t.isFunction,a=t.isString,s=t.isNumber,l=t.isObject,u=t.isArray,c=t.forEach,d=t.extend,p=t.copy,h=t.equals;function f(e){return u(e)?e:Object.keys(e).map(function(t){return e[t]})}function g(e,t){return-1==Object.keys(e).map(function(i){return t[i]!==n&&t[i]==e[i]}).indexOf(!1)}function m(e,t){if(""===t)return e;var n=e.indexOf(t.charAt(0));return-1!==n&&m(e.substr(n+1),t.substr(1))}function v(e,t,n){var r=0;return e.filter(function(e){var o=i(n)?r<t&&n(e):r<t;return r=o?r+1:r,o})}function y(e,t,n){return n.round(e*n.pow(10,t))/n.pow(10,t)}function b(){return function(e,t){return e>t}}function w(){return function(e,t){return e>=t}}function $(){return function(e,t){return e<t}}function C(){return function(e,t){return e<=t}}function S(){return function(e,t){return e==t}}function x(){return function(e,t){return e!=t}}function E(){return function(e,t){return e===t}}function k(){return function(e,t){return e!==t}}function D(e){return function(t,n){return t=l(t)?f(t):t,!(!u(t)||r(n))&&t.some(function(t){return l(t)||o(n)?e(n)(t):t===n})}}function _(e){return function(t,n){if(t=l(t)?f(t):t,!u(t))return t;var i=[],o=e(n);return r(n)?t.filter(function(e,t,n){return n.indexOf(e)===t}):t.filter(function(e){var t=o(e);return!function(e,t){if(r(t))return!1;return e.some(function(e){return h(e,t)})}(i,t)&&(i.push(t),!0)})}}String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.module("a8m.angular",[]).filter("isUndefined",function(){return function(e){return t.isUndefined(e)}}).filter("isDefined",function(){return function(e){return t.isDefined(e)}}).filter("isFunction",function(){return function(e){return t.isFunction(e)}}).filter("isString",function(){return function(e){return t.isString(e)}}).filter("isNumber",function(){return function(e){return t.isNumber(e)}}).filter("isArray",function(){return function(e){return t.isArray(e)}}).filter("isObject",function(){return function(e){return t.isObject(e)}}).filter("isEqual",function(){return function(e,n){return t.equals(e,n)}}),t.module("a8m.conditions",[]).filter({isGreaterThan:b,">":b,isGreaterThanOrEqualTo:w,">=":w,isLessThan:$,"<":$,isLessThanOrEqualTo:C,"<=":C,isEqualTo:S,"==":S,isNotEqualTo:x,"!=":x,isIdenticalTo:E,"===":E,isNotIdenticalTo:k,"!==":k}),t.module("a8m.is-null",[]).filter("isNull",function(){return function(e){return null===e}}),t.module("a8m.after-where",[]).filter("afterWhere",function(){return function(e,t){if(e=l(e)?f(e):e,!u(e)||r(t))return e;var n=e.map(function(e){return g(t,e)}).indexOf(!0);return e.slice(-1===n?0:n)}}),t.module("a8m.after",[]).filter("after",function(){return function(e,t){return e=l(e)?f(e):e,u(e)?e.slice(t):e}}),t.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(e,t){if(e=l(e)?f(e):e,!u(e)||r(t))return e;var n=e.map(function(e){return g(t,e)}).indexOf(!0);return e.slice(0,-1===n?e.length:++n)}}),t.module("a8m.before",[]).filter("before",function(){return function(e,t){return e=l(e)?f(e):e,u(e)?e.slice(0,t?--t:t):e}}),t.module("a8m.chunk-by",[]).filter("chunkBy",[function(){return function(e,t,n){return u(e)?e.map(function(e,i,o){return i*=t,e=o.slice(i,i+t),!r(n)&&e.length<t?e.concat(function(e,t){for(var n=[];e--;)n[e]=t;return n}(t-e.length,n)):e}).slice(0,Math.ceil(e.length/t)):e}}]),t.module("a8m.concat",[]).filter("concat",[function(){return function(e,t){if(r(t))return e;if(u(e))return l(t)?e.concat(f(t)):e.concat(t);if(l(e)){var n=f(e);return l(t)?n.concat(f(t)):n.concat(t)}return e}}]),t.module("a8m.contains",[]).filter({contains:["$parse",D],some:["$parse",D]}),t.module("a8m.count-by",[]).filter("countBy",["$parse",function(e){return function(t,n){var i,o={},a=e(n);return t=l(t)?f(t):t,!u(t)||r(n)?t:(t.forEach(function(e){i=a(e),o[i]||(o[i]=0),o[i]++}),o)}}]),t.module("a8m.defaults",[]).filter("defaults",["$parse",function(e){return function(t,n){if(t=l(t)?f(t):t,!u(t)||!l(n))return t;var i=function e(t,n,i){return n=n||[],Object.keys(t).forEach(function(r){if(l(t[r])&&!u(t[r])){var o=i?i+"."+r:i;e(t[r],n,o||r)}else{var a=i?i+"."+r:r;n.push(a)}}),n}(n);return t.forEach(function(t){i.forEach(function(i){var o=e(i),a=o.assign;r(o(t))&&a(t,o(n))})}),t}}]),t.module("a8m.every",[]).filter("every",["$parse",function(e){return function(t,n){return t=l(t)?f(t):t,!(u(t)&&!r(n))||t.every(function(t){return l(t)||o(n)?e(n)(t):t===n})}}]),t.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(e){return function(t,i,o){var c;return o=a(o)||s(o)?String(o).toLowerCase():n,t=l(t)?f(t):t,!u(t)||r(o)?t:t.filter(function(t){return i.some(function(n){if(~n.indexOf("+")){var i=n.replace(new RegExp("\\s","g"),"").split("+");c=i.reduce(function(n,i,r){return 1===r?e(n)(t)+" "+e(i)(t):n+" "+e(i)(t)})}else c=e(n)(t);return!(!a(c)&&!s(c))&&String(c).toLowerCase().contains(o)})})}}]),t.module("a8m.first",[]).filter("first",["$parse",function(e){return function(t){var i,r,o;return t=l(t)?f(t):t,u(t)?(o=Array.prototype.slice.call(arguments,1),i=s(o[0])?o[0]:1,r=s(o[0])?s(o[1])?n:o[1]:o[0],o.length?v(t,i,r?e(r):r):t[0]):t}}]),t.module("a8m.flatten",[]).filter("flatten",function(){return function(e,t){return t=t||!1,e=l(e)?f(e):e,u(e)?t?[].concat.apply([],e):function e(t,n){n=n||0;if(n>=t.length)return t;if(u(t[n]))return e(t.slice(0,n).concat(t[n],t.slice(n+1)),n);return e(t,n+1)}(e,0):e}}),t.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(e){return function(t,n,i,o){var s,c,d=o||!1;return t=l(t)?f(t):t,!u(t)||r(n)||r(i)?t:(c=e(n),t.filter(function(e){return s=c(e),!!a(s)&&(s=d?s:s.toLowerCase(),i=d?i:i.toLowerCase(),!1!==m(s,i))}))}}]),t.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(e,t,n){var i=n||!1;return e=l(e)?f(e):e,!u(e)||r(t)?e:(t=i?t:t.toLowerCase(),e.filter(function(e){return a(e)?!1!==m(e=i?e:e.toLowerCase(),t):!!l(e)&&function(e,t){var n,r;return 0<Object.keys(e).filter(function(o){return n=e[o],!!r||!!a(n)&&(n=i?n:n.toLowerCase(),r=!1!==m(n,t))}).length}(e,t)}))}}),t.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(e,t){return function(n,i){if(!l(n)||r(i))return n;var o=e(i);return t.isMemoized("groupBy",arguments)||t.memoize("groupBy",arguments,this,function(e,t){var n,i={};return c(e,function(e){n=t(e),i[n]||(i[n]=[]),i[n].push(e)}),i}(n,o))}}]),t.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(e){return l(e)?!f(e).length:!e.length}}),t.module("a8m.join",[]).filter("join",function(){return function(e,t){return r(e)||!u(e)?e:(r(t)&&(t=" "),e.join(t))}}),t.module("a8m.last",[]).filter("last",["$parse",function(e){return function(t){var i,r,o,a=p(t);return a=l(a)?f(a):a,u(a)?(o=Array.prototype.slice.call(arguments,1),i=s(o[0])?o[0]:1,r=s(o[0])?s(o[1])?n:o[1]:o[0],o.length?v(a.reverse(),i,r?e(r):r).reverse():a[a.length-1]):a}}]),t.module("a8m.map",[]).filter("map",["$parse",function(e){return function(t,n){return t=l(t)?f(t):t,!u(t)||r(n)?t:t.map(function(t){return e(n)(t)})}}]),t.module("a8m.omit",[]).filter("omit",["$parse",function(e){return function(t,n){return t=l(t)?f(t):t,!u(t)||r(n)?t:t.filter(function(t){return!e(n)(t)})}}]),t.module("a8m.pick",[]).filter("pick",["$parse",function(e){return function(t,n){return t=l(t)?f(t):t,!u(t)||r(n)?t:t.filter(function(t){return e(n)(t)})}}]),t.module("a8m.range",[]).filter("range",function(){return function(e,t){for(var n=0;n<parseInt(t);n++)e.push(n);return e}}),t.module("a8m.remove-with",[]).filter("removeWith",function(){return function(e,t){return r(t)?e:(e=l(e)?f(e):e).filter(function(e){return!g(t,e)})}}),t.module("a8m.remove",[]).filter("remove",function(){return function(e){e=l(e)?f(e):e;var t=Array.prototype.slice.call(arguments,1);return u(e)?e.filter(function(e){return!t.some(function(t){return h(t,e)})}):e}}),t.module("a8m.reverse",[]).filter("reverse",[function(){return function(e){return e=l(e)?f(e):e,a(e)?e.split("").reverse().join(""):u(e)?e.slice().reverse():e}}]),t.module("a8m.search-field",[]).filter("searchField",["$parse",function(e){return function(t){var n;t=l(t)?f(t):t;var i=Array.prototype.slice.call(arguments,1);return u(t)&&i.length?t.map(function(t){return n=i.map(function(n){return e(n)(t)}).join(" "),d(t,{searchField:n})}):t}}]),t.module("a8m.to-array",[]).filter("toArray",function(){return function(e,t){return l(e)?t?Object.keys(e).map(function(t){return d(e[t],{$key:t})}):f(e):e}}),t.module("a8m.unique",[]).filter({unique:["$parse",_],uniq:["$parse",_]}),t.module("a8m.where",[]).filter("where",function(){return function(e,t){return r(t)?e:(e=l(e)?f(e):e).filter(function(e){return g(t,e)})}}),t.module("a8m.xor",[]).filter("xor",["$parse",function(e){return function(t,n,i){return i=i||!1,t=l(t)?f(t):t,n=l(n)?f(n):n,u(t)&&u(n)?t.concat(n).filter(function(e){return!(r(e,t)&&r(e,n))}):t;function r(t,n){var r=e(i);return n.some(function(e){return i?h(r(e),r(t)):h(e,t)})}}}]),t.module("a8m.math.byteFmt",["a8m.math"]).filter("byteFmt",["$math",function(e){return function(t,n){return s(n)&&isFinite(n)&&n%1==0&&n>=0&&s(t)&&isFinite(t)?t<1024?y(t,n,e)+" B":t<1048576?y(t/1024,n,e)+" KB":t<1073741824?y(t/1048576,n,e)+" MB":y(t/1073741824,n,e)+" GB":"NaN"}}]),t.module("a8m.math.degrees",["a8m.math"]).filter("degrees",["$math",function(e){return function(t,n){if(s(n)&&isFinite(n)&&n%1==0&&n>=0&&s(t)&&isFinite(t)){var i=180*t/e.PI;return e.round(i*e.pow(10,n))/e.pow(10,n)}return"NaN"}}]),t.module("a8m.math.kbFmt",["a8m.math"]).filter("kbFmt",["$math",function(e){return function(t,n){return s(n)&&isFinite(n)&&n%1==0&&n>=0&&s(t)&&isFinite(t)?t<1024?y(t,n,e)+" KB":t<1048576?y(t/1024,n,e)+" MB":y(t/1048576,n,e)+" GB":"NaN"}}]),t.module("a8m.math",[]).factory("$math",["$window",function(e){return e.Math}]),t.module("a8m.math.max",["a8m.math"]).filter("max",["$math","$parse",function(e,t){return function(n,i){return u(n)?r(i)?e.max.apply(e,n):n[(o=n,a=i,s=o.map(function(e){return t(a)(e)}),s.indexOf(e.max.apply(e,s)))]:n;var o,a,s}}]),t.module("a8m.math.min",["a8m.math"]).filter("min",["$math","$parse",function(e,t){return function(n,i){return u(n)?r(i)?e.min.apply(e,n):n[(o=n,a=i,s=o.map(function(e){return t(a)(e)}),s.indexOf(e.min.apply(e,s)))]:n;var o,a,s}}]),t.module("a8m.math.percent",["a8m.math"]).filter("percent",["$math","$window",function(e,t){return function(n,i,r){var o=a(n)?t.Number(n):n;return i=i||100,r=r||!1,!s(o)||t.isNaN(o)?n:r?e.round(o/i*100):o/i*100}}]),t.module("a8m.math.radians",["a8m.math"]).filter("radians",["$math",function(e){return function(t,n){if(s(n)&&isFinite(n)&&n%1==0&&n>=0&&s(t)&&isFinite(t)){var i=3.14159265359*t/180;return e.round(i*e.pow(10,n))/e.pow(10,n)}return"NaN"}}]),t.module("a8m.math.radix",[]).filter("radix",function(){return function(e,t){return s(e)&&/^[2-9]$|^[1-2]\d$|^3[0-6]$/.test(t)?e.toString(t).toUpperCase():e}}),t.module("a8m.math.shortFmt",["a8m.math"]).filter("shortFmt",["$math",function(e){return function(t,n){return s(n)&&isFinite(n)&&n%1==0&&n>=0&&s(t)&&isFinite(t)?t<1e3?t:t<1e6?y(t/1e3,n,e)+" K":t<1e9?y(t/1e6,n,e)+" M":y(t/1e9,n,e)+" B":"NaN"}}]),t.module("a8m.math.sum",[]).filter("sum",function(){return function(e,t){return u(e)?e.reduce(function(e,t){return e+t},t||0):e}}),t.module("a8m.ends-with",[]).filter("endsWith",function(){return function(e,t,n){var i,o=n||!1;return!a(e)||r(t)?e:(i=(e=o?e:e.toLowerCase()).length-t.length,-1!==e.indexOf(o?t:t.toLowerCase(),i))}}),t.module("a8m.latinize",[]).filter("latinize",[function(){for(var e=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],t={},n=0;n<e.length;n++)for(var i=e[n].letters.split(""),r=0;r<i.length;r++)t[i[r]]=e[n].base;return function(e){return a(e)?e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e}):e}}]),t.module("a8m.ltrim",[]).filter("ltrim",function(){return function(e,t){var n=t||"\\s";return a(e)?e.replace(new RegExp("^"+n+"+"),""):e}}),t.module("a8m.match",[]).filter("match",function(){return function(e,t,n){var i=new RegExp(t,n);return a(e)?e.match(i):null}}),t.module("a8m.repeat",[]).filter("repeat",[function(){return function(e,t,n){var i=~~t;return a(e)&&i?function e(t,n,i){if(!n)return t;return t+i+e(t,--n,i)}(e,--t,n||""):e}}]),t.module("a8m.rtrim",[]).filter("rtrim",function(){return function(e,t){var n=t||"\\s";return a(e)?e.replace(new RegExp(n+"+$"),""):e}}),t.module("a8m.slugify",[]).filter("slugify",[function(){return function(e,t){var n=r(t)?"-":t;return a(e)?e.toLowerCase().replace(/\s+/g,n):e}}]),t.module("a8m.starts-with",[]).filter("startsWith",function(){return function(e,t,n){var i=n||!1;return!a(e)||r(t)?e:!(e=i?e:e.toLowerCase()).indexOf(i?t:t.toLowerCase())}}),t.module("a8m.stringular",[]).filter("stringular",function(){return function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return r(t[n])?e:t[n]})}}),t.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(e){return a(e)?e.replace(/<\S[^><]*>/g,""):e}}),t.module("a8m.test",[]).filter("test",function(){return function(e,t,n){var i=new RegExp(t,n);return a(e)?i.test(e):e}}),t.module("a8m.trim",[]).filter("trim",function(){return function(e,t){var n=t||"\\s";return a(e)?e.replace(new RegExp("^"+n+"+|"+n+"+$","g"),""):e}}),t.module("a8m.truncate",[]).filter("truncate",function(){return function(e,t,n,i){return t=r(t)?e.length:t,i=i||!1,n=n||"",!a(e)||e.length<=t?e:e.substring(0,i?-1===e.indexOf(" ",t)?e.length:e.indexOf(" ",t):t)+n}}),t.module("a8m.ucfirst",[]).filter("ucfirst",[function(){return function(e){return a(e)?e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" "):e}}]),t.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(e){return function(t){return a(t)?e.encodeURIComponent(t):t}}]),t.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(e){return function(t){return a(t)?e.encodeURI(t):t}}]),t.module("a8m.wrap",[]).filter("wrap",function(){return function(e,t,n){return a(e)&&i(t)?[t,e,n||t].join(""):e}}),t.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(e,n){var i={},o={},a=e.setTimeout;function s(e,n){return[e,t.toJson(n)].join("#").replace(/"/g,"")}function l(e){var t=e.targetScope.$id;c(o[t],function(e){delete i[e]}),delete o[t]}return{isMemoized:function(e,t){var n=s(e,t);return i[n]},memoize:function(e,t,u,c){var d,p=s(e,t);return i[p]=c,(d=u)&&d.$evalAsync&&d.$watch?function(e,t){var n=e.$id;r(o[n])&&(e.$on("$destroy",l),o[n]=[]),o[n].push(t)}(u,p):a(function(){n.$$phase||(i={})}),c}}}]}),t.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math","a8m.math.max","a8m.math.min","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular),function(e,t){"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e)}(this,function(e){function t(e){this._targetElement=e,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,scrollToElement:!0,overlayOpacity:.8}}function n(e){var t=[],n=this;if(this._options.steps)for(var s=[],u=0,c=this._options.steps.length;u<c;u++){var p=i(this._options.steps[u]);if(p.step=t.length+1,"string"==typeof p.element&&(p.element=document.querySelector(p.element)),void 0===p.element||null==p.element){var h=document.querySelector(".introjsFloatingElement");null==h&&((h=document.createElement("div")).className="introjsFloatingElement",document.body.appendChild(h)),p.element=h,p.position="floating"}null!=p.element&&t.push(p)}else{if((s=e.querySelectorAll("*[data-intro]")).length<1)return!1;u=0;for(var f=s.length;u<f;u++){var g=s[u],m=parseInt(g.getAttribute("data-step"),10);m>0&&(t[m-1]={element:g,intro:g.getAttribute("data-intro"),step:parseInt(g.getAttribute("data-step"),10),tooltipClass:g.getAttribute("data-tooltipClass"),position:g.getAttribute("data-position")||this._options.tooltipPosition})}var v=0;for(u=0,f=s.length;u<f;u++){if(null==(g=s[u]).getAttribute("data-step")){for(;void 0!==t[v];)v++;t[v]={element:g,intro:g.getAttribute("data-intro"),step:v+1,tooltipClass:g.getAttribute("data-tooltipClass"),position:g.getAttribute("data-position")||this._options.tooltipPosition}}}}for(var y=[],b=0;b<t.length;b++)t[b]&&y.push(t[b]);if((t=y).sort(function(e,t){return e.step-t.step}),n._introItems=t,function(e){var t=document.createElement("div"),n="",i=this;if(t.className="introjs-overlay","body"===e.tagName.toLowerCase())n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",t.setAttribute("style",n);else{var r=d(e);r&&(n+="width: "+r.width+"px; height:"+r.height+"px; top:"+r.top+"px;left: "+r.left+"px;",t.setAttribute("style",n))}return e.appendChild(t),t.onclick=function(){1==i._options.exitOnOverlayClick&&(a.call(i,e),void 0!=i._introExitCallback&&i._introExitCallback.call(i))},setTimeout(function(){n+="opacity: "+i._options.overlayOpacity.toString()+";",t.setAttribute("style",n)},10),!0}.call(n,e)){r.call(n);e.querySelector(".introjs-skipbutton"),e.querySelector(".introjs-nextbutton");n._onKeyDown=function(t){27===t.keyCode&&1==n._options.exitOnEsc?(a.call(n,e),void 0!=n._introExitCallback&&n._introExitCallback.call(n)):37===t.keyCode?o.call(n):39!==t.keyCode&&13!==t.keyCode||(r.call(n),t.preventDefault?t.preventDefault():t.returnValue=!1)},n._onResize=function(e){l.call(n,document.querySelector(".introjs-helperLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",n._onKeyDown,!0),window.addEventListener("resize",n._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",n._onKeyDown),document.attachEvent("onresize",n._onResize))}return!1}function i(e){if(null==e||"object"!=typeof e||void 0!==e.nodeType)return e;var t={};for(var n in e)t[n]=i(e[n]);return t}function r(){if(this._direction="forward",void 0===this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep)return"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void a.call(this,this._targetElement);var e=this._introItems[this._currentStep];void 0!==this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,e.element),u.call(this,e)}function o(){if(this._direction="backward",0===this._currentStep)return!1;var e=this._introItems[--this._currentStep];void 0!==this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,e.element),u.call(this,e)}function a(e){var t=e.querySelector(".introjs-overlay");if(null!=t){t.style.opacity=0,setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},500);var n=e.querySelector(".introjs-helperLayer");n&&n.parentNode.removeChild(n);var i=document.querySelector(".introjsFloatingElement");i&&i.parentNode.removeChild(i);var r=document.querySelector(".introjs-showElement");r&&(r.className=r.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""));var o=document.querySelectorAll(".introjs-fixParent");if(o&&o.length>0)for(var a=o.length-1;a>=0;a--)o[a].className=o[a].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}}function s(e,t,n,i){var r,o,a,s="";if(t.style.top=null,t.style.right=null,t.style.bottom=null,t.style.left=null,t.style.marginLeft=null,t.style.marginTop=null,n.style.display="inherit",void 0!==i&&null!=i&&(i.style.top=null,i.style.left=null),this._introItems[this._currentStep]){s="string"==typeof(r=this._introItems[this._currentStep]).tooltipClass?r.tooltipClass:this._options.tooltipClass,t.className=("introjs-tooltip "+s).replace(/^\s+|\s+$/g,"");s=this._options.tooltipClass;switch(currentTooltipPosition=this._introItems[this._currentStep].position,currentTooltipPosition){case"top":t.style.left="15px",t.style.top="-"+(d(t).height+10)+"px",n.className="introjs-arrow bottom";break;case"right":t.style.left=d(e).width+20+"px",n.className="introjs-arrow left";break;case"left":1==this._options.showStepNumbers&&(t.style.top="15px"),t.style.right=d(e).width+20+"px",n.className="introjs-arrow right";break;case"floating":n.style.display="none",o=d(t),t.style.left="50%",t.style.top="50%",t.style.marginLeft="-"+o.width/2+"px",t.style.marginTop="-"+o.height/2+"px",void 0!==i&&null!=i&&(i.style.left="-"+(o.width/2+18)+"px",i.style.top="-"+(o.height/2+18)+"px");break;case"bottom-right-aligned":n.className="introjs-arrow top-right",t.style.right="0px",t.style.bottom="-"+(d(t).height+10)+"px";break;case"bottom-middle-aligned":a=d(e),o=d(t),n.className="introjs-arrow top-middle",t.style.left=a.width/2-o.width/2+"px",t.style.bottom="-"+(o.height+10)+"px";break;case"bottom-left-aligned":case"bottom":default:t.style.bottom="-"+(d(t).height+10)+"px",n.className="introjs-arrow top"}}}function l(e){if(e){if(!this._introItems[this._currentStep])return;var t=this._introItems[this._currentStep],n=d(t.element),i=10;"floating"==t.position&&(i=0),e.setAttribute("style","width: "+(n.width+i)+"px; height:"+(n.height+i)+"px; top:"+(n.top-5)+"px;left: "+(n.left-5)+"px;")}}function u(e){void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,e.element);var t=this,n=document.querySelector(".introjs-helperLayer");d(e.element);if(null!=n){var i=n.querySelector(".introjs-helperNumberLayer"),u=n.querySelector(".introjs-tooltiptext"),p=n.querySelector(".introjs-arrow"),h=n.querySelector(".introjs-tooltip"),f=n.querySelector(".introjs-skipbutton"),g=n.querySelector(".introjs-prevbutton"),m=n.querySelector(".introjs-nextbutton");if(h.style.opacity=0,null!=i){var v=this._introItems[e.step-2>=0?e.step-2:0];(null!=v&&"forward"==this._direction&&"floating"==v.position||"backward"==this._direction&&"floating"==e.position)&&(i.style.opacity=0)}l.call(t,n);var y=document.querySelectorAll(".introjs-fixParent");if(y&&y.length>0)for(var b=y.length-1;b>=0;b--)y[b].className=y[b].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");var w=document.querySelector(".introjs-showElement");w.className=w.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),t._lastShowElementTimer&&clearTimeout(t._lastShowElementTimer),t._lastShowElementTimer=setTimeout(function(){null!=i&&(i.innerHTML=e.step),u.innerHTML=e.intro,s.call(t,e.element,h,p,i),n.querySelector(".introjs-bullets li > a.active").className="",n.querySelector('.introjs-bullets li > a[data-stepnumber="'+e.step+'"]').className="active",h.style.opacity=1,i&&(i.style.opacity=1)},350)}else{var $=document.createElement("div"),C=document.createElement("div"),S=document.createElement("div"),x=document.createElement("div"),E=document.createElement("div"),k=document.createElement("div");$.className="introjs-helperLayer",l.call(t,$),this._targetElement.appendChild($),C.className="introjs-arrow",x.className="introjs-tooltiptext",x.innerHTML=e.intro,E.className="introjs-bullets",!1===this._options.showBullets&&(E.style.display="none");for(var D=document.createElement("ul"),_=(b=0,this._introItems.length);b<_;b++){var M=document.createElement("li"),T=document.createElement("a");T.onclick=function(){t.goToStep(this.getAttribute("data-stepnumber"))},0===b&&(T.className="active"),T.href="javascript:void(0);",T.innerHTML="&nbsp;",T.setAttribute("data-stepnumber",this._introItems[b].step),M.appendChild(T),D.appendChild(M)}if(E.appendChild(D),k.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(k.style.display="none"),S.className="introjs-tooltip",S.appendChild(x),S.appendChild(E),1==this._options.showStepNumbers){var O=document.createElement("span");O.className="introjs-helperNumberLayer",O.innerHTML=e.step,$.appendChild(O)}S.appendChild(C),$.appendChild(S),(m=document.createElement("a")).onclick=function(){t._introItems.length-1!=t._currentStep&&r.call(t)},m.href="javascript:void(0);",m.innerHTML=this._options.nextLabel,(g=document.createElement("a")).onclick=function(){0!=t._currentStep&&o.call(t)},g.href="javascript:void(0);",g.innerHTML=this._options.prevLabel,(f=document.createElement("a")).className="introjs-button introjs-skipbutton",f.href="javascript:void(0);",f.innerHTML=this._options.skipLabel,f.onclick=function(){t._introItems.length-1==t._currentStep&&"function"==typeof t._introCompleteCallback&&t._introCompleteCallback.call(t),t._introItems.length-1!=t._currentStep&&"function"==typeof t._introExitCallback&&t._introExitCallback.call(t),a.call(t,t._targetElement)},k.appendChild(f),this._introItems.length>1&&(k.appendChild(g),k.appendChild(m)),S.appendChild(k),s.call(t,e.element,S,C,O)}0==this._currentStep&&this._introItems.length>1?(g.className="introjs-button introjs-prevbutton introjs-disabled",m.className="introjs-button introjs-nextbutton",f.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep||1==this._introItems.length?(f.innerHTML=this._options.doneLabel,g.className="introjs-button introjs-prevbutton",m.className="introjs-button introjs-nextbutton introjs-disabled"):(g.className="introjs-button introjs-prevbutton",m.className="introjs-button introjs-nextbutton",f.innerHTML=this._options.skipLabel),m.focus(),e.element.className+=" introjs-showElement";var A=c(e.element,"position");"absolute"!==A&&"relative"!==A&&(e.element.className+=" introjs-relativePosition");for(var P=e.element.parentNode;null!=P&&"body"!==P.tagName.toLowerCase();){var I=c(P,"z-index"),R=parseFloat(c(P,"opacity"));(/[0-9]+/.test(I)||R<1)&&(P.className+=" introjs-fixParent"),P=P.parentNode}if(!function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom+80<=window.innerHeight&&t.right<=window.innerWidth}(e.element)&&!0===this._options.scrollToElement){var L=e.element.getBoundingClientRect(),N=function(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}().height,F=L.bottom-(L.bottom-L.top),G=L.bottom-N;F<0||e.element.clientHeight>N?window.scrollBy(0,F-30):window.scrollBy(0,G+100)}void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,e.element)}function c(e,t){var n="";return e.currentStyle?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function d(e){var t={};t.width=e.offsetWidth,t.height=e.offsetHeight;for(var n=0,i=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)n+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return t.top=i,t.left=n,t}var p=function(e){if("object"==typeof e)return new t(e);if("string"==typeof e){var n=document.querySelector(e);if(n)return new t(n);throw new Error("There is no element with given selector.")}return new t(document.body)};return p.version="0.9.0",p.fn=t.prototype={clone:function(){return new t(this)},setOption:function(e,t){return this._options[e]=t,this},setOptions:function(e){return this._options=function(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n}(this._options,e),this},start:function(){return n.call(this,this._targetElement),this},goToStep:function(e){return function(e){this._currentStep=e-2,void 0!==this._introItems&&r.call(this)}.call(this,e),this},nextStep:function(){return r.call(this),this},previousStep:function(){return o.call(this),this},exit:function(){a.call(this,this._targetElement)},refresh:function(){return l.call(this,document.querySelector(".introjs-helperLayer")),this},onbeforechange:function(e){if("function"!=typeof e)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},onchange:function(e){if("function"!=typeof e)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},onafterchange:function(e){if("function"!=typeof e)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},oncomplete:function(e){if("function"!=typeof e)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},onexit:function(e){if("function"!=typeof e)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this}},e.introJs=p,p}),function(e,t,n){"use strict";function i(e,t){return("string"==typeof t||t instanceof String)&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every(function(t){return i(e,t)}):t&&Array.isArray(t.or)?t.or.some(function(t){return i(e,t)}):!(!t||!t.not)&&!i(e,t.not)}function r(e,t){return("string"==typeof t||t instanceof String)&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce(function(t,n){return t||r(e,n)},null):null}n&&n.module("reTree",[]).factory("reTree",[function(){return{test:i,exec:r}}]),t&&(t.reTree={test:i,exec:r}),e&&e.exports&&(e.exports={test:i,exec:r})}("undefined"==typeof module?null:module,"undefined"==typeof window?null:window,"undefined"==typeof angular?null:angular),angular.module("xhr.colorpicker.module",[]).factory("Helper",function(){return{closestSlider:function(e){return(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector).bind(e)("I")?e.parentNode:e},getOffset:function(e,t){for(var n=0,i=0,r=0,o=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)n+=e.offsetLeft,i+=e.offsetTop,t||"BODY"!==e.tagName?(r+=e.scrollLeft,o+=e.scrollTop):(r+=document.documentElement.scrollLeft||e.scrollLeft,o+=document.documentElement.scrollTop||e.scrollTop),e=e.offsetParent;return{top:i,left:n,scrollX:r,scrollY:o}},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}]}}).factory("Color",["Helper",function(e){return{value:{h:1,s:1,b:1,a:1},rgb:function(){var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(e,t,n,i){var r,o;return e/=255,t/=255,n/=255,{h:((0===(o=(r=Math.max(e,t,n))-Math.min(e,t,n))?null:r===e?(t-n)/o:r===t?(n-e)/o+2:(e-t)/o+4)+360)%6*60/360||1,s:0===o?0:o/r,b:r,a:i||1}},setColor:function(t){for(var n in t=t.toLowerCase(),e.stringParsers)if(e.stringParsers.hasOwnProperty(n)){var i=e.stringParsers[n],r=i.re.exec(t),o=r&&i.parse(r);if(o)return this.value=this.RGBtoHSB.apply(null,o),!1}},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,n,i){var r,o,a,s,l;return e||(e=this.value.h,t=this.value.s,n=this.value.b),e=(e*=360)%360/60,r=o=a=n-(l=n*t),r+=[l,s=l*(1-Math.abs(e%2-1)),0,0,s,l][e=~~e],o+=[s,l,l,s,0,0][e],a+=[0,0,s,l,l,s][e],{r:Math.round(255*r),g:Math.round(255*o),b:Math.round(255*a),a:i||this.value.a}},toHex:function(e,t,n,i){var r=this.toRGB(e,t,n,i);return"#"+(1<<24|parseInt(r.r,10)<<16|parseInt(r.g,10)<<8|parseInt(r.b,10)).toString(16).substr(1)}}}]).factory("Slider",["Helper",function(e){var t={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},n={};return{getSlider:function(){return t},getLeftPosition:function(e){return Math.max(0,Math.min(t.maxLeft,t.left+((e.pageX||n.left)-n.left)))},getTopPosition:function(e){return Math.max(0,Math.min(t.maxTop,t.top+((e.pageY||n.top)-n.top)))},setSlider:function(i,r){var o=e.closestSlider(i.target),a=e.getOffset(o,r);t.knob=o.children[0].style,t.left=i.pageX-a.left-window.pageXOffset+a.scrollX,t.top=i.pageY-a.top-window.pageYOffset+a.scrollY,n={left:i.pageX,top:i.pageY}},setSaturation:function(e,n){t={maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(e,n)},setHue:function(e,n){t={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},this.setSlider(e,n)},setAlpha:function(e,n){t={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"},this.setSlider(e,n)},setKnob:function(e,n){t.knob.top=e+"px",t.knob.left=n+"px"}}}]).directive("colorpicker",["$document","$compile","Color","Slider","Helper",function(e,t,n,i,r){return{require:"?ngModel",restrict:"A",link:function(o,a,s,l){var u,c=s.colorpicker?s.colorpicker:"hex",d=angular.isDefined(s.colorpickerPosition)?s.colorpickerPosition:"bottom",p=!!angular.isDefined(s.colorpickerFixedPosition)&&s.colorpickerFixedPosition,h=angular.isDefined(s.colorpickerParent)?a.parent():angular.element(document.body),f=!!angular.isDefined(s.colorpickerWithInput)&&s.colorpickerWithInput,g='<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>'+(f?'<input type="text" name="colorpicker-input">':"")+'<button class="close close-colorpicker">&times;</button></div></div>',m=angular.element(g),v=n,y=m.find("colorpicker-hue"),b=m.find("colorpicker-saturation"),w=m.find("colorpicker-preview"),$=m.find("i");if(t(m)(o),f){var C=m.find("input");C.on("mousedown",function(e){e.stopPropagation()}).on("keyup",function(e){var t=this.value;a.val(t),l&&o.$apply(l.$setViewValue(t)),e.stopPropagation(),e.preventDefault()}),a.on("keyup",function(){C.val(a.val())})}var S=function(){e.on("mousemove",E),e.on("mouseup",k)};"rgba"===c&&(m.addClass("alpha"),(u=m.find("colorpicker-alpha")).on("click",function(e){i.setAlpha(e,p),E(e)}).on("mousedown",function(e){i.setAlpha(e,p),S()})),y.on("click",function(e){i.setHue(e,p),E(e)}).on("mousedown",function(e){i.setHue(e,p),S()}),b.on("click",function(e){i.setSaturation(e,p),E(e)}).on("mousedown",function(e){i.setSaturation(e,p),S()}),p&&m.addClass("colorpicker-fixed-position"),m.addClass("colorpicker-position-"+d),h.append(m),l&&(l.$render=function(){a.val(l.$viewValue)},o.$watch(s.ngModel,function(){D()})),a.on("$destroy",function(){m.remove()});var x=function(){try{w.css("backgroundColor",v[c]())}catch(e){w.css("backgroundColor",v.toHex())}b.css("backgroundColor",v.toHex(v.value.h,1,1,1)),"rgba"===c&&(u.css.backgroundColor=v.toHex())},E=function(e){var t=i.getLeftPosition(e),n=i.getTopPosition(e),r=i.getSlider();i.setKnob(n,t),r.callLeft&&v[r.callLeft].call(v,t/100),r.callTop&&v[r.callTop].call(v,n/100),x();var s=v[c]();return a.val(s),l&&o.$apply(l.$setViewValue(s)),f&&C.val(s),!1},k=function(){e.off("mousemove",E),e.off("mouseup",k)},D=function(){v.setColor(a.val()),$.eq(0).css({left:100*v.value.s+"px",top:100-100*v.value.b+"px"}),$.eq(1).css("top",100*(1-v.value.h)+"px"),$.eq(2).css("top",100*(1-v.value.a)+"px"),x()},_=function(){M()};a.on("click",function(){var t,n;D(),m.addClass("colorpicker-visible").css((n=r.getOffset(a[0]),angular.isDefined(s.colorpickerParent)&&(n.left=0,n.top=0),"top"===d?t={top:n.top-147,left:n.left}:"right"===d?t={top:n.top,left:n.left+126}:"bottom"===d?t={top:n.top+a[0].offsetHeight+2,left:n.left}:"left"===d&&(t={top:n.top,left:n.left-150}),{top:t.top+"px",left:t.left+"px"})),e.on("mousedown",_)}),m.on("mousedown",function(e){e.stopPropagation(),e.preventDefault()});var M=function(){var t;m.hasClass("colorpicker-visible")&&(m.removeClass("colorpicker-visible"),t="colorpicker-closed",l&&o.$emit(t,{name:s.ngModel,value:l.$modelValue}),e.off("mousedown",_))};m.find("button").on("click",function(){M()})}}}]),function(){"use strict";var e,t=angular.module("translate.sub",[]);t.provider("$translate",[function(){var e=[],t="en-US";this.translations=function(n,i){angular.isDefined(n)&&angular.isDefined(i)&&(e[n]=angular.copy(i),t=n)},this.$get=[function(){return{instant:function(n){return angular.isDefined(n)&&angular.isDefined(e[t][n])?e[t][n]:""}}}]}]),t.filter("translate",["$translate",function(e){return function(t){return e.instant(t)}}]);try{angular.module("pascalprecht.translate"),e=angular.module("dialogs.controllers",["ui.bootstrap.modal","pascalprecht.translate"])}catch(t){e=angular.module("dialogs.controllers",["ui.bootstrap.modal","translate.sub"])}e.controller("errorDialogCtrl",["$scope","$uibModalInstance","$translate","data",function(e,t,n,i){e.header=angular.isDefined(i.header)?i.header:n.instant("DIALOGS_ERROR"),e.msg=angular.isDefined(i.msg)?i.msg:n.instant("DIALOGS_ERROR_MSG"),e.icon=angular.isDefined(i.fa)&&angular.equals(i.fa,!0)?"fa fa-warning":"glyphicon glyphicon-warning-sign",e.close=function(){t.close(),e.$destroy()}}]),e.controller("waitDialogCtrl",["$scope","$uibModalInstance","$translate","$timeout","data",function(e,t,n,i,r){e.header=angular.isDefined(r.header)?r.header:n.instant("DIALOGS_PLEASE_WAIT_ELIPS"),e.msg=angular.isDefined(r.msg)?r.msg:n.instant("DIALOGS_PLEASE_WAIT_MSG"),e.progress=angular.isDefined(r.progress)?r.progress:100,e.icon=angular.isDefined(r.fa)&&angular.equals(r.fa,!0)?"fa fa-clock-o":"glyphicon glyphicon-time",e.$on("dialogs.wait.complete",function(){i(function(){t.close(),e.$destroy()})}),e.$on("dialogs.wait.message",function(t,n){e.msg=angular.isDefined(n.msg)?n.msg:e.msg}),e.$on("dialogs.wait.progress",function(t,n){e.msg=angular.isDefined(n.msg)?n.msg:e.msg,e.progress=angular.isDefined(n.progress)?n.progress:e.progress}),e.getProgress=function(){return{width:e.progress+"%"}}}]),e.controller("notifyDialogCtrl",["$scope","$uibModalInstance","$translate","data",function(e,t,n,i){e.header=angular.isDefined(i.header)?i.header:n.instant("DIALOGS_NOTIFICATION"),e.msg=angular.isDefined(i.msg)?i.msg:n.instant("DIALOGS_NOTIFICATION_MSG"),e.icon=angular.isDefined(i.fa)&&angular.equals(i.fa,!0)?"fa fa-info":"glyphicon glyphicon-info-sign",e.close=function(){t.close(),e.$destroy()}}]),e.controller("confirmDialogCtrl",["$scope","$uibModalInstance","$translate","data",function(e,t,n,i){e.header=angular.isDefined(i.header)?i.header:n.instant("DIALOGS_CONFIRMATION"),e.msg=angular.isDefined(i.msg)?i.msg:n.instant("DIALOGS_CONFIRMATION_MSG"),e.icon=angular.isDefined(i.fa)&&angular.equals(i.fa,!0)?"fa fa-check":"glyphicon glyphicon-check",e.no=function(){t.dismiss("no")},e.yes=function(){t.close("yes")}}]),angular.module("dialogs.services",["ui.bootstrap.modal","dialogs.controllers"]).provider("dialogs",[function(){var e=!0,t=!0,n="dialogs-default",i=!0,r="lg",o=!1,a=!1,s=function(i){var a={};return i=i||{},a.kb=angular.isDefined(i.keyboard)?!!i.keyboard:t,a.bd=angular.isDefined(i.backdrop)?i.backdrop:e,a.bdc=angular.isDefined(i.backdropClass)?i.backdropClass:"dialogs-backdrop-default",a.ws=!angular.isDefined(i.size)||"sm"!==i.size&&"lg"!==i.size&&"md"!==i.size?r:i.size,a.wc=angular.isDefined(i.windowClass)?i.windowClass:n,a.anim=angular.isDefined(i.animation)?!!i.animation:o,a};this.useBackdrop=function(t){angular.isDefined(t)&&(e=t)},this.useEscClose=function(e){angular.isDefined(e)&&(t=!(angular.equals(e,0)||angular.equals(e,"false")||angular.equals(e,"no")||angular.equals(e,null)||angular.equals(e,!1)))},this.useClass=function(e){angular.isDefined(e)&&(n=e)},this.useCopy=function(e){angular.isDefined(e)&&(i=!(angular.equals(e,0)||angular.equals(e,"false")||angular.equals(e,"no")||angular.equals(e,null)||angular.equals(e,!1)))},this.setWindowTmpl=function(e){angular.isDefined(e)&&e},this.setSize=function(e){angular.isDefined(e)&&(r=angular.equals(e,"sm")||angular.equals(e,"lg")||angular.equals(e,"md")?e:r)},this.useAnimation=function(){o=!0},this.useFontAwesome=function(){a=!0},this.$get=["$uibModal",function(e){return{error:function(t,n,i){return i=s(i),e.open({templateUrl:"/dialogs/error.html",controller:"errorDialogCtrl",backdrop:i.bd,backdropClass:i.bdc,keyboard:i.kb,windowClass:i.wc,openedClass:"open-dialog",size:i.ws,animation:i.anim,resolve:{data:function(){return{header:angular.copy(t),msg:angular.copy(n),fa:a}}}})},wait:function(t,n,i,r){return r=s(r),e.open({templateUrl:"/dialogs/wait.html",controller:"waitDialogCtrl",backdrop:r.bd,backdropClass:r.bdc,keyboard:r.kb,windowClass:r.wc,openedClass:"open-dialog",size:r.ws,animation:r.anim,resolve:{data:function(){return{header:angular.copy(t),msg:angular.copy(n),progress:angular.copy(i),fa:a}}}})},notify:function(t,n,i){return i=s(i),e.open({templateUrl:"/dialogs/notify.html",controller:"notifyDialogCtrl",backdrop:i.bd,backdropClass:i.bdc,keyboard:i.kb,windowClass:i.wc,openedClass:"open-dialog",size:i.ws,animation:i.anim,resolve:{data:function(){return{header:angular.copy(t),msg:angular.copy(n),fa:a}}}})},confirm:function(t,n,i){return i=s(i),e.open({templateUrl:"/dialogs/confirm.html",controller:"confirmDialogCtrl",backdrop:i.bd,backdropClass:i.bdc,keyboard:i.kb,windowClass:i.wc,openedClass:"open-dialog",size:i.ws,animation:i.anim,resolve:{data:function(){return{header:angular.copy(t),msg:angular.copy(n),fa:a}}}})},create:function(t,n,r,o,a){var l=o&&angular.isDefined(o.copy)?o.copy:i;return o=s(o),e.open({templateUrl:t,controller:n,controllerAs:a,keyboard:o.kb,backdrop:o.bd,backdropClass:o.bdc,windowClass:o.wc,openedClass:"open-dialog",size:o.ws,animation:o.anim,resolve:{data:function(){return l?angular.copy(r):r}}})}}}]}]),angular.module("dialogs.main",["dialogs.services","ngSanitize"]).config(["$translateProvider","dialogsProvider",function(e,t){try{angular.module("pascalprecht.translate")}catch(t){e.translations("en-US",{DIALOGS_ERROR:"Error",DIALOGS_ERROR_MSG:"An unknown error has occurred.",DIALOGS_CLOSE:"Close",DIALOGS_PLEASE_WAIT:"Please Wait",DIALOGS_PLEASE_WAIT_ELIPS:"Please Wait...",DIALOGS_PLEASE_WAIT_MSG:"Waiting on operation to complete.",DIALOGS_PERCENT_COMPLETE:"% Complete",DIALOGS_NOTIFICATION:"Notification",DIALOGS_NOTIFICATION_MSG:"Unknown application notification.",DIALOGS_CONFIRMATION:"Confirmation",DIALOGS_CONFIRMATION_MSG:"Confirmation required.",DIALOGS_OK:"OK",DIALOGS_YES:"Yes",DIALOGS_NO:"No"})}try{var n=document.styleSheets;e:for(var i=n.length-1;i>=0;i--){var r=null,o=null;if(!n[i].disabled){if(null!==n[i].href&&(r=n[i].href.match(/font\-*awesome/i)),angular.isArray(r)){t.useFontAwesome();break}for(var a=(o=n[i].cssRules).length-1;a>=0;a--)if(".fa"==o[a].selectorText.toLowerCase()){t.useFontAwesome();break e}}}}catch(e){}}]).run(["$templateCache","$interpolate",function(e,t){var n=t.startSymbol(),i=t.endSymbol();e.put("/dialogs/error.html",'<div class="modal-header dialog-header-error"><button type="button" class="close" ng-click="close()">&times;</button><h4 class="modal-title text-danger"><span class="'+n+"icon"+i+'"></span> <span ng-bind-html="header"></span></h4></div><div class="modal-body text-danger" ng-bind-html="msg"></div><div class="modal-footer content-container"><button type="button" class="btn btn-default" ng-click="close()">'+n+'"DIALOGS_CLOSE" | translate'+i+"</button></div>"),e.put("/dialogs/wait.html",'<div class="modal-header dialog-header-wait"><h4 class="modal-title"><span class="'+n+"icon"+i+'"></span> '+n+"header"+i+'</h4></div><div class="modal-body"><p ng-bind-html="msg"></p><div class="progress progress-striped active"><div class="progress-bar progress-bar-info" ng-style="getProgress()"></div><span class="sr-only">'+n+"progress"+i+n+'"DIALOGS_PERCENT_COMPLETE" | translate'+i+"</span></div></div>"),e.put("/dialogs/notify.html",'<div class="modal-header dialog-header-notify"><button type="button" class="close" ng-click="close()" class="pull-right">&times;</button><h4 class="modal-title text-info"><span class="'+n+"icon"+i+'"></span> '+n+"header"+i+'</h4></div><div class="modal-body text-info" ng-bind-html="msg"></div><div class="modal-footer content-container"><button type="button" class="btn btn-sm-submit" ng-click="close()">'+n+'"DIALOGS_OK" | translate'+i+"</button></div>"),e.put("/dialogs/confirm.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="no()">&times;</button><h4 class="modal-title"><span class="'+n+"icon"+i+'"></span> '+n+"header"+i+'</h4></div><div class="modal-body" ng-bind-html="msg"></div><div class="modal-footer content-container"><button type="button" class="btn btn-sm-submit" ng-click="yes()">'+n+'"DIALOGS_YES" | translate'+i+'</button><button type="button" class="btn btn-sm-reject" ng-click="no()">'+n+'"DIALOGS_NO" | translate'+i+"</button></div>")}])}(),function(e){"use strict";"function"==typeof define&&define.amd?define(["angular","moment"],e):e(window.angular,window.moment)}(function(e,t){"use strict";e.module("ui.bootstrap.datetimepicker",[]).constant("dateTimePickerConfig",{dropdownSelector:null,minuteStep:5,minView:"minute",startView:"day"}).directive("datetimepicker",["$log","dateTimePickerConfig",function(n,i){function r(){this.dateValue=(new Date).getTime(),this.selectable=!0;var e=["dateValue","display","active","selectable","past","future"];for(var t in arguments[0])e.indexOf(t)>=0&&(this[t]=arguments[0][t])}return{restrict:"E",require:"ngModel",template:'<div class="datetimepicker table-responsive"><table class="table table-striped">   <thead>       <tr>           <th class="left" data-ng-click="changeView(data.currentView, data.leftDate, $event)" data-ng-show="data.leftDate.selectable"><i class="icon-arrow-left3"/></th>           <th class="switch" colspan="5" data-ng-show="data.previousViewDate.selectable" data-ng-click="changeView(data.previousView, data.previousViewDate, $event)">{{ data.previousViewDate.display }}</th>           <th class="right" data-ng-click="changeView(data.currentView, data.rightDate, $event)" data-ng-show="data.rightDate.selectable"><i class="icon-arrow-right4"/></th>       </tr>       <tr>           <th class="dow" data-ng-repeat="day in data.dayNames" >{{ day }}</th>       </tr>   </thead>   <tbody>       <tr data-ng-if="data.currentView !== \'day\'" >           <td colspan="7" >              <span    class="{{ data.currentView }}"                        data-ng-repeat="dateObject in data.dates"                         data-ng-class="{active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}"                        data-ng-click="changeView(data.nextView, dateObject, $event)">{{ dateObject.display }}</span>            </td>       </tr>       <tr data-ng-if="data.currentView === \'day\'" data-ng-repeat="week in data.weeks">           <td data-ng-repeat="dateObject in week.dates"                data-ng-click="changeView(data.nextView, dateObject, $event)"               class="day"                data-ng-class="{active: dateObject.active, past: dateObject.past, future: dateObject.future, disabled: !dateObject.selectable}" >{{ dateObject.display }}</td>       </tr>   </tbody></table></div>',scope:{onSetTime:"&",beforeRender:"&"},replace:!0,link:function(o,a,s,l){var u={};s.datetimepickerConfig&&(u=o.$parent.$eval(s.datetimepickerConfig));var c={};e.extend(c,i,u),function(t){var i=["startView","minView","minuteStep","dropdownSelector"];for(var r in t)if(i.indexOf(r)<0)throw"invalid option: "+r;var o=["minute","hour","day","month","year"];if(o.indexOf(t.startView)<0)throw"invalid startView value: "+t.startView;if(o.indexOf(t.minView)<0)throw"invalid minView value: "+t.minView;if(o.indexOf(t.minView)>o.indexOf(t.startView))throw"startView must be greater than minView";if(!e.isNumber(t.minuteStep))throw"minuteStep must be numeric";if(t.minuteStep<=0||t.minuteStep>=60)throw"minuteStep must be greater than zero and less than 60";if(null!==t.dropdownSelector&&!e.isString(t.dropdownSelector))throw"dropdownSelector must be a string";null===t.dropdownSelector||"undefined"!=typeof jQuery&&"function"==typeof jQuery().dropdown||(n.error("Please DO NOT specify the dropdownSelector option unless you are using jQuery AND Bootstrap.js. Please include jQuery AND Bootstrap.js, or write code to close the dropdown in the on-set-time callback. \n\nThe dropdownSelector configuration option is being removed because it will not function properly."),delete t.dropdownSelector)}(c);var d=function(e){var n=10*parseInt(t.utc(e).year()/10,10);return t.utc(e).year(n).startOf("year")},p={year:function(e){for(var n=t.utc(e).startOf("year"),i=10*parseInt(n.year()/10,10),o=t.utc(d(e)).subtract(1,"year").startOf("year"),a=l.$modelValue?t(l.$modelValue).year():0,s={currentView:"year",nextView:"year"===c.minView?"setTime":"month",previousViewDate:new r({dateValue:null,display:i+"-"+(i+9)}),leftDate:new r({dateValue:t.utc(o).subtract(9,"year").valueOf()}),rightDate:new r({dateValue:t.utc(o).add(11,"year").valueOf()}),dates:[]},u=0;u<12;u+=1){var p=t.utc(o).add(u,"years"),h={dateValue:p.valueOf(),display:p.format("YYYY"),past:p.year()<i,future:p.year()>i+9,active:p.year()===a};s.dates.push(new r(h))}return s},month:function(e){for(var n=t.utc(e).startOf("year"),i=d(e),o=l.$modelValue?t(l.$modelValue).format("YYYY-MMM"):0,a={previousView:"year",currentView:"month",nextView:"month"===c.minView?"setTime":"day",previousViewDate:new r({dateValue:i.valueOf(),display:n.format("YYYY")}),leftDate:new r({dateValue:t.utc(n).subtract(1,"year").valueOf()}),rightDate:new r({dateValue:t.utc(n).add(1,"year").valueOf()}),dates:[]},s=0;s<12;s+=1){var u=t.utc(n).add(s,"months"),p={dateValue:u.valueOf(),display:u.format("MMM"),active:u.format("YYYY-MMM")===o};a.dates.push(new r(p))}return a},day:function(e){for(var n=t.utc(e),i=t.utc(n).startOf("month"),o=t.utc(n).startOf("year"),a=t.utc(n).endOf("month"),s=t.utc(i).subtract(Math.abs(i.weekday()),"days"),u=l.$modelValue?t(l.$modelValue).format("YYYY-MMM-DD"):"",d={previousView:"month",currentView:"day",nextView:"day"===c.minView?"setTime":"hour",previousViewDate:new r({dateValue:o.valueOf(),display:i.format("YYYY-MMM")}),leftDate:new r({dateValue:t.utc(i).subtract(1,"months").valueOf()}),rightDate:new r({dateValue:t.utc(i).add(1,"months").valueOf()}),dayNames:[],weeks:[]},p=0;p<7;p+=1)d.dayNames.push(t.utc().weekday(p).format("dd"));for(var h=0;h<6;h+=1){for(var f={dates:[]},g=0;g<7;g+=1){var m=t.utc(s).add(7*h+g,"days"),v={dateValue:m.valueOf(),display:m.format("D"),active:m.format("YYYY-MMM-DD")===u,past:m.isBefore(i),future:m.isAfter(a)};f.dates.push(new r(v))}d.weeks.push(f)}return d},hour:function(e){for(var n=t.utc(e).startOf("day"),i=t.utc(n).startOf("month"),o=l.$modelValue?t(l.$modelValue).format("YYYY-MM-DD H"):"",a={previousView:"day",currentView:"hour",nextView:"hour"===c.minView?"setTime":"minute",previousViewDate:new r({dateValue:i.valueOf(),display:n.format("ll")}),leftDate:new r({dateValue:t.utc(n).subtract(1,"days").valueOf()}),rightDate:new r({dateValue:t.utc(n).add(1,"days").valueOf()}),dates:[]},s=0;s<24;s+=1){var u=t.utc(n).add(s,"hours"),d={dateValue:u.valueOf(),display:u.format("LT"),active:u.format("YYYY-MM-DD H")===o};a.dates.push(new r(d))}return a},minute:function(e){for(var n=t.utc(e).startOf("hour"),i=t.utc(n).startOf("day"),o=l.$modelValue?t(l.$modelValue).format("YYYY-MM-DD H:mm"):"",a={previousView:"hour",currentView:"minute",nextView:"setTime",previousViewDate:new r({dateValue:i.valueOf(),display:n.format("lll")}),leftDate:new r({dateValue:t.utc(n).subtract(1,"hours").valueOf()}),rightDate:new r({dateValue:t.utc(n).add(1,"hours").valueOf()}),dates:[]},s=60/c.minuteStep,u=0;u<s;u+=1){var d=t.utc(n).add(u*c.minuteStep,"minute"),p={dateValue:d.valueOf(),display:d.format("LT"),active:d.format("YYYY-MM-DD H:mm")===o};a.dates.push(new r(p))}return a},setTime:function(e){var t=new Date(e),n=new Date(t.getTime()+6e4*t.getTimezoneOffset()),i=l.$modelValue;return l.$setViewValue(n),c.dropdownSelector&&jQuery(c.dropdownSelector).dropdown("toggle"),o.onSetTime({newDate:n,oldDate:i}),p[c.startView](e)}};o.changeView=function(e,t,n){if(n&&(n.stopPropagation(),n.preventDefault()),e&&t.dateValue>-1/0&&t.selectable&&p[e]){var i=p[e](t.dateValue),r=[];if(i.weeks)for(var a=0;a<i.weeks.length;a+=1)for(var s=i.weeks[a],l=0;l<s.dates.length;l+=1){var u=s.dates[l];r.push(u)}o.beforeRender({$view:i.currentView,$dates:i.dates||r,$leftDate:i.leftDate,$upDate:i.previousViewDate,$rightDate:i.rightDate}),o.data=i}},l.$render=function(){var e,n;o.changeView(c.startView,new r({dateValue:(e=l.$viewValue,n=e?t(e).toDate():new Date,n.getTime()-6e4*n.getTimezoneOffset())}))}}}}])}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";e.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",n(1)]).factory("FileSaverUtils",[n(2)]).factory("Blob",["$window",n(3)]).factory("SaveAs",[n(5)])},function(e,t){"use strict";e.exports=function(e,t,n){return{saveAs:function(e,i,r){return n.isBlobInstance(e)||n.handleErrors("Data argument should be a blob instance"),n.isString(i)||n.handleErrors("Filename argument should be a string"),function(e,i,r){try{t(e,i,r)}catch(e){n.handleErrors(e.message)}}(e,i,r)}}}},function(e,t){"use strict";e.exports=function(){return{handleErrors:function(e){throw new Error(e)},isString:function(e){return"string"==typeof e||e instanceof String},isUndefined:function(e){return void 0===e},isBlobInstance:function(e){return e instanceof Blob}}}},function(e,t,n){"use strict";n(4),e.exports=function(e){return e.Blob}},function(e,t){!function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(e){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},r=n.prototype,o=i.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=e.URL||e.webkitURL||e,d=c.createObjectURL,p=c.revokeObjectURL,h=c,f=e.btoa,g=e.atob,m=e.ArrayBuffer,v=e.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;u--;)s.prototype[l[u]]=u+1;return c.createObjectURL||(h=e.URL=function(e){var t,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=e,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(t=e.match(y),n.origin=t&&t[1])),n}),h.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof i?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):f?t+";base64,"+f(e.data):t+","+encodeURIComponent(e.data)):d?d.call(c,e):void 0},h.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&p&&p.call(c,e)},r.append=function(e){var n=this.data;if(v&&(e instanceof m||e instanceof v)){for(var r="",o=new v(e),l=0,u=o.length;l<u;l++)r+=String.fromCharCode(o[l]);n.push(r)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var c=new a;n.push(c.readAsBinaryString(e))}else e instanceof i?"base64"===e.encoding&&g?n.push(g(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},r.getBlob=function(e){return arguments.length||(e=null),new i(this.data.join(""),e,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(e,r>1?t:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,n){var i=n&&n.type||"",r=new t;if(e)for(var o=0,a=e.length;o<a;o++)Uint8Array&&e[o]instanceof Uint8Array?r.append(e[o].buffer):r.append(e[o]);var s=r.getBlob(i);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=n(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(e,t,n){"use strict";e.exports=function(){return n(6).saveAs||function(){}}},function(e,t,n){var i,r=r||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,r=/constructor/i.test(e.HTMLElement),o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},l=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(u,c,d){d||(u=l(u));var p,h=this,f="application/octet-stream"===u.type,g=function(){!function(e,t,n){for(var i=(t=[].concat(t)).length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){a(e)}}}(h,"writestart progress write writeend".split(" "))};if(h.readyState=h.INIT,i)return p=t().createObjectURL(u),void setTimeout(function(){var e,t;n.href=p,n.download=c,e=n,t=new MouseEvent("click"),e.dispatchEvent(t),g(),s(p),h.readyState=h.DONE});!function(){if((o||f&&r)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=o?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,h.readyState=h.DONE,g()},n.readAsDataURL(u),void(h.readyState=h.INIT)}p||(p=t().createObjectURL(u)),f?e.location.href=p:e.open(p,"_blank")||(e.location.href=p);h.readyState=h.DONE,g(),s(p)}()},c=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=l(e)),navigator.msSaveOrOpenBlob(e,t)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=c.onwritestart=c.onprogress=c.onwrite=c.onabort=c.onerror=c.onwriteend=null,function(e,t,n){return new u(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=r:null!==n(7)&&null!==n(8)&&(void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i))},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})}])}),function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n||e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){angular.module("nemLogging",[]),angular.module("nemLogging").provider("nemDebug",function(){var t;return t=e("debug"),this.$get=function(){return t},this.debug=t,this});var i=function(e,t){return function(){return e.apply(t,arguments)}},r=[].slice;angular.module("nemLogging").provider("nemSimpleLogger",["nemDebugProvider",function(e){var t,n,o,a,s,l,u,c,d,p,h,f;for(h=e.debug,o={},t={},d=c=0,p=(a=["debug","info","warn","error","log"]).length;p>c;d=++c)f=a[d],t[f]=d;return l=function(e,t,n){return e>=t?n():void 0},s=function(e){var t,n,i;if(t=!1,!e)return t;for(n=0,i=a.length;i>n&&(t=null!=e[f=a[n]]&&"function"==typeof e[f]);n++);return t},u=function(e,t){var n,i,r,s;for(null==o[e]&&(o[e]=h(e)),n=o[e],s={},i=0,r=a.length;r>i;i++)s[f=a[i]]="debug"===f?n:t[f];return s},n=function(){function e(e){var n,o,u,c;if(this.$log=e,this.spawn=i(this.spawn,this),!this.$log)throw"internalLogger undefined";if(!s(this.$log))throw"@$log is invalid";for(this.doLog=!0,c={},n=function(e){return function(n){return c[n]=function(){var i;return i=1<=arguments.length?r.call(arguments,0):[],e.doLog?l(t[n],e.currentLevel,function(){var t;return(t=e.$log)[n].apply(t,i)}):void 0},e[n]=c[n]}}(this),o=0,u=a.length;u>o;o++)n(a[o]);this.LEVELS=t,this.currentLevel=t.error}return e.prototype.spawn=function(t){if("string"==typeof t){if(!s(this.$log))throw"@$log is invalid";if(!h)throw"nemDebug is undefined this is probably the light version of this library sep debug logggers is not supported!";return u(t,this.$log)}return new e(t||this.$log)},e}(),this.decorator=["$log",function(e){var i;return(i=new n(e)).currentLevel=t.debug,i}],this.$get=["$log",function(e){return new n(e)}],this}])},{debug:2}],2:[function(e,t,n){function i(){var e;try{e=n.storage.debug}catch(e){}return e}(n=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var i="color: "+this.color,r=0,o=0;return(e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1)))[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++r)}),e.splice(o,0,i),e},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=i,n.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(i())},{"./debug":3}],3:[function(e,t,n){(n=t.exports=function(e){function t(){}function o(){var e=o,t=+new Date,a=t-(i||t);e.diff=a,e.prev=i,e.curr=t,i=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=n.colors[r++%n.colors.length]);var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var l=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,i){if("%%"===t)return t;l++;var r=n.formatters[i];if("function"==typeof r){var o=s[l];t=r.call(e,o),s.splice(l,1),l--}return t}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s)),(o.log||n.log||console.log.bind(console)).apply(e,s)}t.enabled=!1,o.enabled=!0;var a=n.enabled(e)?o:t;return a.namespace=e,a}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,r=0;i>r;r++)t[r]&&("-"===(e=t[r].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){var t,i;for(t=0,i=n.skips.length;i>t;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;i>t;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var i,r=0},{ms:4}],4:[function(e,t,n){function i(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var r=1e3,o=60*r,a=60*o,s=24*a,l=365.25*s;t.exports=function(e,t){return t=t||{},"string"==typeof e?function(e){if(!((e=""+e).length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*o;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}(e):t.long?function(e){return i(e,s,"day")||i(e,a,"hour")||i(e,o,"minute")||i(e,r,"second")||e+" ms"}(e):function(e){return e>=s?Math.round(e/s)+"d":e>=a?Math.round(e/a)+"h":e>=o?Math.round(e/o)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}(e)}},{}]},{},[1]),function(e,t,n,i){"use strict";(function(){t.module("uiGmapgoogle-maps.providers",["nemLogging"]),t.module("uiGmapgoogle-maps.wrapped",[]),t.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),t.module("uiGmapgoogle-maps.directives.api.managers",[]),t.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),t.module("uiGmapgoogle-maps.directives.api.options.builders",[]),t.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),t.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),t.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}).call(this),function(){t.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(i,r){var o,a,s,l,u;return l=void 0,u=void 0,o=function(e){return e.china?"http://maps.google.cn/maps/api/js?":"auto"===e.transport?"//maps.googleapis.com/maps/api/js?":e.transport+"://maps.googleapis.com/maps/api/js?"},a=function(e){var t,i,a,s;return t=["transport","isGoogleMapsForWork","china","preventLoad"],e.isGoogleMapsForWork&&t.push("key"),i=n.map(n.omit(e,t),function(e,t){return t+"="+e}),l&&(s=document.getElementById(l)).parentNode.removeChild(s),i=i.join("&"),(a=document.createElement("script")).id=l="ui_gmap_map_load_"+r.generate(),a.type="text/javascript",a.src=o(e)+i,document.head.appendChild(a)},s=function(){return t.isDefined(e.google)&&t.isDefined(e.google.maps)},{load:function(t){var n,r;return n=i.defer(),s()?(n.resolve(e.google.maps),n.promise):(r=t.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),e[r]=function(){e[r]=null,n.resolve(e.google.maps)},e.navigator.connection&&e.Connection&&e.navigator.connection.type===e.Connection.NONE&&!t.preventLoad?document.addEventListener("online",function(){if(!s())return a(t)}):t.preventLoad||a(t),(u=t).randomizedFunctionName=r,n.promise)},manualLoad:function(){var t;return t=u,s()?e[t.randomizedFunctionName]?e[t.randomizedFunctionName]():void 0:a(t)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3",libraries:"",language:"en",preventLoad:!1},this.configure=function(e){t.extend(this.options,e)},this.$get=["uiGmapMapScriptLoader",(e=this,function(t){return t.load(e.options)})],this;var e}).service("uiGmapGoogleMapApiManualLoader",["uiGmapMapScriptLoader",function(e){return{load:function(){e.manualLoad()}}}])}.call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:n.once(function(){var t;if(google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow)return google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(e,t,n){null==n&&(this._isOpen=!0,this._open(e,t,!0))},google.maps.InfoWindow.prototype.close=function(e){null==e&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},e.InfoBox&&(e.InfoBox.prototype._open=e.InfoBox.prototype.open,e.InfoBox.prototype._close=e.InfoBox.prototype.close,e.InfoBox.prototype._isOpen=!1,e.InfoBox.prototype.open=function(e,t){this._isOpen=!0,this._open(e,t)},e.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},e.InfoBox.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},t=function(t){function o(t){var r;this.getOrigCloseBoxImg_=i(this.getOrigCloseBoxImg_,this),this.getCloseBoxDiv_=i(this.getCloseBoxDiv_,this),r=new e.InfoBox(t),n.extend(this,r),null!=t.closeBoxDiv&&(this.closeBoxDiv_=t.closeBoxDiv)}return r(o,t),o.prototype.getCloseBoxDiv_=function(){return this.closeBoxDiv_},o.prototype.getCloseBoxImg_=function(){var e,t;return e=this.getCloseBoxDiv_(),t=this.getOrigCloseBoxImg_(),e||t},o.prototype.getOrigCloseBoxImg_=function(){var e;return e="",""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},o}(e.InfoBox),e.uiGmapInfoBox=t),e.MarkerLabel_?e.MarkerLabel_.prototype.setContent=function(){var e;(e=this.marker_.get("labelContent"))&&!n.isEqual(this.oldContent,e)&&(void 0===(null!=e?e.nodeType:void 0)?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=e):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(e),this.oldContent=e))}:void 0})}})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){var e,t,i,r,o,a,s,l;return a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,o=/\\(\\)?/g,i=function(e){var t,i,r;if(i=e.missingName,r=e.swapName,t=e.isProto,null==n[i]&&(n[i]=n[r],t))return n.prototype[i]=n[r]},[{missingName:"contains",swapName:"includes",isProto:!0},{missingName:"includes",swapName:"contains",isProto:!0},{missingName:"object",swapName:"zipObject"},{missingName:"zipObject",swapName:"object"},{missingName:"all",swapName:"every"},{missingName:"every",swapName:"all"},{missingName:"any",swapName:"some"},{missingName:"some",swapName:"any"},{missingName:"first",swapName:"head"},{missingName:"head",swapName:"first"}].forEach(function(e){return i(e)}),null==n.get&&(s=function(e){return n.isObject(e)?e:Object(e)},t=function(e){return null===e?"":e+""},l=function(e){var i;return n.isArray(e)?e:(i=[],t(e).replace(a,function(e,t,n,r){i.push(n?r.replace(o,"$1"):t||e)}),i)},e=function(e,t,i){var r,o;if(null!==e){void 0!==i&&i in s(e)&&(t=[i]),r=0,o=t.length;for(;!n.isUndefined(e)&&r<o;)e=e[t[r++]];return r&&r===o?e:void 0}},r=function(t,n,i){var r;return void 0===(r=null===t?void 0:e(t,l(n),n+""))?i:r},n.get=r),this.intersectionObjects=function(e,t,i){var r;return null==i&&(i=void 0),r=n.map(e,function(e){return n.find(t,function(t){return null!=i?i(e,t):n.isEqual(e,t)})}),n.filter(r,function(e){return null!=e})},this.containsObject=n.includeObject=function(e,t,i){return null==i&&(i=void 0),null!==e&&n.some(e,function(e){return null!=i?i(e,t):n.isEqual(e,t)})},this.differenceObjects=function(e,t,i){return null==i&&(i=void 0),n.filter(e,function(e){return function(n){return!e.containsObject(t,n,i)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(e,t,i,r){var o,a;if(null==e)return-1;if(o=0,a=e.length,r){if("number"!=typeof r)return e[o=n.sortedIndex(e,t)]===t?o:-1;o=r<0?Math.max(0,a+r):r}for(;o<a;){if(null!=i){if(i(e[o],t))return o}else if(n.isEqual(e[o],t))return o;o++}return-1},this.isNullOrUndefined=function(e){return n.isNull(e||n.isUndefined(e))},this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(e){return this.contains=function(t,n){return-1!==e.indexOf(t,n)},this}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var e;return e=void 0,{then:function(t){return e=t},resolve:function(){return e.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(e,i,r,o,a,s){var l,u,c,d,p,h,f,g,m,v,y,b,w,$,C,S,x,E;return x=i.promiseTypes,y=i.isInProgress,S=i.promiseStatus,l=i.ExposedPromise,c=i.SniffedPromise,b=function(e,t){var n;return(n=e.promise()).promiseType=e.promiseType,n.$$state&&r.debug("promiseType: "+n.promiseType+", state: "+S(n.$$state.status)),n.cancelCb=t,n},f=function(e,t){return e.promiseType===x.create&&t.promiseType!==x.delete&&t.promiseType!==x.init&&(r.debug("lastPromise.promiseType "+t.promiseType+", newPromiseType: "+e.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0)},C=function(e,t,i){var o;if(t.promiseType===x.delete&&i.promiseType!==x.delete&&null!=i.cancelCb&&n.isFunction(i.cancelCb)&&y(i)&&(r.debug("promiseType: "+t.promiseType+", CANCELING LAST PROMISE type: "+i.promiseType),i.cancelCb("cancel safe"),null!=(o=e.peek())&&y(o)))return o.hasOwnProperty("cancelCb")&&n.isFunction(o.cancelCb)?(r.debug("promiseType: "+o.promiseType+", CANCELING FIRST PROMISE type: "+o.promiseType),o.cancelCb("cancel safe")):r.warn("first promise was not cancelable")},u=function(e,t,i){var r,o;if(e.existingPieces){if(r=n.last(e.existingPieces._content),f(t,r))return;return C(e.existingPieces,t,r),(o=l(r.finally(function(){return b(t,i)}))).cancelCb=i,o.promiseType=t.promiseType,e.existingPieces.enqueue(o),r.finally(function(){return e.existingPieces.dequeue()})}return e.existingPieces=new a.Queue,e.existingPieces.enqueue(b(t,i))},80,m={value:null},E=function(e,t,n){var i,r;try{return e.apply(t,n)}catch(r){return i=r,m.value=i,m}},w=function(e,t,n,i){var o,a;return(a=E(e,t,i))===m&&(o="error within chunking iterator: "+m.value,r.error(o),n.reject(o)),"cancel safe"!==a},d=function(e,t,n){var i,r;return i=e===t,r=t[n],i?r:e[r]},p=["length","forEach","map"],h=function(i,r,o,a,s,l,u,c){return v(i,c,function(c,p){var f,g,m,v;for(f=r&&r<c.length?r:c.length,g=u,m=!0;m&&f--&&g<(c?c.length:g+1);)v=d(i,c,g),m=!!t.isFunction(v)||w(a,void 0,l,[v,g]),++g;if(c){if(!(m&&g<c.length))return l.resolve();if(u=g,r)return null!=s&&n.isFunction(s)&&w(s,void 0,l,[]),e(function(){return h(i,r,o,a,s,l,u,p)},o,!1)}})},{each:g=function(e,t,n,o,a,s,l){var u,c,d;return null==n&&(n=80),null==a&&(a=0),null==s&&(s=1),void 0,c=i.defer(),d=c.promise,s?v(e,l,function(){return c.resolve(),d},function(i,r){return h(e,n,s,t,o,c,a,r),d}):(u="pause (delay) must be set from _async!",r.error(u),c.reject(u),d)},map:function(e,t,n,r,o,a,s){var l;return l=[],v(e,s,function(){return i.resolve(l)},function(i,s){return g(e,function(e){return l.push(t(e))},n,r,o,a,s).then(function(){return l})})},managePromiseQueue:$=function(e,t,i,o,a){var s;return null==i&&(i=""),s=function(e){if(r.debug(e+": "+e),null!=o&&n.isFunction(o))return o(e)},u(e,c(a,t),s)},promiseLock:$,defaultChunkSize:80,getArrayAndKeys:v=function(e,i,r,o){var a,s;if(t.isArray(e))a=e;else if(i)a=i;else for(s in a=[],e)e[s],e.hasOwnProperty(s)&&!n.includes(p,s)&&a.push(s);return null==o&&(o=r),t.isArray(a)&&!(null!=a?a.length:void 0)&&o!==r?r():o(a,i)},chunkSizeFrom:function(e,t){return null==t&&(t=void 0),n.isNumber(e)&&(t=e),(s.isFalse(e)||!1===e)&&(t=!1),t}}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var t;return t=["extended","included"],function(){function n(){}return n.extend=function(n){var i,r,o;for(i in n)o=n[i],e.call(t,i)<0&&(this[i]=o);return null!=(r=n.extended)&&r.apply(this),this},n.include=function(n){var i,r,o;for(i in n)o=n[i],e.call(t,i)<0&&(this.prototype[i]=o);return null!=(r=n.included)&&r.apply(this),this},n}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(e){}}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(e){var t;return t={handle:function(n,i){return n.$on("$destroy",function(){return t.handle(n)}),n.deferred=e.defer(),{getScope:function(){return n}}},mapPromise:function(e,t){var n;return(n=t.getScope()).deferred.promise.then(function(t){return e.map=t}),n.deferred.promise}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(e){var i,r;return r=function(e){return t.isDefined(e.events)&&null!=e.events&&t.isObject(e.events)},i=function(e,t){return r(e)?e:r(t)?t:void 0},{setEvents:function(e,r,o,a){var s;if(null!=(s=i(r,o)))return n.compact(n.map(s.events,function(i,l){var u;if(a&&(u=n(a).includes(l)),s.events.hasOwnProperty(l)&&t.isFunction(s.events[l])&&!u)return google.maps.event.addListener(e,l,function(){return r.$evalAsync||(r.$evalAsync=function(){}),r.$evalAsync(i.apply(r,[e,l,o,arguments]))})}))},removeEvents:function(e){var t,n;if(e)for(t in e)(n=e[t])&&e.hasOwnProperty(t)&&google.maps.event.removeListener(n)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger","$timeout",function(e,t){return{fit:function(e,i){var r,o,a,s,l;if(i&&(null!=e?e.length:void 0)){for(a in r=new google.maps.LatLngBounds,o=!1,e)(s=e[a])&&(o||(o=!0),l=n.isFunction(s.getPosition)?s.getPosition():s),r.extend(l);if(o)return t(function(){return i.fitBounds(r)})}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(e,i){var r,o,a,s,l;return o=function(e,t,n){return e===t||-1!==n.indexOf(e)},s=function(e){return Array.isArray(e)&&2===e.length?e[1]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[1]:e.latitude},l=function(e){return Array.isArray(e)&&2===e.length?e[0]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[0]:e.longitude},{setCoordsFromEvent:function(e,n){if(e)return Array.isArray(e)&&2===e.length?(e[1]=n.lat(),e[0]=n.lng()):t.isDefined(e.type)&&"Point"===e.type?(e.coordinates[1]=n.lat(),e.coordinates[0]=n.lng()):(e.latitude=n.lat(),e.longitude=n.lng()),e},getLabelPositionPoint:function(e){var t,n;if(void 0!==e)return e=/^([-\d\.]+)\s([-\d\.]+)$/.exec(e),t=parseFloat(e[1]),n=parseFloat(e[2]),null!=t&&null!=n?new google.maps.Point(t,n):void 0},createWindowOptions:function(n,r,o,s){var l;return null!=o&&null!=s&&null!=i?(l=t.extend({},s,{content:this.buildContent(r,s,o),position:null!=s.position?s.position:t.isObject(n)?n.getPosition():a(r.coords)}),null!=n&&null==(null!=l?l.pixelOffset:void 0)&&(null==l.boxClass||(l.pixelOffset={height:0,width:-2})),l):s||(e.error("infoWindow defaults not defined"),o?void 0:e.error("infoWindow content not defined"))},buildContent:function(e,t,n){var r,o;return null!=t.content?o=t.content:null!=i?(r=""===(n=n.replace(/^\s+|\s+$/g,""))?"":i(n)(e)).length>0&&(o=r[0]):o=n,o},defaultDelay:50,isTrue:function(e){return o(e,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:r=function(e){return o(e,!1,["false","FALSE",0,"n","N","no","NO"])},isFalsy:function(e){return o(e,!1,[void 0,null])||r(e)},getCoords:a=function(e){if(e)return e instanceof google.maps.LatLng?e:Array.isArray(e)&&2===e.length?new google.maps.LatLng(e[1],e[0]):t.isDefined(e.type)&&"Point"===e.type?new google.maps.LatLng(e.coordinates[1],e.coordinates[0]):new google.maps.LatLng(e.latitude,e.longitude)},validateCoords:function(e){if(t.isUndefined(e))return!1;if(n.isArray(e)){if(2===e.length)return!0}else if(null!=e&&(null!=e?e.type:void 0)&&"Point"===e.type&&n.isArray(e.coordinates)&&2===e.coordinates.length)return!0;return!(!e||!t.isDefined((null!=e?e.latitude:void 0)&&t.isDefined(null!=e?e.longitude:void 0)))},equalCoords:function(e,t){return s(e)===s(t)&&l(e)===l(t)},validatePath:function(e){var i,r,o;if(r=0,t.isUndefined(e.type)){if(!Array.isArray(e)||e.length<2)return!1;for(;r<e.length;){if(!(t.isDefined(e[r].latitude)&&t.isDefined(e[r].longitude)||"function"==typeof e[r].lat&&"function"==typeof e[r].lng))return!1;r++}return!0}if(t.isUndefined(e.coordinates))return!1;if("Polygon"===e.type){if(e.coordinates[0].length<4)return!1;i=e.coordinates[0]}else if("MultiPolygon"===e.type){if(o={max:0,index:0},n.forEach(e.coordinates,function(e,t){if(e[0].length>this.max)return this.max=e[0].length,this.index=t},o),(i=e.coordinates[o.index][0]).length<4)return!1}else{if("LineString"!==e.type)return!1;if(e.coordinates.length<2)return!1;i=e.coordinates}for(;r<i.length;){if(2!==i[r].length)return!1;r++}return!0},convertPathPoints:function(e){var i,r,o,a,s;if(r=0,a=new google.maps.MVCArray,t.isUndefined(e.type))for(;r<e.length;)t.isDefined(e[r].latitude)&&t.isDefined(e[r].longitude)?o=new google.maps.LatLng(e[r].latitude,e[r].longitude):"function"==typeof e[r].lat&&"function"==typeof e[r].lng&&(o=e[r]),a.push(o),r++;else for("Polygon"===e.type?i=e.coordinates[0]:"MultiPolygon"===e.type?(s={max:0,index:0},n.forEach(e.coordinates,function(e,t){if(e[0].length>this.max)return this.max=e[0].length,this.index=t},s),i=e.coordinates[s.index][0]):"LineString"===e.type&&(i=e.coordinates);r<i.length;)a.push(new google.maps.LatLng(i[r][1],i[r][0])),r++;return a},getPath:function(e,t){var i;return null!=t&&n.isString(t)?(i=e,n.each(t.split("."),function(e){if(i)return i=i[e]}),i):t},validateBoundPoints:function(e){return!(t.isUndefined(e.sw.latitude)||t.isUndefined(e.sw.longitude)||t.isUndefined(e.ne.latitude)||t.isUndefined(e.ne.longitude))},convertBoundPoints:function(e){return new google.maps.LatLngBounds(new google.maps.LatLng(e.sw.latitude,e.sw.longitude),new google.maps.LatLng(e.ne.latitude,e.ne.longitude))},fitMapBounds:function(e,t){return e.fitBounds(t)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(e,t){var n,i,r,o;return i=0,o=[],n=function(e,o,a){return t(function(){return a<=0?void e.reject("Your maps are not found we have checked the maximum amount of times. :)"):void(i!==o?n(e,o,a-1):e.resolve(r()))},100)},{spawn:function(){var t;return t=e.defer(),o.push(t.promise),{instance:i+=1,deferred:t}},promises:r=function(){return e.all(o)},instances:function(){return i},promise:function(t,i){var r;return null==t&&(t=1),null==i&&(i=50),r=e.defer(),n(r,t,i),r.promise},reset:function(){i=0,o.length=0},decrement:function(){i>0&&(i-=1),o.length&&(o.length-=1)}}}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(t){return function(t){function n(e,t,n,i){this.scope=e,this.element=t,this.attrs=n,this.ctrls=i}return e(n,t),n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["nemSimpleLogger",function(e){return e.spawn()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil",function(r,o){return function(r){function a(t,n){this.scope=t,this.interface=null!=n?n:{scopeKeys:[]},this.modelsLength=e(this.modelsLength,this),this.updateChild=e(this.updateChild,this),this.destroy=e(this.destroy,this),this.setChildScope=e(this.setChildScope,this),this.getChanges=e(this.getChanges,this),this.getProp=e(this.getProp,this),this.setIdKey=e(this.setIdKey,this),this.modelKeyComparison=e(this.modelKeyComparison,this),a.__super__.constructor.call(this),this.defaultIdKey="id",this.idKey=void 0}return i(a,r),a.prototype.evalModelHandle=function(e,t){if(null!=e&&null!=t)return"self"===t?e:(n.isFunction(t)&&(t=t()),o.getPath(e,t))},a.prototype.modelKeyComparison=function(e,t){var i,r,a,s,l,u;if(((a=this.interface.scopeKeys.indexOf("coords")>=0)&&null!=this.scope.coords||!a)&&(l=this.scope),null==l)throw"No scope set!";return a&&(i=this.scopeOrModelVal("coords",l,e),r=this.scopeOrModelVal("coords",l,t),!(s=o.equalCoords(i,r)))?s:(u=n.without(this.interface.scopeKeys,"coords"),s=n.every(u,function(i){return function(r){var o,a;return o=i.scopeOrModelVal(l[r],l,e),a=i.scopeOrModelVal(l[r],l,t),l.deepComparison?n.isEqual(o,a):o===a}}(this)))},a.prototype.setIdKey=function(e){return this.idKey=null!=e.idKey?e.idKey:this.defaultIdKey},a.prototype.setVal=function(e,t,n){return this.modelOrKey(e,n),e},a.prototype.modelOrKey=function(e,t){if(null!=t)return"self"!==t?o.getPath(e,t):e},a.prototype.getProp=function(e,t,n){return this.scopeOrModelVal(e,t,n)},a.prototype.getChanges=function(e,t,i){var r,o,a;for(a in i&&(t=n.pick(t,i),e=n.pick(e,i)),o={},a={},r={},e)t&&t[a]===e[a]||(n.isArray(e[a])?o[a]=e[a]:n.isObject(e[a])?(r=this.getChanges(e[a],t?t[a]:null),n.isEmpty(r)||(o[a]=r)):o[a]=e[a]);return o},a.prototype.scopeOrModelVal=function(e,t,i,r){var o,a,s,l;return null==r&&(r=!1),o=function(e,t,n){return null==n&&(n=!1),n?{isScope:e,value:t}:t},l=n.get(t,e),n.isFunction(l)?o(!0,l(i),r):n.isObject(l)?o(!0,l,r):n.isString(l)?(s=(a=l)?"self"===a?i:n.get(i,a):n.get(i,e),n.isFunction(s)?o(!1,s(),r):o(!1,s,r)):o(!0,l,r)},a.prototype.setChildScope=function(e,t,n){var i,r,o,a;for(r in e)o=e[r],null!=(null!=(i=this.scopeOrModelVal(o,t,n,!0))?i.value:void 0)&&((a=i.value)!==t[o]&&(t[o]=a));return t.model=n},a.prototype.onDestroy=function(e){},a.prototype.destroy=function(e){var t;return null==e&&(e=!1),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?this.clean():this.scope.$destroy()},a.prototype.updateChild=function(e,t){return null==t[this.idKey]?void this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):e.updateModel(t)},a.prototype.modelsLength=function(e){var n,i;return null==e&&(e=void 0),n=0,null==(i=e||this.scope.models)?n:n=t.isArray(i)||null!=i.length?i.length:Object.keys(i).length},a}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(e,t,n,i){return{didQueueInitPromise:function(e,n){return 0===n.models.length&&(t.promiseLock(e,i.promiseTypes.init,null,null,function(){return i.resolve()}),!0)},figureOutState:function(t,n,i,r,o){var a,s,l,u;return a=[],s={},l=[],u=[],n.models.forEach(function(o){var l;return null==o[t]?e.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(s[o[t]]={},null==i.get(o[t])?a.push(o):(l=i.get(o[t]),r(o,l.clonedModel,n)?void 0:u.push({model:o,child:l})))}),i.values().forEach(function(n){var i;return null==n?void e.error("child undefined in ModelsWatcher."):null==n.model?void e.error("child.model undefined in ModelsWatcher."):(i=n.model[t],null==s[i]?l.push(n):void 0)}),{adds:a,removals:l,updates:u}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(e,t,i){var r,o,a;return o={create:"create",update:"update",delete:"delete",init:"init"},r={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},a=function(){var e;return(e={})[""+r.IN_PROGRESS]="in-progress",e[""+r.RESOLVED]="resolved",e[""+r.REJECTED]="rejected",e}(),{defer:function(){return e.defer()},promise:function(r){var o;return n.isFunction(r)?(o=e.defer(),t(function(){var e;return e=r(),o.resolve(e)}),o.promise):void i.error("uiGmapPromise.promise() only accepts functions")},resolve:function(){var t;return(t=e.defer()).resolve.apply(void 0,arguments),t.promise},promiseTypes:o,isInProgress:function(e){return e.$$state?e.$$state.status===r.IN_PROGRESS:!e.hasOwnProperty("$$v")||void 0},isResolved:function(e){return e.$$state?e.$$state.status===r.RESOLVED:!!e.hasOwnProperty("$$v")||void 0},promiseStatus:function(e){return a[e]||"done w error"},ExposedPromise:function(t){var n,i,r;return n=e.defer(),i=e.all([t,n.promise]),r=e.defer(),t.then(n.resolve,function(){},function(e){return n.notify(e),r.notify(e)}),i.then(function(e){return r.resolve(e[0]||e[1])},function(e){return r.reject(e)}),r.promise.cancel=function(e){return null==e&&(e="canceled"),n.reject(e)},r.promise.notify=function(e){if(null==e&&(e="cancel safe"),r.notify(e),t.hasOwnProperty("notify"))return t.notify(e)},null!=t.promiseType&&(r.promise.promiseType=t.promiseType),r.promise},SniffedPromise:function(e,t){return{promise:e,promiseType:t}}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){return function(){function t(){this.removeAll=e(this.removeAll,this),this.slice=e(this.slice,this),this.push=e(this.push,this),this.keys=e(this.keys,this),this.values=e(this.values,this),this.remove=e(this.remove,this),this.put=e(this.put,this),this.stateChanged=e(this.stateChanged,this),this.get=e(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return t.prototype.get=function(e){return this.dict[e]},t.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},t.prototype.put=function(e,t){return null==this.get(e)&&this.length++,this.stateChanged(),this.dict[e]=t},t.prototype.remove=function(e,t){var n;if(null==t&&(t=!1),!t||this.get(e))return n=this.dict[e],delete this.dict[e],this.length--,this.stateChanged(),n},t.prototype.valuesOrKeys=function(e){var t,i;return null==e&&(e="Keys"),this["did"+e+"StateChange"]?(i=[],t=[],n.each(this.dict,function(e,n){return i.push(e),t.push(n)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=i,this.allKeys=t,this["all"+e]):this["all"+e]},t.prototype.values=function(){return this.valuesOrKeys("Vals")},t.prototype.keys=function(){return this.valuesOrKeys()},t.prototype.push=function(e,t){return null==t&&(t="key"),this.put(e[t],e)},t.prototype.slice=function(){return this.keys().map((e=this,function(t){return e.remove(t)}));var e},t.prototype.removeAll=function(){return this.slice()},t.prototype.each=function(e){return n.each(this.dict,function(t,n){return e(t)})},t.prototype.map=function(e){return n.map(this.dict,function(t,n){return e(t)})},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(e){return function(e){return this.setIfChange=function(t){return function(i,r){if(!n.isEqual(r,i))return e(t,i)}},this.sic=this.setIfChange,this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapEventsHelper",function(n,i,r,o){return function(){function a(t,i,o,s){null==i&&(i={}),this.opt_options=null!=o?o:{},this.opt_events=s,this.checkSync=e(this.checkSync,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.attachEvents=e(this.attachEvents,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=a.type,this.clusterer=new NgMapMarkerClusterer(t,i,this.opt_options),this.propMapGMarkers=new r,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return a.type="ClustererMarkerManager",a.prototype.checkKey=function(e){var t;if(null==e.key)return t="gMarker.key undefined and it is REQUIRED!!",n.error(t)},a.prototype.add=function(e){return this.checkKey(e),this.clusterer.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},a.prototype.update=function(e){return this.remove(e),this.add(e)},a.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},a.prototype.remove=function(e){return this.checkKey(e),this.propMapGMarkers.get(e.key)&&(this.clusterer.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},a.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},a.prototype.draw=function(){return this.clusterer.repaint()},a.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},a.prototype.attachEvents=function(e,i){var r,o;if(this.listeners=[],t.isDefined(e)&&null!=e&&t.isObject(e)){for(r in o=[],e)e[r],e.hasOwnProperty(r)&&t.isFunction(e[r])?(n.info(i+": Attaching event: "+r+" to clusterer"),o.push(this.listeners.push(google.maps.event.addListener(this.clusterer,r,e[r])))):o.push(void 0);return o}},a.prototype.clearEvents=function(){return o.removeEvents(this.listeners),this.listeners=[]},a.prototype.destroy=function(){return this.clearEvents(),this.clear()},a.prototype.fit=function(){return i.fit(this.getGMarkers(),this.clusterer.getMap())},a.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},a.prototype.checkSync=function(){},a}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.managers").service("uiGmapGoogleMapObjectManager",[function(){var e,n;return e=[],n=[],{createMapInstance:function(i,r){var o;return o=null,0===e.length?(o=new google.maps.Map(i,r),n.push(o)):(o=e.pop(),t.element(i).append(o.getDiv()),o.setOptions(r),n.push(o)),o},recycleMapInstance:function(t){var i;if((i=n.indexOf(t))<0)throw new Error("Expected map instance to be a previously used instance");return n.splice(i,1),e.push(t)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(t,n,i){return function(){function r(n,o,a){this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.handleOptDraw=e(this.handleOptDraw,this),this.clear=e(this.clear,this),this.destroy=e(this.destroy,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=r.type,this.gMap=n,this.gMarkers=new i,this.$log=t,this.$log.info(this)}return r.type="MarkerManager",r.prototype.add=function(e,n){var i;if(null==n&&(n=!0),null==e.key)throw i="gMarker.key undefined and it is REQUIRED!!",t.error(i),i;if(!this.gMarkers.get(e.key))return this.handleOptDraw(e,n,!0),this.gMarkers.put(e.key,e)},r.prototype.update=function(e,t){return null==t&&(t=!0),this.remove(e,t),this.add(e,t)},r.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},r.prototype.remove=function(e,t){if(null==t&&(t=!0),this.handleOptDraw(e,t,!1),this.gMarkers.get(e.key))return this.gMarkers.remove(e.key)},r.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},r.prototype.draw=function(){var e,t;return e=[],this.gMarkers.each((t=this,function(n){if(!n.isDrawn)return n.doAdd?(n.setMap(t.gMap),n.isDrawn=!0):e.push(n)})),e.forEach(function(e){return function(t){return t.isDrawn=!1,e.remove(t,!0)}}(this))},r.prototype.destroy=function(){return this.clear()},r.prototype.clear=function(){return this.gMarkers.each(function(e){return e.setMap(null)}),delete this.gMarkers,this.gMarkers=new i},r.prototype.handleOptDraw=function(e,t,n){return!0===t?(n?e.setMap(this.gMap):e.setMap(null),e.isDrawn=!0):(e.isDrawn=!1,e.doAdd=n)},r.prototype.fit=function(){return n.fit(this.getGMarkers(),this.gMap)},r.prototype.getGMarkers=function(){return this.gMarkers.values()},r}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapSpiderfierMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapMarkerSpiderfier",function(i,r,o,a){return function(){function s(t,n,r,l,u){null==n&&(n={}),this.opt_options=null!=r?r:{},this.opt_events=l,this.scope=u,this.checkSync=e(this.checkSync,this),this.isSpiderfied=e(this.isSpiderfied,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.attachEvents=e(this.attachEvents,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=s.type,this.markerSpiderfier=new a(t,this.opt_options),this.propMapGMarkers=new o,this.attachEvents(this.opt_events,"opt_events"),this.noDrawOnSingleAddRemoves=!0,i.info(this)}return s.type="SpiderfierMarkerManager",s.prototype.checkKey=function(e){var t;if(null==e.key)return t="gMarker.key undefined and it is REQUIRED!!",i.error(t)},s.prototype.add=function(e){return e.setMap(this.markerSpiderfier.map),this.checkKey(e),this.markerSpiderfier.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},s.prototype.update=function(e){return this.remove(e),this.add(e)},s.prototype.addMany=function(e){return e.forEach(function(e){return function(t){return e.add(t)}}(this))},s.prototype.remove=function(e){return this.checkKey(e),this.propMapGMarkers.get(e.key)&&(e.setMap(null),this.markerSpiderfier.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},s.prototype.removeMany=function(e){return e.forEach(function(e){return function(t){return e.remove(t)}}(this))},s.prototype.draw=function(){},s.prototype.clear=function(){return this.removeMany(this.getGMarkers())},s.prototype.attachEvents=function(e,r){if(t.isDefined(e)&&null!=e&&t.isObject(e))return n.each(e,function(n){return function(o,a){if(e.hasOwnProperty(a)&&t.isFunction(e[a]))return i.info(r+": Attaching event: "+a+" to markerSpiderfier"),n.markerSpiderfier.addListener(a,function(){return"spiderfy"===a||"unspiderfy"===a?n.scope.$evalAsync(e[a].apply(e,arguments)):n.scope.$evalAsync(e[a].apply(e,[arguments[0],a,arguments[0].model,arguments]))})}}(this))},s.prototype.clearEvents=function(e,n){var r;if(t.isDefined(e)&&null!=e&&t.isObject(e))for(r in e)e[r],e.hasOwnProperty(r)&&t.isFunction(e[r])&&(i.info(n+": Clearing event: "+r+" to markerSpiderfier"),this.markerSpiderfier.clearListeners(r))},s.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},s.prototype.fit=function(){return r.fit(this.getGMarkers(),this.markerSpiderfier.map)},s.prototype.getGMarkers=function(){return this.markerSpiderfier.getMarkers()},s.prototype.isSpiderfied=function(){return n.find(this.getGMarkers(),function(e){return null!=(null!=e?e._omsData:void 0)})},s.prototype.checkSync=function(){},s}()}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(e){var n;return n=function(t,n,i){return google.maps.event.addListener(t,n,function(){return i.apply(this,arguments),e(function(){},!0)})},function(e,i,r){var o;return r?n(e,i,r):(o=[],t.forEach(i,function(t,i){return o.push(n(e,i,t))}),function(){return t.forEach(o,function(e){return google.maps.event.removeListener(e)}),o=null})}}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(e){return function(n,i,r,o){var a,s,l,u,c,d,p,h,f;return u=!1,h=i.$eval(r),i.static||(c={set_at:function(e){var t;if(!u&&(t=n.getAt(e)))return t.lng&&t.lat?(h[e].latitude=t.lat(),h[e].longitude=t.lng()):h[e]=t},insert_at:function(e){var t;if(!u&&(t=n.getAt(e)))return t.lng&&t.lat?h.splice(e,0,{latitude:t.lat(),longitude:t.lng()}):h.splice(e,0,t)},remove_at:function(e){if(!u)return h.splice(e,1)}},"Polygon"===h.type?a=h.coordinates[0]:"LineString"===h.type&&(a=h.coordinates),s={set_at:function(e){var t;if(!u&&((t=n.getAt(e))&&t.lng&&t.lat))return a[e][1]=t.lat(),a[e][0]=t.lng()},insert_at:function(e){var t;if(!u&&((t=n.getAt(e))&&t.lng&&t.lat))return a.splice(e,0,[t.lng(),t.lat()])},remove_at:function(e){if(!u)return a.splice(e,1)}},p=e(n,t.isUndefined(h.type)?c:s)),d=function(e){var t,i,r,a,s,l,c,d;if(u=!0,l=n,t=!1,e){for(i=0,c=l.getLength(),a=e.length,r=Math.min(c,a),s=void 0;i<r;)d=l.getAt(i),"function"==typeof(s=e[i]).equals?s.equals(d)||(l.setAt(i,s),t=!0):d.lat()===s.latitude&&d.lng()===s.longitude||(l.setAt(i,new google.maps.LatLng(s.latitude,s.longitude)),t=!0),i++;for(;i<a;)"function"==typeof(s=e[i]).lat&&"function"==typeof s.lng?l.push(s):l.push(new google.maps.LatLng(s.latitude,s.longitude)),t=!0,i++;for(;i<c;)l.pop(),t=!0,i++}if(u=!1,t)return o(l)},l=function(e){var t,i,r,a,s,l,c,d,p;if(u=!0,c=n,i=!1,e){for("Polygon"===h.type?t=e.coordinates[0]:"LineString"===h.type&&(t=e.coordinates),r=0,d=c.getLength(),s=t.length,a=Math.min(d,s),l=void 0;r<a;)p=c.getAt(r),l=t[r],p.lat()===l[1]&&p.lng()===l[0]||(c.setAt(r,new google.maps.LatLng(l[1],l[0])),i=!0),r++;for(;r<s;)l=t[r],c.push(new google.maps.LatLng(l[1],l[0])),i=!0,r++;for(;r<d;)c.pop(),i=!0,r++}if(u=!1,i)return o(c)},i.static||(f=t.isUndefined(h.type)?i.$watchCollection(r,d):i.$watch(r,l,!0)),function(){if(p&&(p(),p=null),f)return f(),f=null}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(e){return{maybeRepaint:function(t){if(t)return t.style.opacity=.9,e(function(){return t.style.opacity=1})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var e,t,i,r;return e=["length","forEach","map"],i=function(t){return t.forEach=function(i){return n.each(n.omit(t,e),function(e){if(!n.isFunction(e))return i(e)})},t},(t=[]).push(i),r=function(t){return t.map=function(i){return n.map(n.omit(t,e),function(e){if(!n.isFunction(e))return i(e)})},t},t.push(r),{slapMap:r,slapForEach:i,slapAll:function(e){return t.forEach(function(t){return t(e)}),e}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(i,r,o){return function(i){function o(){return this.watchProps=e(this.watchProps,this),this.buildOpts=e(this.buildOpts,this),o.__super__.constructor.apply(this,arguments)}return n(o,i),o.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],o.prototype.getCorrectModel=function(e){return t.isDefined(null!=e?e.model:void 0)?e.model:e},o.prototype.buildOpts=function(e,n,i){var o,a,s;return null==e&&(e={}),null==i&&(i={}),this.scope?this.gMap?(o=this.getCorrectModel(this.scope),s=this.scopeOrModelVal("stroke",this.scope,o),a=t.extend(e,this.DEFAULTS,{map:this.gMap,strokeColor:null!=s?s.color:void 0,strokeOpacity:null!=s?s.opacity:void 0,strokeWeight:null!=s?s.weight:void 0}),t.forEach(t.extend(i,{clickable:!0,draggable:!1,editable:!1,static:!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(e){return function(i,r){var s;return s=n?n[r]:e.scopeOrModelVal(r,e.scope,o),t.isUndefined(s)?a[r]=i:a[r]=o[r]}}(this)),a.static&&(a.editable=!1),a):void r.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void r.error("this.scope not defined in CommonOptionsBuilder can not buildOpts")},o.prototype.watchProps=function(e){return null==e&&(e=this.props),e.forEach(function(e){return function(t){if(null!=e.attrs[t]||null!=e.attrs[null!=t?t.prop:void 0])return(null!=t?t.isColl:void 0)?e.scope.$watchCollection(t.prop,e.setMyOptions):e.scope.$watch(t,e.setMyOptions)}}(this))},o}(o)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(t){return function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(n){return function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,n),i.prototype.buildOpts=function(e,n,r){var o,a;return a=this.getCorrectModel(this.scope),o=n?n.fill:this.scopeOrModelVal("fill",this.scope,a),e=t.extend(e,{fillColor:null!=o?o.color:void 0,fillOpacity:null!=o?o.opacity:void 0}),i.__super__.buildOpts.call(this,e,n,r)},i}(n)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){return function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}(t)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){return function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{bounds:e},t)},n}(t)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){return function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t,i){return n.__super__.buildOpts.call(this,{center:e,radius:t},i)},n}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(e,i){return n.extend(i,{createOptions:function(e,n,r,o){var a;return null==r&&(r={}),a=t.extend({},r,{position:null!=r.position?r.position:i.getCoords(e),visible:null!=r.visible?r.visible:i.validateCoords(e)}),null==r.icon&&null==n||(a=t.extend(a,{icon:null!=r.icon?r.icon:n})),null!=o&&(a.map=o),a},isLabel:function(e){return null!=e&&(null!=e.labelContent||null!=e.labelAnchor||null!=e.labelClass||null!=e.labelStyle||null!=e.labelVisible)}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(r,o,a,s,l){return function(r,o){return function(r){function u(i){var r,s,u;this.scope=i.scope,this.attrs=i.attrs,this.gMap=i.gMap,this.defaults=i.defaults,this.model=i.model,s=i.gObjectChangeCb,this.isScopeModel=null!=(u=i.isScopeModel)&&u,this.clean=e(this.clean,this),this.isScopeModel&&(this.clonedModel=n.clone(this.model,!0)),this.isDragging=!1,this.internalEvents={dragend:function(e){return function(){return n.defer(function(){return e.isDragging=!1})}}(this),dragstart:function(e){return function(){return e.isDragging=!0}}(this)},(r=function(e){return function(){var n;if(!e.isDragging)return e.pathPoints=e.convertPathPoints(e.scope.path),null!=e.gObject&&e.clean(),null!=e.scope.model&&(n=e.scope),e.pathPoints.length>0&&(e.gObject=o(e.buildOpts(e.pathPoints,n))),e.gObject?(a(e.gObject.getPath(),e.scope,"path",function(t){if(e.pathPoints=t,null!=s)return s()}),t.isDefined(e.scope.events)&&t.isObject(e.scope.events)&&(e.listeners=e.model?l.setEvents(e.gObject,e.scope,e.model):l.setEvents(e.gObject,e.scope,e.scope)),e.internalListeners=e.model?l.setEvents(e.gObject,{events:e.internalEvents},e.model):l.setEvents(e.gObject,{events:e.internalEvents},e.scope)):void 0}}(this))(),this.scope.$watch("path",function(e){return function(t,i){if(!n.isEqual(t,i)||!e.gObject)return r()}}(this),!0),!this.scope.static&&t.isDefined(this.scope.editable)&&this.scope.$watch("editable",function(e){return function(t,n){var i;if(t!==n)return t=!e.isFalse(t),null!=(i=e.gObject)?i.setEditable(t):void 0}}(this),!0),t.isDefined(this.scope.draggable)&&this.scope.$watch("draggable",function(e){return function(t,n){var i;if(t!==n)return t=!e.isFalse(t),null!=(i=e.gObject)?i.setDraggable(t):void 0}}(this),!0),t.isDefined(this.scope.visible)&&this.scope.$watch("visible",function(e){return function(t,n){var i;return t!==n&&(t=!e.isFalse(t)),null!=(i=e.gObject)?i.setVisible(t):void 0}}(this),!0),t.isDefined(this.scope.geodesic)&&this.scope.$watch("geodesic",function(e){return function(t,n){var i;if(t!==n)return t=!e.isFalse(t),null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.weight)&&this.scope.$watch("stroke.weight",function(e){return function(t,n){var i;if(t!==n)return null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.color)&&this.scope.$watch("stroke.color",function(e){return function(t,n){var i;if(t!==n)return null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.opacity)&&this.scope.$watch("stroke.opacity",function(e){return function(t,n){var i;if(t!==n)return null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),t.isDefined(this.scope.icons)&&this.scope.$watch("icons",function(e){return function(t,n){var i;if(t!==n)return null!=(i=e.gObject)?i.setOptions(e.buildOpts(e.gObject.getPath())):void 0}}(this),!0),this.scope.$on("$destroy",function(e){return function(){return e.clean(),e.scope=null}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.color)&&this.scope.$watch("fill.color",function(e){return function(t,n){if(t!==n)return e.gObject.setOptions(e.buildOpts(e.gObject.getPath()))}}(this)),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.opacity)&&this.scope.$watch("fill.opacity",function(e){return function(t,n){if(t!==n)return e.gObject.setOptions(e.buildOpts(e.gObject.getPath()))}}(this)),t.isDefined(this.scope.zIndex)&&this.scope.$watch("zIndex",function(e){return function(t,n){if(t!==n)return e.gObject.setOptions(e.buildOpts(e.gObject.getPath()))}}(this))}return i(u,r),u.include(s),u.prototype.clean=function(){var e;return l.removeEvents(this.listeners),l.removeEvents(this.internalListeners),null!=(e=this.gObject)&&e.setMap(null),this.gObject=null},u}(r)}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(e,t){var i;return i=function(e,t,n){var i,r;r=new google.maps.Polyline({map:e,clickable:!1}),i=google.maps.event.addListener(e,"mousemove",function(e){return r.getPath().push(e.latLng)}),google.maps.event.addListenerOnce(e,"mouseup",function(o){var a;return google.maps.event.removeListener(i),a=r.getPath(),r.setMap(null),t.push(new google.maps.Polygon({map:e,path:a})),r=null,google.maps.event.clearListeners(e.getDiv(),"mousedown"),n()})},function(r,o){var a,s;return this.map=r,a=function(t){return function(){var n;return n={draggable:!1,disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!1},e.info("disabling map move"),t.map.setOptions(n)}}(this),s=function(e){return function(){var t,i;return t={draggable:!0,disableDefaultUI:!1,scrollwheel:!0,disableDoubleClickZoom:!0},null!=(i=e.deferred)&&i.resolve(),n.defer(function(){return e.map.setOptions(n.extend(t,o.options))})}}(this),this.engage=function(n){return function(r){return n.polys=r,n.deferred=t.defer(),a(),e.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(n.map.getDiv(),"mousedown",function(e){return i(n.map,n.polys,s)}),n.deferred.promise}}(this),this}}])}.call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(o,a,s,l,u,c,d,p,h){return function(o){function f(e){var t,r,o,a,l,c,d;this.internalEvents=i(this.internalEvents,this),this.setLabelOptions=i(this.setLabelOptions,this),this.setOptions=i(this.setOptions,this),this.setIcon=i(this.setIcon,this),this.setCoords=i(this.setCoords,this),this.isNotValid=i(this.isNotValid,this),this.maybeSetScopeValue=i(this.maybeSetScopeValue,this),this.createMarker=i(this.createMarker,this),this.setMyScope=i(this.setMyScope,this),this.updateModel=i(this.updateModel,this),this.handleModelChanges=i(this.handleModelChanges,this),this.destroy=i(this.destroy,this),d=e.scope,this.model=e.model,this.keys=e.keys,this.gMap=e.gMap,this.defaults=null!=(r=e.defaults)?r:{},this.doClick=e.doClick,this.gManager=e.gManager,this.doDrawSelf=null==(o=e.doDrawSelf)||o,this.trackModel=null==(a=e.trackModel)||a,this.needRedraw=null!=(l=e.needRedraw)&&l,this.isScopeModel=null!=(c=e.isScopeModel)&&c,this.isScopeModel&&(this.clonedModel=n.clone(this.model,!0)),this.deferred=h.defer(),n.each(this.keys,function(e){return function(t,i){var r;if(null!=(r=e.keys[i])&&!n.isFunction(r)&&n.isString(r))return e[i+"Key"]=r}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),f.__super__.constructor.call(this,d),this.scope.getGMarker=function(e){return function(){return e.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(e){return function(t,n){if(t!==n)return e.handleModelChanges(t,n)}}(this),!0)):(t=new u(function(e){return function(t){if(n.isFunction(t)&&(t="all"),!e.firstTime)return e.setMyScope(t,d)}}(this),!1),n.each(this.keys,function(e,n){return d.$watch(n,t.sic(n),!0)})),this.scope.$on("$destroy",function(e){return function(){return g(e)}}(this)),this.createMarker(this.model),s.info(this)}var g;return r(f,o),f.include(a),f.include(l),f.include(c),g=function(e){if(null!=(null!=e?e.gObject:void 0)&&(e.removeEvents(e.externalListeners),e.removeEvents(e.internalListeners),null!=e?e.gObject:void 0))return e.removeFromManager&&e.gManager.remove(e.gObject),e.gObject.setMap(null),e.gObject=null},f.prototype.destroy=function(e){return null==e&&(e=!0),this.removeFromManager=e,this.scope.$destroy()},f.prototype.handleModelChanges=function(e,t){var i,r,o;if(i=this.getChanges(e,t,d.keys),!this.firstTime)return r=0,o=n.keys(i).length,n.each(i,function(n){return function(i,a){var s;return s=o===(r+=1),n.setMyScope(a,e,t,!1,!0,s),n.needRedraw=!0}}(this))},f.prototype.updateModel=function(e){return this.isScopeModel&&(this.clonedModel=n.clone(e,!0)),this.setMyScope("all",e,this.model)},f.prototype.renderGMarker=function(t,n){var i,r,o;if(null==t&&(t=!0),i=this.getProp("coords",this.scope,this.model),null!=(null!=(o=this.gManager)?o.isSpiderfied:void 0)&&(r=this.gManager.isSpiderfied()),null!=i){if(!this.validateCoords(i))return void s.debug("MarkerChild does not have coords yet. They may be defined later.");if(null!=n&&n(),t&&this.gObject&&this.gManager.add(this.gObject),r)return this.gManager.markerSpiderfier.spiderListener(this.gObject,e.event)}else if(t&&this.gObject)return this.gManager.remove(this.gObject)},f.prototype.setMyScope=function(e,t,i,r,o){var a;switch(null==i&&(i=void 0),null==r&&(r=!1),null==o&&(o=!0),null==t?t=this.model:this.model=t,this.gObject||(this.setOptions(this.scope,o),a=!0),e){case"all":return n.each(this.keys,function(e){return function(n,a){return e.setMyScope(a,t,i,r,o)}}(this));case"icon":return this.maybeSetScopeValue({gSetter:this.setIcon,doDraw:o});case"coords":return this.maybeSetScopeValue({gSetter:this.setCoords,doDraw:o});case"options":if(!a)return this.createMarker(t,i,r,o)}},f.prototype.createMarker=function(e,t,n,i){return null==t&&(t=void 0),null==n&&(n=!1),null==i&&(i=!0),this.maybeSetScopeValue({gSetter:this.setOptions,doDraw:i}),this.firstTime=!1},f.prototype.maybeSetScopeValue=function(e){var t,n,i;if(n=e.gSetter,t=null==(i=e.doDraw)||i,null!=n&&n(this.scope,t),this.doDrawSelf&&t)return this.gManager.draw()},f.prototype.isNotValid=function(e,t){var n;return null==t&&(t=!0),n=!!t&&void 0===this.gObject,!this.trackModel&&e.$id!==this.scope.$id||n},f.prototype.setCoords=function(e,t){if(null==t&&(t=!0),!this.isNotValid(e)&&null!=this.gObject)return this.renderGMarker(t,function(t){return function(){var n,i,r;if(i=t.getProp("coords",e,t.model),n=t.getCoords(i),null==(r=t.gObject.getPosition())||null==n||n.lng()!==r.lng()||n.lat()!==r.lat())return t.gObject.setPosition(n),t.gObject.setVisible(t.validateCoords(i))}}(this))},f.prototype.setIcon=function(e,t){if(null==t&&(t=!0),!this.isNotValid(e)&&null!=this.gObject)return this.renderGMarker(t,function(t){return function(){var n,i;if(t.gObject.getIcon()!==(i=t.getProp("icon",e,t.model)))return t.gObject.setIcon(i),n=t.getProp("coords",e,t.model),t.gObject.setPosition(t.getCoords(n)),t.gObject.setVisible(t.validateCoords(n))}}(this))},f.prototype.setOptions=function(e,t){var i;if(null==t&&(t=!0),!this.isNotValid(e,!1)){if(this.renderGMarker(t,function(t){return function(){var i,r,o;if(r=t.getProp("coords",e,t.model),o=t.getProp("icon",e,t.model),i=t.getProp("options",e,t.model),t.opts=t.createOptions(r,o,i),t.isLabel(t.gObject)!==t.isLabel(t.opts)&&null!=t.gObject&&(t.gManager.remove(t.gObject),t.gObject=void 0),null!=t.gObject&&t.gObject.setOptions(t.setLabelOptions(t.opts)),t.gObject||(t.isLabel(t.opts)?t.gObject=new MarkerWithLabel(t.setLabelOptions(t.opts)):t.opts.content?(t.gObject=new RichMarker(t.opts),t.gObject.getIcon=t.gObject.getContent,t.gObject.setIcon=t.gObject.setContent):t.gObject=new google.maps.Marker(t.opts),n.extend(t.gObject,{model:t.model})),t.externalListeners&&t.removeEvents(t.externalListeners),t.internalListeners&&t.removeEvents(t.internalListeners),t.externalListeners=t.setEvents(t.gObject,t.scope,t.model,["dragend"]),t.internalListeners=t.setEvents(t.gObject,{events:t.internalEvents(),$evalAsync:function(){}},t.model),null!=t.id)return t.gObject.key=t.id}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==p.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");null!=(i=this.gObject)&&i.getMap()&&this.gManager.type===p.type||(s.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}},f.prototype.setLabelOptions=function(e){return e.labelAnchor&&(e.labelAnchor=this.getLabelPositionPoint(e.labelAnchor)),e},f.prototype.internalEvents=function(){return{dragend:(e=this,function(t,n,i,r){var o,a,s;return a=e.trackModel?e.scope.model:e.model,s=e.setCoordsFromEvent(e.modelOrKey(a,e.coordsKey),e.gObject.getPosition()),a=e.setVal(i,e.coordsKey,s),null!=(null!=(o=e.scope.events)?o.dragend:void 0)&&o.dragend(t,n,a,r),e.scope.$apply()}),click:function(e){return function(n,i,r,o){var a;if(a=e.getProp("click",e.scope,e.model),e.doClick&&t.isFunction(a))return e.scope.$evalAsync(a(n,i,e.model,o))}}(this)};var e},f}(o)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(t,n){var i;return i=new t(n,function(e){return new google.maps.Polygon(e)}),function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,i),n}()}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(t,n){var i;return i=t(n,function(e){return new google.maps.Polyline(e)}),function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,i),n}()}])}.call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(o,a,s,l,u,c,d,p){return function(o){function h(e){var t,r,o,a,l;this.updateModel=i(this.updateModel,this),this.destroy=i(this.destroy,this),this.remove=i(this.remove,this),this.getLatestPosition=i(this.getLatestPosition,this),this.hideWindow=i(this.hideWindow,this),this.showWindow=i(this.showWindow,this),this.handleClick=i(this.handleClick,this),this.watchOptions=i(this.watchOptions,this),this.watchCoords=i(this.watchCoords,this),this.createGWin=i(this.createGWin,this),this.watchElement=i(this.watchElement,this),this.watchAndDoShow=i(this.watchAndDoShow,this),this.doShow=i(this.doShow,this),this.model=null!=(r=e.model)?r:{},this.scope=e.scope,this.opts=e.opts,this.isIconVisibleOnClick=e.isIconVisibleOnClick,this.gMap=e.gMap,this.markerScope=e.markerScope,this.element=e.element,this.needToManualDestroy=null!=(o=e.needToManualDestroy)&&o,this.markerIsVisibleAfterWindowClose=null==(a=e.markerIsVisibleAfterWindowClose)||a,this.isScopeModel=null!=(l=e.isScopeModel)&&l,this.isScopeModel&&(this.clonedModel=n.clone(this.model,!0)),this.getGmarker=function(){var e,t;if(null!=(null!=(e=this.markerScope)?e.getGMarker:void 0))return null!=(t=this.markerScope)?t.getGMarker():void 0},this.listeners=[],this.createGWin(),null!=(t=this.getGmarker())&&t.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(e){return function(){return e.destroy()}}(this)),s.info(this)}return r(h,o),h.include(a),h.include(p),h.prototype.doShow=function(e){return!0===this.scope.show||e?this.showWindow():this.hideWindow()},h.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},h.prototype.watchElement=function(){return this.scope.$watch((e=this,function(){var t,n;if(e.element||e.html)return e.html!==e.element.html()&&e.gObject?(null!=(t=e.opts)&&(t.content=void 0),n=e.gObject.isOpen(),e.remove(),e.createGWin(n)):void 0}));var e},h.prototype.createGWin=function(t){var i,r,o,a,s;if(null==t&&(t=!1),o=this.getGmarker(),r={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),r=this.opts),this.element&&(this.html=n.isObject(this.element)?this.element.html():this.element),i=this.scope.options?this.scope.options:r,this.opts=this.createWindowOptions(o,this.markerScope||this.scope,this.html,i),null!=this.opts)return this.gObject||(this.opts.boxClass&&e.InfoBox&&"function"==typeof e.InfoBox?this.gObject=new e.InfoBox(this.opts):this.gObject=new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return d.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(e){return function(){return o&&(o.setAnimation(e.oldMarkerAnimation),e.markerIsVisibleAfterWindowClose&&n.delay(function(){return o.setVisible(!1),o.setVisible(e.markerIsVisibleAfterWindowClose)},250)),e.gObject.close(),e.model.show=!1,null!=e.scope.closeClick?e.scope.$evalAsync(e.scope.closeClick()):e.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(a=this.scope)&&null!=(s=a.options)?s.forceClick:void 0)||t),this.doShow(this.gObject.isOpen())},h.prototype.watchCoords=function(){return(null!=this.markerScope?this.markerScope:this.scope).$watch("coords",function(e){return function(t,n){var i;if(t!==n){if(null==t)e.hideWindow();else if(!e.validateCoords(t))return void s.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(e.model));if(i=e.getCoords(t),e.doShow(),e.gObject.setPosition(i),e.opts)return e.opts.position=i}}}(this),!0)},h.prototype.watchOptions=function(){return this.scope.$watch("options",(e=this,function(t,n){if(t!==n&&(e.opts=t,null!=e.gObject)){if(e.gObject.setOptions(e.opts),null!=e.opts.visible&&e.opts.visible)return e.showWindow();if(null!=e.opts.visible)return e.hideWindow()}}),!0);var e},h.prototype.handleClick=function(e){var t,n;if(null!=this.gObject)return n=this.getGmarker(),t=function(e){return function(){if(null==e.gObject&&e.createGWin(),e.showWindow(),null!=n)return e.initialMarkerVisibility=n.getVisible(),e.oldMarkerAnimation=n.getAnimation(),n.setVisible(e.isIconVisibleOnClick)}}(this),e&&t(),n?this.listeners=this.listeners.concat(this.setEvents(n,{events:{click:t}},this.model)):void 0},h.prototype.showWindow=function(){var e,n,i;if(null!=this.gObject)return i=null,n=function(e){return function(){var t,n,i;if(!e.gObject.isOpen()){if(n=e.getGmarker(),null!=e.gObject&&null!=e.gObject.getPosition&&(i=e.gObject.getPosition()),n&&(i=n.getPosition()),!i)return;if(e.gObject.open(e.gMap,n),t=e.gObject.isOpen(),e.model.show!==t)return e.model.show=t}}}(this),this.scope.templateUrl?u.get(this.scope.templateUrl,{cache:c}).then(function(e){return function(r){var o;return i=e.scope.$new(),t.isDefined(e.scope.templateParameter)&&(i.parameter=e.scope.templateParameter),o=l(r.data)(i),e.gObject.setContent(o[0]),n()}}(this)):this.scope.template?(i=this.scope.$new(),t.isDefined(this.scope.templateParameter)&&(i.parameter=this.scope.templateParameter),e=l(this.scope.template)(i),this.gObject.setContent(e[0]),n()):n(),this.scope.$on("destroy",function(){return i.$destroy()})},h.prototype.hideWindow=function(){if(null!=this.gObject&&this.gObject.isOpen())return this.gObject.close()},h.prototype.getLatestPosition=function(e){var t;return t=this.getGmarker(),null==this.gObject||null==t||e?e?this.gObject.setPosition(e):void 0:this.gObject.setPosition(t.getPosition())},h.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},h.prototype.destroy=function(e){var t;if(null==e&&(e=!1),this.remove(),null!=this.scope&&!(null!=(t=this.scope)?t.$$destroyed:void 0)&&(this.needToManualDestroy||e))return this.scope.$destroy()},h.prototype.updateModel=function(e){return this.isScopeModel&&(this.clonedModel=n.clone(e,!0)),n.extend(this.model,this.clonedModel||e)},h}(o)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise","uiGmapFitHelper",function(r,o,a,s,l,u,c,d){return function(r,p,h){return function(a){function f(t,i,a,s,u){this.element=i,this.attrs=a,this.gMap=s,this.defaults=u,this.maybeFit=e(this.maybeFit,this),this.createChild=e(this.createChild,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),f.__super__.constructor.call(this,t),this.interface=r,this.$log=o,this.plurals=new l,n.each(r.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes()}return i(f,a),f.include(s),f.prototype.watchModels=function(e){return e.$watch("models",(t=this,function(n,i){if(n!==i)return t.doINeedToWipe(n)||e.doRebuildAll?t.rebuildAll(e,!0,!0):t.createChildScopes(!1)}),!0);var t},f.prototype.doINeedToWipe=function(e){var t;return t=null==e||0===e.length,this.plurals.length>0&&t},f.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){if(t)return e.createChildScopes()}}(this))},f.prototype.onDestroy=function(){return f.__super__.onDestroy.call(this,this.scope),u.promiseLock(this,c.promiseTypes.delete,void 0,void 0,(e=this,function(){return u.each(e.plurals.values(),function(e){return e.destroy(!0)},u.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}));var e},f.prototype.watchDestroy=function(e){return e.$on("$destroy",(t=this,function(){return t.rebuildAll(e,!1,!0)}));var t},f.prototype.createChildScopes=function(e){return null==e&&(e=!0),t.isUndefined(this.scope.models)?void this.$log.error("No models to create "+h+"s from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},f.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",(t=this,function(n,i){if(n!==i&&null==n)return t.idKey=n,t.rebuildAll(e,!0,!0)}));var t},f.prototype.createAllNew=function(e,t){var n;if(null==t&&(t=!1),this.models=e.models,this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),!this.didQueueInitPromise(this,e))return n=null,u.promiseLock(this,c.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return u.map(e.models,function(e){var i;return i=t.createChild(e,t.gMap),n&&(o.debug("createNew should fall through safely"),i.isEnabled=!1),i.pathPoints.getArray()},u.chunkSizeFrom(e.chunk)).then(function(e){return t.maybeFit(e),t.firstTime=!1})}}(this))},f.prototype.pieceMeal=function(e,t){var i,r;if(null==t&&(t=!0),!e.$$destroyed)return i=null,r=null,this.models=e.models,null!=e&&this.modelsLength()&&this.plurals.length?u.promiseLock(this,c.promiseTypes.update,"pieceMeal",function(e){return i=e},function(t){return function(){return c.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(o){return(r=o).updates.length&&u.each(r.updates,function(e){return n.extend(e.child.scope,e.model),e.child.model=e.model}),u.each(r.removals,function(e){if(null!=e)return e.destroy(),t.plurals.remove(e.model[t.idKey]),i},u.chunkSizeFrom(e.chunk))}).then(function(){return u.each(r.adds,function(e){return i&&o.debug("pieceMeal should fall through safely"),t.createChild(e,t.gMap),i},u.chunkSizeFrom(e.chunk)).then(function(){return t.maybeFit()})})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0))},f.prototype.createChild=function(e,t){var n,i;return i=this.scope.$new(!1),this.setChildScope(r.scopeKeys,i,e),i.$watch("model",function(e){return function(t,n){if(t!==n)return e.setChildScope(r.scopeKeys,i,t)}}(this),!0),i.static=this.scope.static,n=new p({isScopeModel:!0,scope:i,attrs:this.attrs,gMap:t,defaults:this.defaults,model:e,gObjectChangeCb:function(e){return function(){return e.maybeFit()}}(this)}),null==e[this.idKey]?void this.$log.error(h+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(e[this.idKey],n),n)},f.prototype.maybeFit=function(e){if(null==e&&(e=this.plurals.map(function(e){return e.pathPoints})),this.scope.fit)return e=n.flatten(e),d.fit(e,this.gMap)},f}(a)}}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(i,r,o,a,s){var l;return l=function(e,t){return e.settingFromDirective=!0,t(),r(function(){return e.settingFromDirective=!1})},function(r){function s(e,r,a,s,u){var c,d,p;this.attrs=a,this.gMap=s,this.DEFAULTS=u,this.scope=e,p=null,c=function(e){return function(){if(p=null,null!=e.listeners)return e.removeEvents(e.listeners),e.listeners=void 0}}(this),d=new google.maps.Circle(this.buildOpts(o.getCoords(e.center),e.radius)),this.setMyOptions=function(t){return function(i,r){if(!e.settingFromDirective)return!n.isEqual(i,r)||i!==r||null!=i&&null!=r&&i.coordinates!==r.coordinates?d.setOptions(t.buildOpts(o.getCoords(e.center),e.radius)):void 0}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]),this.watchProps(),null!=this.scope.control&&(this.scope.control.getCircle=function(){return d}),c(),this.listeners=this.setEvents(d,e,e,["radius_changed"])||[],this.listeners.push(google.maps.event.addListener(d,"radius_changed",function(){var i,r;if((i=d.getRadius())!==p)return p=i,r=function(){return l(e,function(){var t,r;if(i!==e.radius&&(e.radius=i),(null!=(t=e.events)?t.radius_changed:void 0)&&n.isFunction(null!=(r=e.events)?r.radius_changed:void 0))return e.events.radius_changed(d,"radius_changed",e,arguments)})},t.mock?r():e.$evalAsync(function(){return r()})})),this.listeners.push(google.maps.event.addListener(d,"center_changed",function(){return e.$evalAsync(function(){return l(e,function(){return t.isDefined(e.center.type)?(e.center.coordinates[1]=d.getCenter().lat(),e.center.coordinates[0]=d.getCenter().lng()):(e.center.latitude=d.getCenter().lat(),e.center.longitude=d.getCenter().lng())})})})),e.$on("$destroy",function(){return c(),d.setMap(null)}),i.info(this)}return e(s,r),s.include(o),s.include(a),s}(s)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(t,i,r,o){return function(t){function i(e,t,i,r){var o,a;this.scope=e,this.attrs=i,this.map=r,(o=new google.maps.drawing.DrawingManager(this.scope.options)).setMap(this.map),a=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return o}),!this.scope.static&&this.scope.options&&this.scope.$watch("options",function(e){return null!=o?o.setOptions(e):void 0},!0),null!=this.scope.events&&(a=this.setEvents(o,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,i){if(!n.isEqual(t,i))return null!=a&&e.removeEvents(a),a=e.setEvents(o,e.scope,e.scope)}}(this))),this.scope.$on("$destroy",function(e){return function(){return null!=a&&e.removeEvents(a),o.setMap(null),o=null}}(this))}return e(i,r),i.include(o),i}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(r,o){return function(r){function a(n,i,r,s){if(this.scope=n,this.element=i,this.attrs=r,this.map=s,this.onWatch=e(this.onWatch,this),this.watch=e(this.watch,this),this.validateScope=e(this.validateScope,this),a.__super__.constructor.call(this,this.scope),this.$log=o,!this.validateScope(this.scope))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=t.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),this.scope.$on("$destroy",function(e){return function(){return e.onDestroy(e.scope)}}(this))}return i(a,r),a.prototype.DEFAULTS={},a.prototype.validateScope=function(e){return null==e?(this.$log.error(this.constructor.name+": invalid scope used"),!1):null!=e.coords||(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1)},a.prototype.watch=function(e,t,i){return null==i&&(i=!0),t.$watch(e,function(i){return function(r,o){if(!n.isEqual(r,o))return i.onWatch(e,t,r,o)}}(this),i)},a.prototype.onWatch=function(e,t,n,i){},a}(r)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(t,n,i){return function(t){function r(e,t,n,o,a,s,l,u){r.__super__.constructor.call(this,e),this.$log=i,this.$timeout=a,this.$compile=s,this.$http=l,this.$templateCache=u,this.DEFAULTS={},null!=e.options&&(this.DEFAULTS=e.options)}return e(r,t),r.include(n),r.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},r}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(i,r,o){return function(i){function o(n,i,o,a,s,l){return this.scope=n,this.element=i,this.attrs=o,this.gMap=a,this.onLayerCreated=null!=s?s:void 0,this.$log=null!=l?l:r,this.createGoogleLayer=e(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",function(e){return function(t,n){if(t!==n)return e.doShow=t,t?e.gObject.setMap(e.gMap):e.gObject.setMap(null)}}(this),!0),this.scope.$watch("options",function(e){return function(t,n){if(t!==n&&e.doShow)return e.gObject.setOptions(t)}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.gObject.setMap(null)}}(this)))}return n(o,i),o.prototype.createGoogleLayer=function(){var e;if(null==this.attrs.options?this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&this.doShow&&this.gObject.setMap(this.gMap),null!=this.gObject&&null!=this.onLayerCreated)return"function"==typeof(e=this.onLayerCreated(this.scope,this.gObject))?e(this.gObject):void 0},o}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(r,o){return function(r){function a(i,r,a,s,l,u,c){var d,p,h,f;return this.scope=i,this.element=r,this.attrs=a,this.gMap=s,this.$log=null!=l?l:o,this.childModel=u,this.propMap=c,this.refreshShown=e(this.refreshShown,this),this.hideOverlay=e(this.hideOverlay,this),this.showOverlay=e(this.showOverlay,this),this.refreshMapType=e(this.refreshMapType,this),this.createMapType=e(this.createMapType,this),null==this.scope.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),this.refreshShown(),this.doShow&&null!=this.gMap&&this.showOverlay(),p=function(e){return function(){return e.childModel[e.attrs.show]}}(this),f=this.childModel?p:"show",this.scope.$watch(f,function(e){return function(t,n){if(t!==n)return e.doShow=t,t?e.showOverlay():e.hideOverlay()}}(this)),d=function(e){return function(){return e.childModel[e.attrs.options]}}(this),h=this.childModel?d:"options",this.scope.$watchCollection(h,function(e){return function(t,i){var r;if(!n.isEqual(t,i)&&(r=["tileSize","maxZoom","minZoom","name","alt"],n.some(r,function(e){return!i||!t||!n.isEqual(t[e],i[e])})))return e.refreshMapType()}}(this)),t.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(e){return function(t,i){if(!n.isEqual(t,i))return e.refreshMapType()}}(this),!0),void this.scope.$on("$destroy",function(e){return function(){return e.hideOverlay(),e.mapType=null}}(this)))}return i(a,r),a.prototype.createMapType=function(){var e,n,i;if(null!=(i=this.childModel?this.attrs.options?this.childModel[this.attrs.options]:this.childModel:this.scope.options).getTile)this.mapType=i;else{if(null==i.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(i)}if((e=(n=this.attrs.id?this.childModel?this.attrs.id:"id":void 0)?this.childModel?this.childModel[n]:this.scope[n]:void 0)&&(this.gMap.mapTypes.set(e,this.mapType),t.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id,this.childModel&&t.isDefined(this.scope.index))return this.propMap.put(this.mapType.layerId,this.scope.index)},a.prototype.refreshMapType=function(){if(this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap)return this.showOverlay()},a.prototype.showOverlay=function(){var e,n;return t.isDefined(this.scope.index)?(e=!1,this.gMap.overlayMapTypes.getLength()?(this.gMap.overlayMapTypes.forEach((n=this,function(i,r){var o;e||((o=n.propMap.get(i.layerId.toString()))>n.scope.index||!t.isDefined(o))&&(e=!0,n.gMap.overlayMapTypes.insertAt(r,n.mapType))})),e?void 0:this.gMap.overlayMapTypes.push(this.mapType)):this.gMap.overlayMapTypes.push(this.mapType)):this.gMap.overlayMapTypes.push(this.mapType)},a.prototype.hideOverlay=function(){var e,t;return e=!1,this.gMap.overlayMapTypes.forEach((t=this,function(n,i){e||n.layerId!==t.id||(e=!0,t.gMap.overlayMapTypes.removeAt(i))}))},a.prototype.refreshShown=function(){return this.doShow=!t.isDefined(this.attrs.show)||(this.childModel?this.childModel[this.attrs.show]:this.scope.show)},a}(r)}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypesParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapMapTypeParentModel","uiGmapPropMap",function(t,n,i,r){return function(t){function o(e,t,o,a,s){var l;return this.scope=e,this.element=t,this.attrs=o,this.gMap=a,this.$log=null!=s?s:n,null==this.attrs.mapTypes?void this.$log.info("layers attribute for the map-types directive is mandatory. Map types creation aborted!!"):(l=new r,void this.scope.mapTypes.forEach(function(e){return function(t,n){var r,o;o={options:e.scope.options,show:e.scope.show,refresh:e.scope.refresh},(r=e.scope.$new()).index=n,new i(r,null,o,e.gMap,e.$log,t,l)}}(this)))}return e(o,t),o}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger","uiGmapSpiderfierMarkerManager",function(r,o,a,s,l,u,c,d,p,h,f,g,m){var v;return v=function(e,t){return t.plurals=new a,t.scope.plurals=t.plurals,t},function(r){function d(t,i,r,o){this.maybeExecMappedEvent=e(this.maybeExecMappedEvent,this),this.onDestroy=e(this.onDestroy,this),this.newChildMarker=e(this.newChildMarker,this),this.pieceMeal=e(this.pieceMeal,this),this.rebuildAll=e(this.rebuildAll,this),this.createAllNew=e(this.createAllNew,this),this.bindToTypeEvents=e(this.bindToTypeEvents,this),this.createChildScopes=e(this.createChildScopes,this),this.validateScope=e(this.validateScope,this),this.onWatch=e(this.onWatch,this),d.__super__.constructor.call(this,t,i,r,o),this.interface=p,v(new a,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll&&this.scope.doRebuildAll,this.setIdKey(this.scope),this.scope.$watch("doRebuildAll",function(e){return function(t,n){if(t!==n)return e.doRebuildAll=t}}(this)),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch("models",function(e){return function(t,i){if(!n.isEqual(t,i)||!e.modelsRendered){if(0===t.length&&0===i.length)return;return e.modelsRendered=!0,e.onWatch("models",e.scope,t,i)}}}(this),!this.isTrue(r.modelsbyref)),this.watch("doCluster",this.scope),this.watch("type",this.scope),this.watch("clusterOptions",this.scope),this.watch("clusterEvents",this.scope),this.watch("typeOptions",this.scope),this.watch("typeEvents",this.scope),this.watch("fit",this.scope),this.watch("idKey",this.scope),this.gManager=void 0,this.createAllNew(this.scope)}return i(d,r),d.include(f),d.include(o),d.prototype.onWatch=function(e,t,n,i){return"idKey"===e&&n!==i&&(this.idKey=n),this.doRebuildAll||"doCluster"===e||"type"===e?this.rebuildAll(t):this.pieceMeal(t)},d.prototype.validateScope=function(e){var n;return(n=t.isUndefined(e.models)||void 0===e.models)&&this.$log.error(this.constructor.name+": no valid models attribute found"),d.__super__.validateScope.call(this,e)||n},d.prototype.createChildScopes=function(e){if(null!=this.gMap&&null!=this.scope.models)return e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)},d.prototype.bindToTypeEvents=function(e,i){var r,o;return null==i&&(i=["click","mouseout","mouseover"]),o=this,this.origTypeEvents?t.extend(e,this.origTypeEvents):(this.origTypeEvents={},n.each(i,function(t){return function(n){return t.origTypeEvents[n]=null!=e?e[n]:void 0}}(this))),r={},n.each(i,function(e){return r[e]=function(t){return o.maybeExecMappedEvent(t,e)}}),t.extend(e,r)},d.prototype.createAllNew=function(e){var t,n,i,r;if(null!=this.gManager&&(this.gManager instanceof m&&(t=this.gManager.isSpiderfied()),this.gManager.clear(),delete this.gManager),i=e.typeEvents||e.clusterEvents,r=e.typeOptions||e.clusterOptions,e.doCluster||"cluster"===e.type?(null!=i&&this.bindToTypeEvents(i),this.gManager=new u(this.map,void 0,r,i)):"spider"===e.type?(null!=i&&this.bindToTypeEvents(i,["spiderfy","unspiderfy"]),this.gManager=new m(this.map,void 0,r,i,this.scope),t&&this.gManager.spiderfy()):this.gManager=new c(this.map),!this.didQueueInitPromise(this,e))return n=null,l.promiseLock(this,h.promiseTypes.create,"createAllNew",function(e){return n=e},function(t){return function(){return l.each(e.models,function(i){return t.newChildMarker(i,e),n},l.chunkSizeFrom(e.chunk)).then(function(){return t.modelsRendered=!0,e.fit&&t.gManager.fit(),t.gManager.draw(),t.scope.pluralsUpdate.updateCtr+=1},l.chunkSizeFrom(e.chunk))}}(this))},d.prototype.rebuildAll=function(e){var t;if(e.doRebuild||void 0===e.doRebuild)return(null!=(t=this.scope.plurals)?t.length:void 0)?this.onDestroy(e).then(function(t){return function(){return t.createAllNew(e)}}(this)):this.createAllNew(e)},d.prototype.pieceMeal=function(e){var t,n,i;if(!e.$$destroyed)return t=null,n=null,this.modelsLength()&&this.scope.plurals.length?l.promiseLock(this,h.promiseTypes.update,"pieceMeal",function(e){return t=e},(i=this,function(){return h.promise(function(){return i.figureOutState(i.idKey,e,i.scope.plurals,i.modelKeyComparison)}).then(function(r){return n=r,l.each(n.removals,function(e){if(null!=e)return null!=e.destroy&&e.destroy(),i.scope.plurals.remove(e.id),t},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(n.adds,function(n){return i.newChildMarker(n,e),t},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(n.updates,function(e){return i.updateChild(e.child,e.model),t},l.chunkSizeFrom(e.chunk))}).then(function(){return(n.adds.length>0||n.removals.length>0||n.updates.length>0)&&(e.plurals=i.scope.plurals,e.fit&&i.gManager.fit(),i.gManager.draw()),i.scope.pluralsUpdate.updateCtr+=1})})):(this.inProgress=!1,this.rebuildAll(e))},d.prototype.newChildMarker=function(e,t){var n,i,r;if(!e)throw"model undefined";return null==e[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",n,"markers",this.scope.markerModels),(i=t.$new(!1)).events=t.events,r={},p.scopeKeys.forEach(function(e){return r[e]=t[e]}),n=new s({scope:i,model:e,keys:r,gMap:this.map,defaults:this.DEFAULTS,doClick:this.doClick,gManager:this.gManager,doDrawSelf:!1,isScopeModel:!0}),this.scope.plurals.put(e[this.idKey],n),n)},d.prototype.onDestroy=function(e){return d.__super__.onDestroy.call(this,e),l.promiseLock(this,h.promiseTypes.delete,void 0,void 0,function(e){return function(){return l.each(e.scope.plurals.values(),function(e){if(null!=e)return e.destroy(!1)},l.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){return null!=e.gManager&&e.gManager.destroy(),e.plurals.removeAll(),e.plurals!==e.scope.plurals&&console.error("plurals out of sync for MarkersParentModel"),e.scope.pluralsUpdate.updateCtr+=1})}}(this))},d.prototype.maybeExecMappedEvent=function(e,t){var i,r;if(!this.scope.$$destroyed)return r=this.scope.typeEvents||this.scope.clusterEvents,n.isFunction(null!=r?r[t]:void 0)&&(i=this.mapTypeToPlurals(e),this.origTypeEvents[t])?this.origTypeEvents[t](i.group,i.mapped):void 0},d.prototype.mapTypeToPlurals=function(e){var t,i;return n.isArray(e)?t=e:n.isFunction(e.getMarkers)&&(t=e.getMarkers()),null==t?void g.error("Unable to map event as we cannot find the array group to map"):{cluster:e,mapped:(null!=(i=this.scope.plurals.values())?i.length:void 0)?t.map(function(e){return function(t){return e.scope.plurals.get(t.key).model}}(this)):[],group:e}},d.prototype.getItem=function(e,t,n){return"models"===t?e[t][n]:e[t].get(n)},d}(r)}])}.call(this),function(){["Polygon","Polyline"].forEach(function(e){return t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+e+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+e+"ChildModel","uiGmapI"+e,function(t,n,i){return t(i,n,e)}])})}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(t,i,r,o){return function(o){function a(e,i,r,o,a){var s,l,u,c,d,p,h,f,g,m,v;this.scope=e,this.attrs=r,this.gMap=o,this.DEFAULTS=a,s=void 0,c=!1,g=[],f=void 0,d=function(e){return function(){if(e.isTrue(e.attrs.fit))return e.fitMapBounds(e.gMap,s)}}(this),(u=function(e){return function(){var n,i,r;return null!=e.scope.bounds&&null!=(null!=(n=e.scope.bounds)?n.sw:void 0)&&null!=(null!=(i=e.scope.bounds)?i.ne:void 0)&&e.validateBoundPoints(e.scope.bounds)?(s=e.convertBoundPoints(e.scope.bounds),t.info("new new bounds created: "+JSON.stringify(s))):null!=e.scope.bounds.getNorthEast&&null!=e.scope.bounds.getSouthWest?s=e.scope.bounds:null!=e.scope.bounds?t.error("Invalid bounds for newValue: "+JSON.stringify(null!=(r=e.scope)?r.bounds:void 0)):void 0}}(this))(),p=new google.maps.Rectangle(this.buildOpts(s)),t.info("gObject (rectangle) created: "+p),m=!1,v=function(e){return function(){var t,n,i;if(t=p.getBounds(),n=t.getNorthEast(),i=t.getSouthWest(),!m)return e.scope.$evalAsync(function(e){if(null!=e.bounds&&null!=e.bounds.sw&&null!=e.bounds.ne&&(e.bounds.ne={latitude:n.lat(),longitude:n.lng()},e.bounds.sw={latitude:i.lat(),longitude:i.lng()}),null!=e.bounds.getNorthEast&&null!=e.bounds.getSouthWest)return e.bounds=t})}}(this),h=function(e){return function(){return d(),e.removeEvents(g),g.push(google.maps.event.addListener(p,"dragstart",function(){return c=!0})),g.push(google.maps.event.addListener(p,"dragend",function(){return c=!1,v()})),g.push(google.maps.event.addListener(p,"bounds_changed",function(){if(!c)return v()}))}}(this),l=function(e){return function(){return e.removeEvents(g),null!=f&&e.removeEvents(f),p.setMap(null)}}(this),null!=s&&h(),this.scope.$watch("bounds",function(e,t){var i;if(!(n.isEqual(e,t)&&null!=s||c))return m=!0,null==e?void l():(null==s?i=!0:d(),u(),p.setBounds(s),m=!1,i&&null!=s?h():void 0)},!0),this.setMyOptions=function(e){return function(t,i){if(!n.isEqual(t,i)&&null!=s&&null!=t)return p.setOptions(e.buildOpts(s))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=this.attrs.events&&(f=this.setEvents(p,this.scope,this.scope),this.scope.$watch("events",function(e){return function(t,i){if(!n.isEqual(t,i))return null!=f&&e.removeEvents(f),f=e.setEvents(p,e.scope,e.scope)}}(this))),this.scope.$on("$destroy",function(){return l()}),t.info(this)}return e(a,o),a.include(i),a.include(r),a}(o)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper",function(i,r,o){return function(i){function a(n,i,o,a,s,l,u){var c;return this.scope=n,this.element=i,this.attrs=o,this.gMap=a,this.ctrlPosition=s,this.template=l,this.$log=null!=u?u:r,this.setVisibility=e(this.setVisibility,this),this.getBounds=e(this.getBounds,this),this.setBounds=e(this.setBounds,this),this.createSearchBox=e(this.createSearchBox,this),this.addToParentDiv=e(this.addToParentDiv,this),this.addAsMapControl=e(this.addAsMapControl,this),this.init=e(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(t.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),t.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),t.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,(c=t.element("<div></div>")).append(this.template),this.input=c.find("input")[0],void this.init())}return n(a,i),a.include(o),a.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",(e=this,function(n,i){if(t.isObject(n)&&(null!=n.bounds&&e.setBounds(n.bounds),null!=n.visible&&e.visible!==n.visible))return e.setVisibility(n.visible)}),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.visible||this.setVisibility(this.visible),this.autocomplete?this.listener=google.maps.event.addListener(this.gObject,"place_changed",function(e){return function(){return e.places=e.gObject.getPlace()}}(this)):this.listener=google.maps.event.addListener(this.gObject,"places_changed",function(e){return function(){return e.places=e.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$stateChangeSuccess",function(e){return function(){if(null!=e.attrs.parentdiv)return e.addToParentDiv()}}(this)),this.scope.$on("$destroy",function(e){return function(){return e.gObject=null}}(this));var e},a.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},a.prototype.addToParentDiv=function(){var e;if(this.parentDiv=t.element(document.getElementById(this.scope.parentdiv)),null!=(e=this.parentDiv)?e.length:void 0)return this.parentDiv.append(this.input)},a.prototype.createSearchBox=function(){return this.autocomplete?this.gObject=new google.maps.places.Autocomplete(this.input,this.scope.options):this.gObject=new google.maps.places.SearchBox(this.input,this.scope.options)},a.prototype.setBounds=function(e){if(t.isUndefined(e.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(!1===e.isEmpty()&&null!=this.gObject)return this.gObject.setBounds(e)},a.prototype.getBounds=function(){return this.gObject.getBounds()},a.prototype.setVisibility=function(e){return null!=this.attrs.parentdiv?!1===e?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):!1===e?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=e},a}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(r,o,a,s,l,u,c,d,p,h,f,g,m,v,y){return function(r){function b(t,i,r,o,s,u){this.gMap=s,this.markersScope=u,this.modelKeyComparison=e(this.modelKeyComparison,this),this.interpolateContent=e(this.interpolateContent,this),this.setChildScope=e(this.setChildScope,this),this.createWindow=e(this.createWindow,this),this.setContentKeys=e(this.setContentKeys,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchOurScope=e(this.watchOurScope,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),this.go=e(this.go,this),b.__super__.constructor.call(this,t,i,r,o,d,p,h,f),this.interface=v,this.plurals=new a,n.each(v.scopeKeys,function(e){return function(t){return e[t+"Key"]=void 0}}(this)),this.linked=new l(t,i,r,o),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(t)}return i(b,r),b.include(o),b.prototype.go=function(e){return this.watchOurScope(e),this.doRebuildAll=null!=this.scope.doRebuildAll&&this.scope.doRebuildAll,e.$watch("doRebuildAll",function(e){return function(t,n){if(t!==n)return e.doRebuildAll=t}}(this)),this.createChildScopes()},b.prototype.watchModels=function(e){var t;return t=null!=this.markersScope?"pluralsUpdate":"models",e.$watch(t,function(t){return function(i,r){var o;if(!n.isEqual(i,r)||t.firstWatchModels)return t.firstWatchModels=!1,t.doRebuildAll||t.doINeedToWipe(e.models)?t.rebuildAll(e,!0,!0):(o=0===t.plurals.length,null!=t.existingPieces?n.last(t.existingPieces._content).then(function(){return t.createChildScopes(o)}):t.createChildScopes(o))}}(this),!0)},b.prototype.doINeedToWipe=function(e){var t;return t=null==e||0===e.length,this.plurals.length>0&&t},b.prototype.rebuildAll=function(e,t,n){return this.onDestroy(n).then(function(e){return function(){if(t)return e.createChildScopes()}}(this))},b.prototype.onDestroy=function(e){return b.__super__.onDestroy.call(this,this.scope),u.promiseLock(this,m.promiseTypes.delete,void 0,void 0,function(e){return function(){return u.each(e.plurals.values(),function(e){return e.destroy(!0)},u.chunkSizeFrom(e.scope.cleanchunk,!1)).then(function(){var t;return null!=(t=e.plurals)?t.removeAll():void 0})}}(this))},b.prototype.watchDestroy=function(e){return e.$on("$destroy",(t=this,function(){return t.firstWatchModels=!0,t.firstTime=!0,t.rebuildAll(e,!1,!0)}));var t},b.prototype.watchOurScope=function(e){return n.each(v.scopeKeys,(t=this,function(n){return t[n+"Key"]="function"==typeof e[n]?e[n]():e[n]}));var t},b.prototype.createChildScopes=function(e){var n,i;return null==e&&(e=!0),this.isIconVisibleOnClick=!0,t.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),!t.isUndefined(this.linked.scope.models)||void 0!==this.markersScope&&void 0!==(null!=(n=this.markersScope)?n.plurals:void 0)&&void 0!==(null!=(i=this.markersScope)?i.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),e?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),e?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derived from markers!")},b.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",(t=this,function(n,i){if(n!==i&&null==n)return t.idKey=n,t.rebuildAll(e,!0,!0)}));var t},b.prototype.createAllNew=function(e,t,n,i){var r;if(null==n&&(n="models"),null==i&&(i=!1),this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.setContentKeys(e.models),!this.didQueueInitPromise(this,e))return r=null,u.promiseLock(this,m.promiseTypes.create,"createAllNew",function(e){return r=e},function(i){return function(){return u.each(e.models,function(o){var a,s;return a=t&&null!=(s=i.getItem(e,n,o[i.idKey]))?s.gObject:void 0,r||(!a&&i.markersScope&&c.error("Unable to get gMarker from markersScope!"),i.createWindow(o,a,i.gMap)),r},u.chunkSizeFrom(e.chunk)).then(function(){return i.firstTime=!1})}}(this))},b.prototype.pieceMeal=function(e,t,n,i){var r,o;if(null==n&&(n="models"),null==i&&(i=!0),!e.$$destroyed)return r=null,o=null,null!=e&&this.modelsLength()&&this.plurals.length?u.promiseLock(this,m.promiseTypes.update,"pieceMeal",function(e){return r=e},function(t){return function(){return m.promise(function(){return t.figureOutState(t.idKey,e,t.plurals,t.modelKeyComparison)}).then(function(n){return o=n,u.each(o.removals,function(e){if(null!=e)return t.plurals.remove(e.id),null!=e.destroy&&e.destroy(!0),r},u.chunkSizeFrom(e.chunk))}).then(function(){return u.each(o.adds,function(i){var o,a;if(!(o=null!=(a=t.getItem(e,n,i[t.idKey]))?a.gObject:void 0))throw"Gmarker undefined";return t.createWindow(i,o,t.gMap),r})}).then(function(){return u.each(o.updates,function(e){return t.updateChild(e.child,e.model),r},u.chunkSizeFrom(e.chunk))})}}(this)):(c.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0))},b.prototype.setContentKeys=function(e){if(this.modelsLength(e))return this.contentKeys=Object.keys(e[0])},b.prototype.createWindow=function(e,t,n){var i,r,o,a,l,u;return r=this.linked.scope.$new(!1),this.setChildScope(r,e),r.$watch("model",function(e){return function(t,n){if(t!==n)return e.setChildScope(r,t)}}(this),!0),o={html:function(t){return function(){return t.interpolateContent(t.linked.element.html(),e)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,e)||{},a=this.createWindowOptions(t,r,o.html(),this.DEFAULTS),i=new s({model:e,scope:r,opts:a,isIconVisibleOnClick:this.isIconVisibleOnClick,gMap:n,markerScope:null!=(l=this.markersScope)&&null!=(u=l.plurals.get(e[this.idKey]))?u.scope:void 0,element:o,needToManualDestroy:!1,markerIsVisibleAfterWindowClose:!0,isScopeModel:!0}),null==e[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(e[this.idKey],i),i)},b.prototype.setChildScope=function(e,t){return n.each(v.scopeKeys,function(n){return function(i){var r,o;if((o="self"===n[r=i+"Key"]?t:t[n[r]])!==e[i])return e[i]=o}}(this)),e.model=t},b.prototype.interpolateContent=function(e,t){var n,i,r,o,a,s;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(n=g(e),r={},i=0,a=(s=this.contentKeys).length;i<a;i++)r[o=s[i]]=t[o];return n(r)}},b.prototype.modelKeyComparison=function(e,t){var i,r;if(null==(r=null!=this.scope.coords?this.scope:this.parentScope))throw"No scope or parentScope set!";return(i=y.equalCoords(this.evalModelHandle(e,r.coords),this.evalModelHandle(t,r.coords)))?i=n.every(n.without(this.interface.scopeKeys,"coords"),function(n){return function(i){return n.evalModelHandle(e,r[i])===n.evalModelHandle(t,r[i])}}(this)):i},b}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(e,t){return n.extend(e,{link:function(e,n,i,r){return r.getScope().deferred.promise.then(function(r){return new t(e,n,i,r)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(i,r,o,a,s,l){return function(u){function c(){this.link=e(this.link,this),c.__super__.constructor.call(this)}return n(c,i),c.prototype.transclude=!0,c.prototype.link=function(e,n,u,c,d){return l.then(function(n){return function(l){var u,p,h;return d(),!(u=d().length>0)&&t.isUndefined(e.template)?void n.$log.error("mapControl: could not find a valid template property or elements for transclusion"):(p=t.isDefined(e.index&&!isNaN(parseInt(e.index)))?parseInt(e.index):void 0,h=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",l.ControlPosition[h]?i.mapPromise(e,c).then(function(i){var l,c,f;return l=void 0,c=t.element("<div></div>"),f=function(e,t,n){return n&&(t[0].index=n),e.controls[google.maps.ControlPosition[h]].push(t[0])},u?d(function(e){return c.append(e),f(i,c,p)}):r.get(e.template,{cache:o}).success(function(n){var i,r;return r=e.$new(),c.append(n),t.isDefined(e.controller)&&(i=s(e.controller,{$scope:r}),c.children().data("$ngControllerController",i)),l=a(c.children())(r)}).error(function(e){return n.$log.error("mapControl: template could not be found")}).then(function(){return f(i,l,p)})}):void n.$log.error("mapControl: invalid position property"))}}(this))},c}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(e,t){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(t,i){return t.ctrlType="uiGmapDragZoom",n.extend(this,e.handle(t,i))}],link:function(n,i,r,o){return e.mapPromise(n,o).then(function(e){var i,r,o;return i=function(t){return e.enableKeyDragZoom(t)},r=new t(function(e,t){return t?i({key:t}):i()}),o=new t(function(e,t){if(t)return i(t)}),n.$watch("keyboardkey",r.sic("keyboardkey")),r.sic(n.keyboardkey),n.$watch("options",o.sic("options")),o.sic(n.options)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(e,t){return n.extend(e,{link:function(e,n,i,r){return r.getScope().deferred.promise.then(function(r){return new t(e,n,i,r)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(t,r,o,a,s){return function(r){function l(){return this.link=e(this.link,this),l.__super__.constructor.apply(this,arguments)}return i(l,r),l.include(o),l.prototype.restrict="EMA",l.prototype.replace=!0,l.prototype.require="^uiGmapGoogleMap",l.prototype.scope={polygons:"=",draw:"="},l.prototype.link=function(e,i,r,o){return this.mapPromise(e,o).then(function(i){var r,l;return e.polygons?n.isArray(e.polygons)?(r=new a(i,o.getScope()),l=void 0,e.draw=function(){return"function"==typeof l&&l(),r.engage(e.polygons).then(function(){var t;return t=!0,l=e.$watchCollection("polygons",function(e,n){return t||e===n?void(t=!1):s.differenceObjects(n,e).forEach(function(e){return e.setMap(null)})})})}):t.error("Free Draw Polygons must be of type Array!"):t.error("No polygons to bind to!")})},l}(r)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){return{},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",control:"=",zIndex:"=zindex"}}}])}.call(this),function(){var e=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,n,i){return function(t){function r(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=n}return e(r,t),r.extend(i),r.prototype.link=function(e,t,n,i){throw new Exception("Not implemented!!")},r}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{static:"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(t,i){return function(t){function r(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=n.extend(this.scope||{},r.scope)}return e(r,t),r.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},r.scopeKeys=n.keys(r.scope),r.keys=r.scopeKeys,r.extend(i),r}(t)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,i,r,o){return function(i){function a(){}return e(a,i),a.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=",static:"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},a.scopeKeys=n.keys(a.scope),a.include(t),a.extend(o),a.prototype.restrict="EMA",a.prototype.replace=!0,a.prototype.require="^uiGmapGoogleMap",a.prototype.scope=a.scope,a.prototype.DEFAULTS={},a.prototype.$log=r,a}(i)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,i,r,o){return function(i){function a(){}return e(a,i),a.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=",static:"=",fit:"=",events:"=",zIndex:"=zindex"},a.scopeKeys=n.keys(a.scope),a.include(t),a.extend(o),a.prototype.restrict="EMA",a.prototype.replace=!0,a.prototype.require="^uiGmapGoogleMap",a.prototype.scope=a.scope,a.prototype.DEFAULTS={},a.prototype.$log=r,a}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){return{},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(t,i,r){return function(t){function o(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=n.extend(this.scope||{},o.scope)}return e(o,t),o.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},o.scopeKeys=n.keys(o.scope),o.include(i),o.extend(r),o}(t)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","$log","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper","uiGmapGoogleMapObjectManager",function(r,o,a,s,l,u,c,d,p,h,f,g,m,v){var y,b;return y=void 0,b=[f,p,h],function(o){function l(){var t;this.link=e(this.link,this),t=function(e){var t;return void 0,e.$on("$destroy",function(){return c.decrement()}),t=u.handle(e),e.ctrlType="Map",e.deferred.promise.then(function(){return b.forEach(function(e){return e.init()})}),t.getMap=function(){return e.map},n.extend(this,t)},this.controller=["$scope",t]}return i(l,o),l.include(s),l.prototype.restrict="EMA",l.prototype.transclude=!0,l.prototype.replace=!1,l.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container">\n</div><div ng-transclude style="display: none"></div></div>',l.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},l.prototype.link=function(e,i,o){var s,l;return s=[],e.$on("$destroy",function(){if(m.removeEvents(s),"true"===o.recycleMapInstance&&e.map)return v.recycleMapInstance(e.map),e.map=null}),e.idleAndZoomChanged=!1,g.then((l=this,function(u){var p,h,f,g,b,w,$,C,S,x,E,k,D,_,M,T,O;if(y={mapTypeId:u.MapTypeId.ROADMAP},_=c.spawn(),k=function(){return _.deferred.resolve({instance:_.instance,map:p})},t.isDefined(e.center)||t.isDefined(e.bounds)){if(t.isDefined(e.center)||(e.center=new google.maps.LatLngBounds(l.getCoords(e.bounds.southwest),l.getCoords(e.bounds.northeast)).getCenter()),t.isDefined(e.zoom)||(e.zoom=10),(b=t.element(i)).addClass("angular-google-map"),x={options:{}},o.options&&(x.options=e.options),o.styles&&(x.styles=e.styles),o.type&&(M=o.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(M)?x.mapTypeId=google.maps.MapTypeId[o.type.toUpperCase()]:a.error("angular-google-maps: invalid map type '"+o.type+"'")),C=t.extend({},y,x,{center:l.getCoords(e.center),zoom:e.zoom,bounds:e.bounds}),(p="true"===o.recycleMapInstance?v.createMapInstance(b.find("div")[1],C):new google.maps.Map(b.find("div")[1],C)).uiGmap_id=d.generate(),g=!1,s.push(google.maps.event.addListenerOnce(p,"idle",function(){return e.deferred.resolve(p),k()})),f=o.events&&null!=(null!=(E=e.events)?E.blacklist:void 0)?e.events.blacklist:[],n.isString(f)&&(f=[f]),S=function(t,i,r){if(!n.includes(f,t))return r&&r(),s.push(google.maps.event.addListener(p,t,function(){var t;if(!(null!=(t=e.update)?t.lazy:void 0))return i()}))},n.includes(f,"all")||(S("dragstart",function(){return g=!0,e.$evalAsync(function(e){if(null!=e.dragging)return e.dragging=g})}),S("dragend",function(){return g=!1,e.$evalAsync(function(e){if(null!=e.dragging)return e.dragging=g})}),T=function(t,i){if(null==t&&(t=p.center),null==i&&(i=e),!n.includes(f,"center")&&(i.center.latitude!==t.lat()&&(i.center.latitude=t.lat()),i.center.longitude!==t.lng()))return i.center.longitude=t.lng()},D=!1,S("idle",function(){var t,i,r;return t=p.getBounds(),i=t.getNorthEast(),r=t.getSouthWest(),D=!0,e.$evalAsync(function(t){return T(),n.isUndefined(t.bounds)||n.includes(f,"bounds")||(t.bounds.northeast={latitude:i.lat(),longitude:i.lng()},t.bounds.southwest={latitude:r.lat(),longitude:r.lng()}),n.includes(f,"zoom")||(t.zoom=p.zoom,e.idleAndZoomChanged=!e.idleAndZoomChanged),D=!1})})),t.isDefined(e.events)&&null!==e.events&&t.isObject(e.events)){for(w in $=function(t){return function(){return e.events[t].apply(e,[p,t,arguments])}},h=[],e.events)e.events.hasOwnProperty(w)&&t.isFunction(e.events[w])&&h.push(google.maps.event.addListener(p,w,$(w)));s.concat(h)}return p.getOptions=function(){return C},e.map=p,null!=o.control&&null!=e.control&&(e.control.refresh=function(e){var t,n,i;if(null!=p)return null!=("undefined"!=typeof google&&null!==google&&null!=(n=google.maps)&&null!=(i=n.event)?i.trigger:void 0)&&null!=p&&google.maps.event.trigger(p,"resize"),null!=(null!=e?e.latitude:void 0)&&null!=(null!=e?e.longitude:void 0)?(t=l.getCoords(e),l.isTrue(o.pan)?p.panTo(t):p.setCenter(t)):void 0},e.control.getGMap=function(){return p},e.control.getMapOptions=function(){return C},e.control.getCustomEventListeners=function(){return h},e.control.removeEvents=function(e){return m.removeEvents(e)}),e.$watch("center",function(t,n){var i;if(t!==n&&!D&&((i=l.getCoords(e.center)).lat()!==p.center.lat()||i.lng()!==p.center.lng()))return g?void 0:(l.validateCoords(t)||a.error("Invalid center for newValue: "+JSON.stringify(t)),l.isTrue(o.pan)&&e.zoom===p.zoom?p.panTo(i):p.setCenter(i))},!0),O=null,e.$watch("zoom",function(t,i){var o,a;if(null!=t&&!n.isEqual(t,i)&&(null!=p?p.getZoom():void 0)!==(null!=e?e.zoom:void 0)&&!D)return null!=O&&r.cancel(O),O=r(function(){return p.setZoom(t)},(null!=(o=e.eventOpts)&&null!=(a=o.debounce)?a.zoomMs:void 0)+20,!1)}),e.$watch("bounds",function(e,t){var n,i,r,o,s,l,u;if(e!==t)return null==(null!=e&&null!=(r=e.northeast)?r.latitude:void 0)||null==(null!=e&&null!=(o=e.northeast)?o.longitude:void 0)||null==(null!=e&&null!=(s=e.southwest)?s.latitude:void 0)||null==(null!=e&&null!=(l=e.southwest)?l.longitude:void 0)?void a.error("Invalid map bounds for new value: "+JSON.stringify(e)):(i=new google.maps.LatLng(e.northeast.latitude,e.northeast.longitude),u=new google.maps.LatLng(e.southwest.latitude,e.southwest.longitude),n=new google.maps.LatLngBounds(u,i),p.fitBounds(n))}),["options","styles"].forEach(function(t){return e.$watch(t,function(e,i){if(!n.isEqual(e,i))return"options"===t?x.options=e:x.options[t]=e,null!=p?p.setOptions(x):void 0},!0)})}a.error("angular-google-maps: a center or bounds property is required")}))},l}(l)}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(t,i,r,o){return function(a){function s(){s.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',o.info(this)}return e(s,t),s.prototype.controller=["$scope","$element",function(e,i){return e.ctrlType="Marker",n.extend(this,t.handle(e,i))}],s.prototype.link=function(e,o,a,s){return t.mapPromise(e,s).then(function(o){var a,s;if(a=new r(o),s=n.object(t.keys,t.keys),new i({scope:e,model:e,keys:s,gMap:o,doClick:!0,gManager:a,doDrawSelf:!1,trackModel:!1}).deferred.promise.then(function(t){return e.deferred.resolve(t)}),null!=e.control)return e.control.getGMarkers=a.getGMarkers}),e.$on("$destroy",function(){var e;return void 0!==e&&null!==e&&e.clear(),null})},s}()}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(t,i,r,o,a){return function(o){function s(){s.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',i.extend(this,{doCluster:"=?docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref",type:"=?type",typeOptions:"=?typeoptions",typeEvents:"=?typeevents",deepComparison:"=?deepcomparison"}),a.info(this)}return e(s,t),s.prototype.controller=["$scope","$element",function(e,i){return e.ctrlType="Markers",n.extend(this,t.handle(e,i))}],s.prototype.link=function(e,o,a,s){var l,u;return l=void 0,u=function(){return e.deferred.resolve()},t.mapPromise(e,s).then(function(t){return s.getScope().$watch("idleAndZoomChanged",function(){return n.defer(l.gManager.draw)}),l=new r(e,o,a,t),i.link(e,l),null!=e.control&&(e.control.getGMarkers=function(){var e;return null!=(e=l.gManager)?e.getGMarkers():void 0},e.control.getChildMarkers=function(){return l.plurals}),n.last(l.existingPieces._content).then(function(){return u()})})},s}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var e;return e=function(e,t){if(null!=e.control)return e.control.updateModels=function(n){return e.models=n,t.createChildScopes(!1)},e.control.newModels=function(n){return e.models=n,t.rebuildAll(e,!0,!0)},e.control.clean=function(){return t.rebuildAll(e,!1,!0)},e.control.getPlurals=function(){return t.plurals},e.control.getManager=function(){return t.gManager},e.control.hasManager=function(){return null!=t.gManager==1},e.control.managerDraw=function(){var t;if(e.control.hasManager())return null!=(t=e.control.getManager())?t.draw():void 0}},{extend:function(e,t){return n.extend(e.scope||{},t||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control",deepComparison:"=deepcomparison"})},link:function(t,n){return e(t,n)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmapPolygonChildModel",function(t,i,r){return function(i){function o(){return this.link=e(this.link,this),o.__super__.constructor.apply(this,arguments)}return n(o,t),o.prototype.link=function(e,n,i,o){var a,s;return a=[],s=t.mapPromise(e,o),null!=e.control&&(e.control.getInstance=this,e.control.polygons=a,e.control.promise=s),s.then(function(t){return function(n){return a.push(new r({scope:e,attrs:i,gMap:n,defaults:t.DEFAULTS}))}}(this))},o}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmapPolygonsParentModel","uiGmapPlural",function(i,r,o,a){return function(i){function r(){this.link=e(this.link,this),r.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(r,i),r.prototype.link=function(e,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(s){return(t.isUndefined(e.path)||null===e.path)&&r.$log.warn("polygons: no valid path attribute found"),e.models||r.$log.warn("polygons: no models found to create from"),a.link(e,new o(e,n,i,s,r.DEFAULTS))}}(this))},r}(i)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmapPolylineChildModel",function(i,r,o){return function(r){function a(){return this.link=e(this.link,this),a.__super__.constructor.apply(this,arguments)}return n(a,i),a.prototype.link=function(e,n,r,a){return i.mapPromise(e,a).then(function(n){return function(i){return!t.isUndefined(e.path)&&null!==e.path&&n.validatePath(e.path)||n.$log.warn("polyline: no valid path attribute found"),new o({scope:e,attrs:r,gMap:i,defaults:n.DEFAULTS})}}(this))},a}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmapPolylinesParentModel","uiGmapPlural",function(i,r,o,a){return function(i){function r(){this.link=e(this.link,this),r.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(r,i),r.prototype.link=function(e,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(s){return(t.isUndefined(e.path)||null===e.path)&&r.$log.warn("polylines: no valid path attribute found"),e.models||r.$log.warn("polylines: no models found to create from"),a.link(e,new o(e,n,i,s,r.DEFAULTS))}}(this))},r}(i)}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(e,t,i,r){return n.extend(i,{link:function(e,t,n,i){return i.getScope().deferred.promise.then(function(i){return new r(e,t,n,i)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(i,r,o,a,s){return function(l){function u(){this.link=e(this.link,this),u.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',s.debug(this),this.childWindows=[]}return n(u,i),u.include(r),u.prototype.link=function(e,n,r,o){var a,s;return a=o.length>1&&null!=o[1]?o[1]:void 0,s=null!=a?a.getScope():void 0,this.mapPromise=i.mapPromise(e,o[0]),this.mapPromise.then(function(i){return function(o){var l;return l=!0,t.isDefined(r.isiconvisibleonclick)&&(l=e.isIconVisibleOnClick),a?s.deferred.promise.then(function(t){return i.init(e,n,l,o,s)}):void i.init(e,n,l,o)}}(this))},u.prototype.init=function(e,t,n,i,r){var s,l,u,c,d;if(l=null!=e.options?e.options:{},c=null!=e&&this.validateCoords(e.coords),null!=(null!=r?r.getGMarker:void 0)&&(u=r.getGMarker()),d=c?this.createWindowOptions(u,e,t.html(),l):l,null!=i&&(s=new o({scope:e,opts:d,isIconVisibleOnClick:n,gMap:i,markerScope:r,element:t}),this.childWindows.push(s),e.$on("$destroy",function(e){return function(){return e.childWindows=a.withoutObjects(e.childWindows,[s],function(e,t){return e.scope.$id===t.scope.$id}),e.childWindows.length=0}}(this))),null!=e.control&&(e.control.getGWindows=function(e){return function(){return e.childWindows.map(function(e){return e.gObject})}}(this),e.control.getChildWindows=function(e){return function(){return e.childWindows}}(this),e.control.getPlurals=e.control.getChildWindows,e.control.showWindow=function(e){return function(){return e.childWindows.map(function(e){return e.showWindow()})}}(this),e.control.hideWindow=function(e){return function(){return e.childWindows.map(function(e){return e.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=s)return this.onChildCreation(s)},u}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(t,i,r,o,a){return function(t){function s(){this.link=e(this.link,this),s.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',i.extend(this),a.debug(this)}return n(s,t),s.prototype.link=function(e,t,n,i){var r,a,s;return r=i[0].getScope(),a=i.length>1&&null!=i[1]?i[1]:void 0,s=null!=a?a.getScope():void 0,r.deferred.promise.then(function(r){return function(a){var l;return((null!=s&&null!=(l=s.deferred)?l.promise:void 0)||o.resolve()).then(function(){var o,l;return(o=null!=(l=r.parentModel)?l.existingPieces:void 0)?o.then(function(){return r.init(e,t,n,i,a,s)}):r.init(e,t,n,i,a,s)})}}(this))},s.prototype.init=function(e,t,n,o,a,s){var l;if(l=new r(e,t,n,o,a,s),i.link(e,l),null!=e.control)return e.control.getGWindows=function(){return l.plurals.map(function(e){return e.gObject})},e.control.getChildWindows=function(){return l.plurals}},s}(t)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(e,t){return t}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(e,t,n,i,r){return new r(e,t,n,i)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(e,t,n,i,r,o){return new o(e,t,n,i,r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(t,n,i){return new(function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return t.prototype.link=function(e,t,n,r){return r.getScope().deferred.promise.then(function(r){return null!=e.onCreated?new i(e,t,n,r,e.onCreated):new i(e,t,n,r)})},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(t,n,i){return new(function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return t.prototype.link=function(e,t,n,r){return r.getScope().deferred.promise.then(function(r){return new i(e,t,n,r)})},t}())}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapMapTypes",["$timeout","uiGmapLogger","uiGmapMapTypesParentModel",function(t,n,i){return new(function(){function t(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layers" ng-transclude></span>',this.scope={mapTypes:"=mapTypes",show:"=show",options:"=options",refresh:"=refresh",id:"=idKey"}}return t.prototype.link=function(e,t,n,r){return r.getScope().deferred.promise.then(function(r){return new i(e,t,n,r)})},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(n,i,r,o,a,s){return new(function(){function l(){this.link=e(this.link,this),this.$log=i,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return l.prototype.require="ngModel",l.prototype.link=function(e,i,l,u){return n.then(function(n){return function(c){return null==e.template&&(a.put("uigmap-searchbox-default.tpl.html",'<input type="text">'),e.template="uigmap-searchbox-default.tpl.html"),o.get(e.template,{cache:a}).then(function(o){return t.isUndefined(e.events)?void n.$log.error("searchBox: the events property is required"):u.getScope().deferred.promise.then(function(a){var u;return u=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",c.ControlPosition[u]?new r(e,i,l,a,u,s(o.data)(e)):void n.$log.error("searchBox: invalid position property")})})}}(this))},l}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(e,n){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(i,r){var o,a,s;return o=function(t,n){return e[t](r,"ng-hide").then(function(){return n()})},a=function(t,n){return e[t](r,"ng-hide",n)},s=function(e,i){return t.version.major>1?n.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+t.version.major+'"'):1===t.version.major&&t.version.minor<3?a(e,i):o(e,i)},i.$watch("uiGmapShow",function(e){if(e&&s("removeClass",i.uiGmapAfterShow),!e)return s("addClass",i.uiGmapAfterHide)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapStreetViewPanorama",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper",function(e,n,i,r){var o;return o="uiGmapStreetViewPanorama",{restrict:"EMA",template:'<div class="angular-google-map-street-view-panorama"></div>',replace:!0,scope:{focalcoord:"=",radius:"=?",events:"=?",options:"=?",control:"=?",povoptions:"=?",imagestatus:"="},link:function(a,s,l){return e.then(function(e){var l,u,c,d,p,h,f,g,m,v;return g=void 0,v=void 0,c=!1,h=void 0,f=null,m=null,l=function(){if(r.removeEvents(h),null!=g&&(g.unbind("position"),g.setVisible(!1)),null!=v)return null!=(null!=v?v.setVisible:void 0)&&v.setVisible(!1),v=void 0},p=function(e,n){var i;return i=google.maps.geometry.spherical.computeHeading(e,n),c=!0,a.radius=a.radius||50,m=t.extend({heading:i,zoom:1,pitch:0},a.povoptions||{}),f=f=t.extend({navigationControl:!1,addressControl:!1,linksControl:!1,position:e,pov:m,visible:!0},a.options||{}),c=!1},u=function(){var e;return a.focalcoord?a.radius?(l(),null==v&&(v=new google.maps.StreetViewService),a.events&&(h=r.setEvents(v,a,a)),e=i.getCoords(a.focalcoord),v.getPanoramaByLocation(e,a.radius,function(t,n){var i,r,o;if(null!=a.imagestatus&&(a.imagestatus=n),null!=(null!=(o=a.events)?o.image_status_changed:void 0)&&a.events.image_status_changed(v,"image_status_changed",a,n),"OK"===n)return r=t.location.latLng,p(r,e),i=s[0],g=new google.maps.StreetViewPanorama(i,f)})):void n.error(o+": needs a radius to set the camera view from its focal target."):void n.error(o+": focalCoord needs to be defined")},null!=a.control&&(a.control.getOptions=function(){return f},a.control.getPovOptions=function(){return m},a.control.getGObject=function(){return v},a.control.getGPano=function(){return g}),a.$watch("options",function(e,t){if(e!==t&&e!==f&&!c)return u()}),d=!0,a.$watch("focalcoord",function(e,t){if((e!==t||d)&&null!=e)return d=!1,u()}),a.$on("$destroy",function(){return l()})})}}}])}.call(this),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){function e(){}return e.generate=function(){var t=e._gri,n=e._ha;return n(t(32),8)+"-"+n(t(16),4)+"-"+n(16384|t(12),4)+"-"+n(32768|t(14),4)+"-"+n(t(48),12)},e._gri=function(e){return 0>e?NaN:30>=e?0|Math.random()*(1<<e):53>=e?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<e-30)):NaN},e._ha=function(e,t){for(var n=e.toString(16),i=t-n.length,r="0";0<i;i>>>=1,r+=r)1&i&&(n=r+n);return n},e}),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:n.once(function(){!function(){function t(e,n){e.getMarkerClusterer().extend(t,google.maps.OverlayView),this.cluster_=e,this.className_=e.getMarkerClusterer().getClusterClass(),this.styles_=n,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(e.getMap())}function n(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinimumClusterSize(),this.averageCenter_=e.getAverageCenter(),this.hideLabel_=e.getHideLabel(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new t(this,e.getStyles())}function r(e,t,n){this.extend(r,google.maps.OverlayView),t=t||[],n=n||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=n.gridSize||60,this.minClusterSize_=n.minimumClusterSize||2,this.maxZoom_=n.maxZoom||null,this.styles_=n.styles||[],this.title_=n.title||"",this.zoomOnClick_=!0,void 0!==n.zoomOnClick&&(this.zoomOnClick_=n.zoomOnClick),this.averageCenter_=!1,void 0!==n.averageCenter&&(this.averageCenter_=n.averageCenter),this.ignoreHidden_=!1,void 0!==n.ignoreHidden&&(this.ignoreHidden_=n.ignoreHidden),this.enableRetinaIcons_=!1,void 0!==n.enableRetinaIcons&&(this.enableRetinaIcons_=n.enableRetinaIcons),this.hideLabel_=!1,void 0!==n.hideLabel&&(this.hideLabel_=n.hideLabel),this.imagePath_=n.imagePath||r.IMAGE_PATH,this.imageExtension_=n.imageExtension||r.IMAGE_EXTENSION,this.imageSizes_=n.imageSizes||r.IMAGE_SIZES,this.calculator_=n.calculator||r.CALCULATOR,this.batchSize_=n.batchSize||r.BATCH_SIZE,this.batchSizeIE_=n.batchSizeIE||r.BATCH_SIZE_IE,this.clusterClass_=n.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e)}function o(e){e=e||{},google.maps.OverlayView.apply(this,arguments),this.content_=e.content||"",this.disableAutoPan_=e.disableAutoPan||!1,this.maxWidth_=e.maxWidth||0,this.pixelOffset_=e.pixelOffset||new google.maps.Size(0,0),this.position_=e.position||new google.maps.LatLng(0,0),this.zIndex_=e.zIndex||null,this.boxClass_=e.boxClass||"infoBox",this.boxStyle_=e.boxStyle||{},this.closeBoxMargin_=e.closeBoxMargin||"2px",this.closeBoxURL_=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===e.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=e.infoBoxClearance||new google.maps.Size(1,1),void 0===e.visible&&(void 0===e.isHidden?e.visible=!0:e.visible=!e.isHidden),this.isHidden_=!e.visible,this.alignBottom_=e.alignBottom||!1,this.pane_=e.pane||"floatPane",this.enableEventPropagation_=e.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function a(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t,n){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=s.getSharedCross(t)}function l(e){(e=e||{}).labelContent=e.labelContent||"",e.labelAnchor=e.labelAnchor||new google.maps.Point(0,0),e.labelClass=e.labelClass||"markerLabels",e.labelStyle=e.labelStyle||{},e.labelInBackground=e.labelInBackground||!1,void 0===e.labelVisible&&(e.labelVisible=!0),void 0===e.raiseOnDrag&&(e.raiseOnDrag=!0),void 0===e.clickable&&(e.clickable=!0),void 0===e.draggable&&(e.draggable=!1),void 0===e.optimized&&(e.optimized=!1),e.crossImage=e.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",e.handCursor=e.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",e.optimized=!1,this.label=new s(this,e.crossImage,e.handCursor),google.maps.Marker.apply(this,arguments)}function u(e){var t=e||{};this.ready_=!1,this.dragging_=!1,e.visible==i&&(e.visible=!0),e.shadow==i&&(e.shadow="7px -3px 5px rgba(88,88,88,0.7)"),e.anchor==i&&(e.anchor=c.BOTTOM),this.setValues(t)}t.prototype.onAdd=function(){var e,t,n=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){t=e}),google.maps.event.addDomListener(this.div_,"mousedown",function(){e=!0,t=!1}),google.maps.event.addDomListener(this.div_,"click",function(i){if(e=!1,!t){var r,o,a=n.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"click",n.cluster_),google.maps.event.trigger(a,"clusterclick",n.cluster_),a.getZoomOnClick()&&(o=a.getMaxZoom(),r=n.cluster_.getBounds(),a.getMap().fitBounds(r),setTimeout(function(){a.getMap().fitBounds(r),null!==o&&a.getMap().getZoom()>o&&a.getMap().setZoom(o+1)},100)),i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseover",n.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var e=n.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseout",n.cluster_)})},t.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},t.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},t.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},t.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),i=parseInt(t[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),e="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",e+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);",e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+(this.cluster_.hideLabel_?" ":this.sums_.text)+"</div>",this.div_.title=void 0===this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},t.prototype.useStyle=function(e){this.sums_=e;var t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t);var n=this.styles_[t];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||"black",this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||"none",this.fontWeight_=n.fontWeight||"bold",this.fontStyle_=n.fontStyle||"normal",this.fontFamily_=n.fontFamily||"Arial,sans-serif",this.backgroundPosition_=n.backgroundPosition||"0 0"},t.prototype.setCenter=function(e){this.center_=e},t.prototype.createCss=function(e){var t=[];return t.push("cursor: pointer;"),t.push("position: absolute; top: "+e.y+"px; left: "+e.x+"px;"),t.push("width: "+this.width_+"px; height: "+this.height_+"px;"),t.join("")},t.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t},n.prototype.getSize=function(){return this.markers_.length},n.prototype.getMarkers=function(){return this.markers_},n.prototype.getCenter=function(){return this.center_},n.prototype.getMap=function(){return this.map_},n.prototype.getMarkerClusterer=function(){return this.markerClusterer_},n.prototype.getBounds=function(){var e,t=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(e=0;e<n.length;e++)t.extend(n[e].getPosition());return t},n.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},n.prototype.addMarker=function(e){var t,n,i;if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+e.getPosition().lat())/r,a=(this.center_.lng()*(r-1)+e.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();if(e.isAdded=!0,this.markers_.push(e),n=this.markers_.length,null!==(i=this.markerClusterer_.getMaxZoom())&&this.map_.getZoom()>i)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n<this.minClusterSize_)e.getMap()!==this.map_&&e.setMap(this.map_);else if(n===this.minClusterSize_)for(t=0;n>t;t++)this.markers_[t].setMap(null);else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},n.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},n.prototype.updateIcon_=function(){var e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(null!==t&&this.map_.getZoom()>t)this.clusterIcon_.hide();else if(e<this.minClusterSize_)this.clusterIcon_.hide();else{var n=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,n);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(i),this.clusterIcon_.show()}},n.prototype.isMarkerAlreadyAdded_=function(e){for(var t=0,n=this.markers_.length;n>t;t++)if(e===this.markers_[t])return!0;return!1},r.prototype.onAdd=function(){var e=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){e.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){e.redraw_()})]},r.prototype.onRemove=function(){var e;for(e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},r.prototype.draw=function(){},r.prototype.setupStyles_=function(){var e,t;if(!(this.styles_.length>0))for(e=0;e<this.imageSizes_.length;e++)t=this.imageSizes_[e],this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},r.prototype.fitMapToMarkers=function(){var e,t=this.getMarkers(),n=new google.maps.LatLngBounds;for(e=0;e<t.length;e++)n.extend(t[e].getPosition());this.getMap().fitBounds(n)},r.prototype.getGridSize=function(){return this.gridSize_},r.prototype.setGridSize=function(e){this.gridSize_=e},r.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},r.prototype.setMinimumClusterSize=function(e){this.minClusterSize_=e},r.prototype.getMaxZoom=function(){return this.maxZoom_},r.prototype.setMaxZoom=function(e){this.maxZoom_=e},r.prototype.getStyles=function(){return this.styles_},r.prototype.setStyles=function(e){this.styles_=e},r.prototype.getTitle=function(){return this.title_},r.prototype.setTitle=function(e){this.title_=e},r.prototype.getZoomOnClick=function(){return this.zoomOnClick_},r.prototype.setZoomOnClick=function(e){this.zoomOnClick_=e},r.prototype.getAverageCenter=function(){return this.averageCenter_},r.prototype.setAverageCenter=function(e){this.averageCenter_=e},r.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},r.prototype.setIgnoreHidden=function(e){this.ignoreHidden_=e},r.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},r.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons_=e},r.prototype.getImageExtension=function(){return this.imageExtension_},r.prototype.setImageExtension=function(e){this.imageExtension_=e},r.prototype.getImagePath=function(){return this.imagePath_},r.prototype.setImagePath=function(e){this.imagePath_=e},r.prototype.getImageSizes=function(){return this.imageSizes_},r.prototype.setImageSizes=function(e){this.imageSizes_=e},r.prototype.getCalculator=function(){return this.calculator_},r.prototype.setCalculator=function(e){this.calculator_=e},r.prototype.setHideLabel=function(e){this.hideLabel_=e},r.prototype.getHideLabel=function(){return this.hideLabel_},r.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},r.prototype.setBatchSizeIE=function(e){this.batchSizeIE_=e},r.prototype.getClusterClass=function(){return this.clusterClass_},r.prototype.setClusterClass=function(e){this.clusterClass_=e},r.prototype.getMarkers=function(){return this.markers_},r.prototype.getTotalMarkers=function(){return this.markers_.length},r.prototype.getClusters=function(){return this.clusters_},r.prototype.getTotalClusters=function(){return this.clusters_.length},r.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw_()},r.prototype.addMarkers=function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&this.pushMarkerTo_(e[n]);t||this.redraw_()},r.prototype.pushMarkerTo_=function(e){if(e.getDraggable()){var t=this;google.maps.event.addListener(e,"dragend",function(){t.ready_&&(this.isAdded=!1,t.repaint())})}e.isAdded=!1,this.markers_.push(e)},r.prototype.removeMarker=function(e,t,n){var i=!n,r=this.removeMarker_(e,i);return!t&&r&&this.repaint(),r},r.prototype.removeMarkers=function(e,t,n){var i,r,o=!1,a=!n;for(i=0;i<e.length;i++)r=this.removeMarker_(e[i],a),o=o||r;return!t&&o&&this.repaint(),o},r.prototype.removeMarker_=function(e,t){var n,i=-1;if(this.markers_.indexOf)i=this.markers_.indexOf(e);else for(n=0;n<this.markers_.length;n++)if(e===this.markers_[n]){i=n;break}return-1!==i&&(t&&e.setMap(null),this.markers_.splice(i,1),!0)},r.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},r.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var t;for(t=0;t<e.length;t++)e[t].remove()},0)},r.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),i=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),r=t.fromLatLngToDivPixel(n);r.x+=this.gridSize_,r.y-=this.gridSize_;var o=t.fromLatLngToDivPixel(i);o.x-=this.gridSize_,o.y+=this.gridSize_;var a=t.fromDivPixelToLatLng(r),s=t.fromDivPixelToLatLng(o);return e.extend(a),e.extend(s),e},r.prototype.redraw_=function(){this.createClusters_(0)},r.prototype.resetViewport_=function(e){var t,n;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)(n=this.markers_[t]).isAdded=!1,e&&n.setMap(null)},r.prototype.distanceBetweenPoints_=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},r.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},r.prototype.addToClosestCluster_=function(e){var t,i,r,o,a=4e4,s=null;for(t=0;t<this.clusters_.length;t++)(o=(r=this.clusters_[t]).getCenter())&&(a>(i=this.distanceBetweenPoints_(o,e.getPosition()))&&(a=i,s=r));s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):((r=new n(this)).addMarker(e),this.clusters_.push(r))},r.prototype.createClusters_=function(e){var t,n,i,r=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(i),a=Math.min(e+this.batchSize_,this.markers_.length);for(t=e;a>t;t++)!(n=this.markers_[t]).isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(a<this.markers_.length)this.timerRefStatic=setTimeout(function(){r.createClusters_(a)},0);else for(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this),t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_()}},r.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},r.CALCULATOR=function(e,t){for(var n=0,i=e.length.toString(),r=i;0!==r;)r=parseInt(r/10,10),n++;return{text:i,index:n=Math.min(n,t),title:""}},r.BATCH_SIZE=2e3,r.BATCH_SIZE_IE=500,r.IMAGE_PATH="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/images/m",r.IMAGE_EXTENSION="png",r.IMAGE_SIZES=[53,56,66,78,90],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),o.prototype=new google.maps.OverlayView,o.prototype.createInfoBoxDiv_=function(){var e,t,n,i=this,r=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),void 0===this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(n=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-n.left-n.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],t=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],e=0;e<t.length;e++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,t[e],r));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(e){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault(),i.enableEventPropagation_||r(e)}),google.maps.event.trigger(this,"domready")}},o.prototype.getCloseBoxImg_=function(){var e="";return""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},o.prototype.addClickHandler_=function(){var e;""!==this.closeBoxURL_?(e=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(e,"click",this.getCloseClickHandler_())):this.closeListener_=null},o.prototype.getCloseClickHandler_=function(){var e=this;return function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(e,"closeclick"),e.close()}},o.prototype.panBox_=function(e){var t,n=0,i=0;if(!e&&(t=this.getMap())instanceof google.maps.Map){t.getBounds().contains(this.position_)||t.setCenter(this.position_),t.getBounds();var r=t.getDiv(),o=r.offsetWidth,a=r.offsetHeight,s=this.pixelOffset_.width,l=this.pixelOffset_.height,u=this.div_.offsetWidth,c=this.div_.offsetHeight,d=this.infoBoxClearance_.width,p=this.infoBoxClearance_.height,h=this.getProjection().fromLatLngToContainerPixel(this.position_);h.x<-s+d?n=h.x+s-d:h.x+u+s+d>o&&(n=h.x+u+s+d-o),this.alignBottom_?h.y<-l+p+c?i=h.y+l-p-c:h.y+l+p>a&&(i=h.y+l+p-a):h.y<-l+p?i=h.y+l-p:h.y+c+l+p>a&&(i=h.y+c+l+p-a),(0!==n||0!==i)&&(t.getCenter(),t.panBy(n,i))}},o.prototype.setBoxStyle_=function(){var e,t;if(this.div_){for(e in this.div_.className=this.boxClass_,this.div_.style.cssText="",t=this.boxStyle_)t.hasOwnProperty(e)&&(this.div_.style[e]=t[e]);this.div_.style.WebkitTransform="translateZ(0)",void 0!==this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},o.prototype.getBoxWidths_=function(){var e,t={top:0,bottom:0,left:0,right:0},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(e=n.ownerDocument.defaultView.getComputedStyle(n,""))&&(t.top=parseInt(e.borderTopWidth,10)||0,t.bottom=parseInt(e.borderBottomWidth,10)||0,t.left=parseInt(e.borderLeftWidth,10)||0,t.right=parseInt(e.borderRightWidth,10)||0):document.documentElement.currentStyle&&n.currentStyle&&(t.top=parseInt(n.currentStyle.borderTopWidth,10)||0,t.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,t.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,t.right=parseInt(n.currentStyle.borderRightWidth,10)||0),t},o.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},o.prototype.draw=function(){this.createInfoBoxDiv_();var e=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=e.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(e.y+this.pixelOffset_.height)+"px":this.div_.style.top=e.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},o.prototype.setOptions=function(e){void 0!==e.boxClass&&(this.boxClass_=e.boxClass,this.setBoxStyle_()),void 0!==e.boxStyle&&(this.boxStyle_=e.boxStyle,this.setBoxStyle_()),void 0!==e.content&&this.setContent(e.content),void 0!==e.disableAutoPan&&(this.disableAutoPan_=e.disableAutoPan),void 0!==e.maxWidth&&(this.maxWidth_=e.maxWidth),void 0!==e.pixelOffset&&(this.pixelOffset_=e.pixelOffset),void 0!==e.alignBottom&&(this.alignBottom_=e.alignBottom),void 0!==e.position&&this.setPosition(e.position),void 0!==e.zIndex&&this.setZIndex(e.zIndex),void 0!==e.closeBoxMargin&&(this.closeBoxMargin_=e.closeBoxMargin),void 0!==e.closeBoxURL&&(this.closeBoxURL_=e.closeBoxURL),void 0!==e.infoBoxClearance&&(this.infoBoxClearance_=e.infoBoxClearance),void 0!==e.isHidden&&(this.isHidden_=e.isHidden),void 0!==e.visible&&(this.isHidden_=!e.visible),void 0!==e.enableEventPropagation&&(this.enableEventPropagation_=e.enableEventPropagation),this.div_&&this.draw()},o.prototype.setContent=function(e){this.content_=e,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),void 0===e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px",void 0===e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},o.prototype.setPosition=function(e){this.position_=e,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},o.prototype.setZIndex=function(e){this.zIndex_=e,this.div_&&(this.div_.style.zIndex=e),google.maps.event.trigger(this,"zindex_changed")},o.prototype.setVisible=function(e){this.isHidden_=!e,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},o.prototype.getContent=function(){return this.content_},o.prototype.getPosition=function(){return this.position_},o.prototype.getZIndex=function(){return this.zIndex_},o.prototype.getVisible=function(){return void 0!==this.getMap()&&null!==this.getMap()&&!this.isHidden_},o.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},o.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},o.prototype.open=function(e,t){var n=this;t&&(this.position_=t.getPosition(),this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){n.setPosition(this.getPosition())})),this.setMap(e),this.div_&&this.panBox_()},o.prototype.close=function(){var e;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(e=0;e<this.eventListeners_.length;e++)google.maps.event.removeListener(this.eventListeners_[e]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},function(){function t(e,t){var n=this,i=new google.maps.OverlayView;i.onAdd=function(){n.init_(e,t)},i.draw=function(){},i.onRemove=function(){},i.setMap(e),this.prjov_=i}var n=function(e){var t;switch(e){case"thin":t="2px";break;case"medium":t="4px";break;case"thick":t="6px";break;default:t=e}return t},i=function(e){var t,i={};if(document.defaultView&&document.defaultView.getComputedStyle){if(t=e.ownerDocument.defaultView.getComputedStyle(e,""))return i.top=parseInt(t.borderTopWidth,10)||0,i.bottom=parseInt(t.borderBottomWidth,10)||0,i.left=parseInt(t.borderLeftWidth,10)||0,i.right=parseInt(t.borderRightWidth,10)||0,i}else if(document.documentElement.currentStyle&&e.currentStyle)return i.top=parseInt(n(e.currentStyle.borderTopWidth),10)||0,i.bottom=parseInt(n(e.currentStyle.borderBottomWidth),10)||0,i.left=parseInt(n(e.currentStyle.borderLeftWidth),10)||0,i.right=parseInt(n(e.currentStyle.borderRightWidth),10)||0,i;return i.top=parseInt(e.style["border-top-width"],10)||0,i.bottom=parseInt(e.style["border-bottom-width"],10)||0,i.left=parseInt(e.style["border-left-width"],10)||0,i.right=parseInt(e.style["border-right-width"],10)||0,i},r={x:0,y:0},o=function(e){r.x=void 0!==document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,r.y=void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};o();var a=function(t){var n=0,i=0;return void 0!==(t=t||e.event).pageX?(n=t.pageX,i=t.pageY):void 0!==t.clientX&&(n=t.clientX+r.x,i=t.clientY+r.y),{left:n,top:i}},s=function(t){for(var n=t.offsetLeft,i=t.offsetTop,r=t.offsetParent;null!==r;){r!==document.body&&r!==document.documentElement&&(n-=r.scrollLeft,i-=r.scrollTop);var o=r,a=o.offsetLeft,s=o.offsetTop;if(!a&&!s&&e.getComputedStyle){var l=document.defaultView.getComputedStyle(o,null).MozTransform||document.defaultView.getComputedStyle(o,null).WebkitTransform;if(l&&"string"==typeof l){var u=l.split(",");a+=parseInt(u[4],10)||0,s+=parseInt(u[5],10)||0}}n+=a,i+=s,r=r.offsetParent}return{left:n,top:i}},l=function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},u=function(e,t){void 0!==t&&(e.style.opacity=t),void 0!==e.style.opacity&&""!==e.style.opacity&&(e.style.filter="alpha(opacity="+100*e.style.opacity+")")};t.prototype.init_=function(t,n){var r,a=this;for(this.map_=t,n=n||{},this.key_=n.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=i(this.map_.getDiv()),this.veilDiv_=[],r=0;r<4;r++)this.veilDiv_[r]=document.createElement("div"),this.veilDiv_[r].onselectstart=function(){return!1},l(this.veilDiv_[r].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),l(this.veilDiv_[r].style,n.paneStyle),l(this.veilDiv_[r].style,n.veilStyle),l(this.veilDiv_[r].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[r].style.MozUserSelect="none"),u(this.veilDiv_[r]),"transparent"===this.veilDiv_[r].style.backgroundColor&&(this.veilDiv_[r].style.backgroundColor="white",u(this.veilDiv_[r],0)),this.map_.getDiv().appendChild(this.veilDiv_[r]);this.noZoom_=n.noZoom||!1,this.visualEnabled_=n.visualEnabled||!1,this.visualClass_=n.visualClass||"",this.visualPosition_=n.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=n.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=n.visualPositionIndex||null,this.visualSprite_=n.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=n.visualSize||new google.maps.Size(20,20),this.visualTips_=n.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),l(this.boxDiv_.style,{border:"4px solid #736AFF"}),l(this.boxDiv_.style,n.boxStyle),l(this.boxDiv_.style,{position:"absolute",display:"none"}),u(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=i(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(e){a.onKeyDown_(e)}),google.maps.event.addDomListener(document,"keyup",function(e){a.onKeyUp_(e)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(document,"mousedown",function(e){a.onMouseDownDocument_(e)}),google.maps.event.addDomListener(document,"mousemove",function(e){a.onMouseMove_(e)}),google.maps.event.addDomListener(document,"mouseup",function(e){a.onMouseUp_(e)}),google.maps.event.addDomListener(e,"scroll",o)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},t.prototype.initControl_=function(e){var t,n,i=this;return(t=document.createElement("div")).className=this.visualClass_,t.style.position="relative",t.style.overflow="hidden",t.style.height=this.visualSize_.height+"px",t.style.width=this.visualSize_.width+"px",t.title=this.visualTips_.off,(n=document.createElement("img")).src=this.visualSprite_,n.style.position="absolute",n.style.left=-2*this.visualSize_.width+"px",n.style.top="0px",t.appendChild(n),t.onclick=function(e){i.hotKeyDown_=!i.hotKeyDown_,i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-0*i.visualSize_.width+"px",i.buttonDiv_.title=i.visualTips_.on,i.activatedByControl_=!0,google.maps.event.trigger(i,"activate")):(i.buttonDiv_.firstChild.style.left=-2*i.visualSize_.width+"px",i.buttonDiv_.title=i.visualTips_.off,google.maps.event.trigger(i,"deactivate")),i.onMouseMove_(e)},t.onmouseover=function(){i.buttonDiv_.firstChild.style.left=-1*i.visualSize_.width+"px"},t.onmouseout=function(){i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-0*i.visualSize_.width+"px",i.buttonDiv_.title=i.visualTips_.on):(i.buttonDiv_.firstChild.style.left=-2*i.visualSize_.width+"px",i.buttonDiv_.title=i.visualTips_.off)},t.ondragstart=function(){return!1},l(t.style,{cursor:"pointer",marginTop:e.height+"px",marginLeft:e.width+"px"}),t},t.prototype.isHotKeyDown_=function(t){var n;if(!(n=(t=t||e.event).shiftKey&&"shift"===this.key_||t.altKey&&"alt"===this.key_||t.ctrlKey&&"ctrl"===this.key_))switch(t.keyCode){case 16:"shift"===this.key_&&(n=!0);break;case 17:"ctrl"===this.key_&&(n=!0);break;case 18:"alt"===this.key_&&(n=!0)}return n},t.prototype.isMouseOnMap_=function(){var e=this.mousePosn_;if(e){var t=this.mapPosn_,n=this.map_.getDiv();return e.left>t.left&&e.left<t.left+n.offsetWidth&&e.top>t.top&&e.top<t.top+n.offsetHeight}return!1},t.prototype.setVeilVisibility_=function(){var e;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var t=this.map_.getDiv();if(this.mapWidth_=t.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=t.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var n=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,i=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,r=this.visualSize_.width,o=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=n+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=n+r+"px",this.veilDiv_[1].style.width=this.mapWidth_-(n+r)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=n+"px",this.veilDiv_[2].style.width=r+"px",this.veilDiv_[2].style.height=i+"px",this.veilDiv_[3].style.top=i+o+"px",this.veilDiv_[3].style.left=n+"px",this.veilDiv_[3].style.width=r+"px",this.veilDiv_[3].style.height=this.mapHeight_-(i+o)+"px",e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",e=1;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.width="0px",this.veilDiv_[e].style.height="0px";for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}}else for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none"},t.prototype.onKeyDown_=function(e){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(e)&&(this.mapPosn_=s(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},t.prototype.getMousePoint_=function(e){var t=a(e),n=new google.maps.Point;return n.x=t.left-this.mapPosn_.left-this.borderWidths_.left,n.y=t.top-this.mapPosn_.top-this.borderWidths_.top,n.x=Math.min(n.x,this.mapWidth_),n.y=Math.min(n.y,this.mapHeight_),n.x=Math.max(n.x,0),n.y=Math.max(n.y,0),n},t.prototype.onMouseDown_=function(e){if(this.map_&&this.hotKeyDown_){this.mapPosn_=s(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(e),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var t=this.prjov_.getProjection().fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",t)}},t.prototype.onMouseDownDocument_=function(e){this.mouseDown_=!0},t.prototype.onMouseMove_=function(e){if(this.mousePosn_=a(e),this.dragging_){this.endPt_=this.getMousePoint_(e);var t=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),r=Math.abs(this.startPt_.y-this.endPt_.y),o=Math.max(0,i-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),l=Math.max(0,r-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=t+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=t+i+"px",this.veilDiv_[1].style.width=this.mapWidth_-(t+i)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=t+"px",this.veilDiv_[2].style.width=i+"px",this.veilDiv_[2].style.height=n+"px",this.veilDiv_[3].style.top=n+r+"px",this.veilDiv_[3].style.left=t+"px",this.veilDiv_[3].style.width=i+"px",this.veilDiv_[3].style.height=this.mapHeight_-(n+r)+"px",this.boxDiv_.style.top=n+"px",this.boxDiv_.style.left=t+"px",this.boxDiv_.style.width=o+"px",this.boxDiv_.style.height=l+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(t,n+r),new google.maps.Point(t+i,n),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=s(this.map_.getDiv()),this.setVeilVisibility_())},t.prototype.onMouseUp_=function(e){var t,n=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(e).x===this.startPt_.x&&this.getMousePoint_(e).y===this.startPt_.y)return void this.onKeyUp_(e);var i=Math.min(this.startPt_.x,this.endPt_.x),r=Math.min(this.startPt_.y,this.endPt_.y),o=Math.abs(this.startPt_.x-this.endPt_.x),a=Math.abs(this.startPt_.y-this.endPt_.y);i+=this.borderWidths_.left,r+=this.borderWidths_.top;var s=this.prjov_.getProjection(),l=s.fromContainerPixelToLatLng(new google.maps.Point(i,r+a)),u=s.fromContainerPixelToLatLng(new google.maps.Point(i+o,r)),c=new google.maps.LatLngBounds(l,u);if(this.noZoom_)this.boxDiv_.style.display="none";else{t=this.map_.getZoom(),this.map_.fitBounds(c),this.map_.getZoom()<t&&this.map_.setZoom(t);var d=s.fromLatLngToContainerPixel(l),p=s.fromLatLngToContainerPixel(u);d.x-=this.borderWidths_.left,d.y-=this.borderWidths_.top,p.x-=this.borderWidths_.left,p.y-=this.borderWidths_.top,this.boxDiv_.style.left=d.x+"px",this.boxDiv_.style.top=p.y+"px",this.boxDiv_.style.width=Math.abs(p.x-d.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(p.y-d.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){n.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(e),google.maps.event.trigger(this,"dragend",c),this.isHotKeyDown_(e)||this.onKeyUp_(e)}},t.prototype.onKeyUp_=function(e){var t,n,i,r,o,a,s,l,u=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,n=Math.min(this.startPt_.x,this.endPt_.x),i=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),o=Math.abs(this.startPt_.y-this.endPt_.y),s=(a=this.prjov_.getProjection()).fromContainerPixelToLatLng(new google.maps.Point(n,i+o)),l=a.fromContainerPixelToLatLng(new google.maps.Point(n+r,i)),u=new google.maps.LatLngBounds(s,l)),t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-2*this.visualSize_.width+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",u)}},google.maps.Map.prototype.enableKeyDragZoom=function(e){this.dragZoom_=new t(this,e)},google.maps.Map.prototype.disableKeyDragZoom=function(){var e,t=this.dragZoom_;if(t){for(e=0;e<t.listeners_.length;++e)google.maps.event.removeListener(t.listeners_[e]);for(this.getDiv().removeChild(t.boxDiv_),e=0;e<t.veilDiv_.length;e++)this.getDiv().removeChild(t.veilDiv_[e]);t.visualEnabled_&&this.controls[t.visualPosition_].removeAt(t.controlIndex_),t.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),a(s,google.maps.OverlayView),s.getSharedCross=function(e){var t;return void 0===s.getSharedCross.crossDiv&&((t=document.createElement("img")).style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=e,s.getSharedCross.crossDiv=t),s.getSharedCross.crossDiv},s.prototype.onAdd=function(){var e,t,n,i,r,o,a,l=this,u=!1,c=!1,d="url("+this.handCursorURL_+")",p=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},h=function(){l.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),void 0===s.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),s.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseover",e))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(e){!l.marker_.getDraggable()&&!l.marker_.getClickable()||c||(this.style.cursor=l.marker_.getCursor(),google.maps.event.trigger(l.marker_,"mouseout",e))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(e){c=!1,l.marker_.getDraggable()&&(u=!0,this.style.cursor=d),(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"mousedown",e),p(e))}),google.maps.event.addDomListener(document,"mouseup",function(t){var n;if(u&&(u=!1,l.eventDiv_.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseup",t)),c){if(r){(n=l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition())).y+=20,l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(n));try{l.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(h,1406)}catch(e){}}l.crossDiv_.style.display="none",l.marker_.setZIndex(e),i=!0,c=!1,t.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragend",t)}}),google.maps.event.addListener(l.marker_.getMap(),"mousemove",function(i){var s;u&&(c?(i.latLng=new google.maps.LatLng(i.latLng.lat()-t,i.latLng.lng()-n),s=l.getProjection().fromLatLngToDivPixel(i.latLng),r&&(l.crossDiv_.style.left=s.x+"px",l.crossDiv_.style.top=s.y+"px",l.crossDiv_.style.display="",s.y-=20),l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(s)),r&&(l.eventDiv_.style.top=s.y+20+"px"),google.maps.event.trigger(l.marker_,"drag",i)):(t=i.latLng.lat()-l.marker_.getPosition().lat(),n=i.latLng.lng()-l.marker_.getPosition().lng(),e=l.marker_.getZIndex(),o=l.marker_.getPosition(),a=l.marker_.getMap().getCenter(),r=l.marker_.get("raiseOnDrag"),c=!0,l.marker_.setZIndex(1e6),i.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragstart",i)))}),google.maps.event.addDomListener(document,"keydown",function(e){c&&27===e.keyCode&&(r=!1,l.marker_.setPosition(o),l.marker_.getMap().setCenter(a),google.maps.event.trigger(document,"mouseup",e))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(i?i=!1:(google.maps.event.trigger(l.marker_,"click",e),p(e)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"dblclick",e),p(e))}),google.maps.event.addListener(this.marker_,"dragstart",function(e){c||(r=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(e){c||r&&(l.setPosition(20),l.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(e){c||r&&l.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){l.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){l.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){l.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){l.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){l.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){l.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){l.setStyles()})]},s.prototype.onRemove=function(){var e;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e])},s.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},s.prototype.setContent=function(){var e=this.marker_.get("labelContent");void 0===e.nodeType?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(e))},s.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},s.prototype.setStyles=function(){var e,t;for(e in this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle"))t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},s.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden",void 0!==this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},s.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},s.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());void 0===e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},s.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;void 0===this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},s.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display="none",this.eventDiv_.style.display=this.labelDiv_.style.display},a(l,google.maps.Marker),l.prototype.setMap=function(e){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(e)},u.prototype=new google.maps.OverlayView,e.RichMarker=u,u.prototype.getVisible=function(){return this.get("visible")},u.prototype.getVisible=u.prototype.getVisible,u.prototype.setVisible=function(e){this.set("visible",e)},u.prototype.setVisible=u.prototype.setVisible,u.prototype.visible_changed=function(){this.ready_&&(this.markerWrapper_.style.display=this.getVisible()?"":"none",this.draw())},u.prototype.visible_changed=u.prototype.visible_changed,u.prototype.setFlat=function(e){this.set("flat",!!e)},u.prototype.setFlat=u.prototype.setFlat,u.prototype.getFlat=function(){return this.get("flat")},u.prototype.getFlat=u.prototype.getFlat,u.prototype.getWidth=function(){return this.get("width")},u.prototype.getWidth=u.prototype.getWidth,u.prototype.getHeight=function(){return this.get("height")},u.prototype.getHeight=u.prototype.getHeight,u.prototype.setShadow=function(e){this.set("shadow",e),this.flat_changed()},u.prototype.setShadow=u.prototype.setShadow,u.prototype.getShadow=function(){return this.get("shadow")},u.prototype.getShadow=u.prototype.getShadow,u.prototype.flat_changed=function(){this.ready_&&(this.markerWrapper_.style.boxShadow=this.markerWrapper_.style.webkitBoxShadow=this.markerWrapper_.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},u.prototype.flat_changed=u.prototype.flat_changed,u.prototype.setZIndex=function(e){this.set("zIndex",e)},u.prototype.setZIndex=u.prototype.setZIndex,u.prototype.getZIndex=function(){return this.get("zIndex")},u.prototype.getZIndex=u.prototype.getZIndex,u.prototype.zIndex_changed=function(){this.getZIndex()&&this.ready_&&(this.markerWrapper_.style.zIndex=this.getZIndex())},u.prototype.zIndex_changed=u.prototype.zIndex_changed,u.prototype.getDraggable=function(){return this.get("draggable")},u.prototype.getDraggable=u.prototype.getDraggable,u.prototype.setDraggable=function(e){this.set("draggable",!!e)},u.prototype.setDraggable=u.prototype.setDraggable,u.prototype.draggable_changed=function(){this.ready_&&(this.getDraggable()?this.addDragging_(this.markerWrapper_):this.removeDragListeners_())},u.prototype.draggable_changed=u.prototype.draggable_changed,u.prototype.getPosition=function(){return this.get("position")},u.prototype.getPosition=u.prototype.getPosition,u.prototype.setPosition=function(e){this.set("position",e)},u.prototype.setPosition=u.prototype.setPosition,u.prototype.position_changed=function(){this.draw()},u.prototype.position_changed=u.prototype.position_changed,u.prototype.getAnchor=function(){return this.get("anchor")},u.prototype.getAnchor=u.prototype.getAnchor,u.prototype.setAnchor=function(e){this.set("anchor",e)},u.prototype.setAnchor=u.prototype.setAnchor,u.prototype.anchor_changed=function(){this.draw()},u.prototype.anchor_changed=u.prototype.anchor_changed,u.prototype.htmlToDocumentFragment_=function(e){var t=document.createElement("DIV");if(t.innerHTML=e,1==t.childNodes.length)return t.removeChild(t.firstChild);for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n},u.prototype.removeChildren_=function(e){if(e)for(var t;t=e.firstChild;)e.removeChild(t)},u.prototype.setContent=function(e){this.set("content",e)},u.prototype.setContent=u.prototype.setContent,u.prototype.getContent=function(){return this.get("content")},u.prototype.getContent=u.prototype.getContent,u.prototype.content_changed=function(){if(this.markerContent_){this.removeChildren_(this.markerContent_);var e=this.getContent();if(e){"string"==typeof e&&(e=e.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),e=this.htmlToDocumentFragment_(e)),this.markerContent_.appendChild(e);for(var t,n=this,i=this.markerContent_.getElementsByTagName("IMG"),r=0;t=i[r];r++)google.maps.event.addDomListener(t,"mousedown",function(e){n.getDraggable()&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)}),google.maps.event.addDomListener(t,"load",function(){n.draw()});google.maps.event.trigger(this,"domready")}this.ready_&&this.draw()}},u.prototype.content_changed=u.prototype.content_changed,u.prototype.setCursor_=function(e){if(this.ready_){var t="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==e&&(t="-moz-grabbing"),"dragready"==e&&(t="-moz-grab"),"draggable"==e&&(t="pointer")):("dragging"!=e&&"dragready"!=e||(t="move"),"draggable"==e&&(t="pointer")),this.markerWrapper_.style.cursor!=t&&(this.markerWrapper_.style.cursor=t)}},u.prototype.startDrag=function(e){if(this.getDraggable()&&!this.dragging_){this.dragging_=!0;var t=this.getMap();this.mapDraggable_=t.get("draggable"),t.set("draggable",!1),this.mouseX_=e.clientX,this.mouseY_=e.clientY,this.setCursor_("dragready"),this.markerWrapper_.style.MozUserSelect="none",this.markerWrapper_.style.KhtmlUserSelect="none",this.markerWrapper_.style.WebkitUserSelect="none",this.markerWrapper_.unselectable="on",this.markerWrapper_.onselectstart=function(){return!1},this.addDraggingListeners_(),google.maps.event.trigger(this,"dragstart")}},u.prototype.stopDrag=function(){this.getDraggable()&&this.dragging_&&(this.dragging_=!1,this.getMap().set("draggable",this.mapDraggable_),this.mouseX_=this.mouseY_=this.mapDraggable_=null,this.markerWrapper_.style.MozUserSelect="",this.markerWrapper_.style.KhtmlUserSelect="",this.markerWrapper_.style.WebkitUserSelect="",this.markerWrapper_.unselectable="off",this.markerWrapper_.onselectstart=function(){},this.removeDraggingListeners_(),this.setCursor_("draggable"),google.maps.event.trigger(this,"dragend"),this.draw())},u.prototype.drag=function(e){if(this.getDraggable()&&this.dragging_){var t=this.mouseX_-e.clientX,n=this.mouseY_-e.clientY;this.mouseX_=e.clientX,this.mouseY_=e.clientY;var i=parseInt(this.markerWrapper_.style.left,10)-t,r=parseInt(this.markerWrapper_.style.top,10)-n;this.markerWrapper_.style.left=i+"px",this.markerWrapper_.style.top=r+"px";var o=this.getOffset_(),a=new google.maps.Point(i-o.width,r-o.height),s=this.getProjection();this.setPosition(s.fromDivPixelToLatLng(a)),this.setCursor_("dragging"),google.maps.event.trigger(this,"drag")}else this.stopDrag()},u.prototype.removeDragListeners_=function(){this.draggableListener_&&(google.maps.event.removeListener(this.draggableListener_),delete this.draggableListener_),this.setCursor_("")},u.prototype.addDragging_=function(e){if(e){var t=this;this.draggableListener_=google.maps.event.addDomListener(e,"mousedown",function(e){t.startDrag(e)}),this.setCursor_("draggable")}},u.prototype.addDraggingListeners_=function(){var t=this;this.markerWrapper_.setCapture?(this.markerWrapper_.setCapture(!0),this.draggingListeners_=[google.maps.event.addDomListener(this.markerWrapper_,"mousemove",function(e){t.drag(e)},!0),google.maps.event.addDomListener(this.markerWrapper_,"mouseup",function(){t.stopDrag(),t.markerWrapper_.releaseCapture()},!0)]):this.draggingListeners_=[google.maps.event.addDomListener(e,"mousemove",function(e){t.drag(e)},!0),google.maps.event.addDomListener(e,"mouseup",function(){t.stopDrag()},!0)]},u.prototype.removeDraggingListeners_=function(){if(this.draggingListeners_){for(var e,t=0;e=this.draggingListeners_[t];t++)google.maps.event.removeListener(e);this.draggingListeners_.length=0}},u.prototype.getOffset_=function(){var e=this.getAnchor();if("object"==typeof e)return e;var t=new google.maps.Size(0,0);if(!this.markerContent_)return t;var n=this.markerContent_.offsetWidth,i=this.markerContent_.offsetHeight;switch(e){case c.TOP_LEFT:break;case c.TOP:t.width=-n/2;break;case c.TOP_RIGHT:t.width=-n;break;case c.LEFT:t.height=-i/2;break;case c.MIDDLE:t.width=-n/2,t.height=-i/2;break;case c.RIGHT:t.width=-n,t.height=-i/2;break;case c.BOTTOM_LEFT:t.height=-i;break;case c.BOTTOM:t.width=-n/2,t.height=-i;break;case c.BOTTOM_RIGHT:t.width=-n,t.height=-i}return t},u.prototype.onAdd=function(){if(this.markerWrapper_||(this.markerWrapper_=document.createElement("DIV"),this.markerWrapper_.style.position="absolute"),this.getZIndex()&&(this.markerWrapper_.style.zIndex=this.getZIndex()),this.markerWrapper_.style.display=this.getVisible()?"":"none",!this.markerContent_){this.markerContent_=document.createElement("DIV"),this.markerWrapper_.appendChild(this.markerContent_);var e=this;google.maps.event.addDomListener(this.markerContent_,"click",function(t){google.maps.event.trigger(e,"click")}),google.maps.event.addDomListener(this.markerContent_,"mouseover",function(t){google.maps.event.trigger(e,"mouseover")}),google.maps.event.addDomListener(this.markerContent_,"mouseout",function(t){google.maps.event.trigger(e,"mouseout")})}this.ready_=!0,this.content_changed(),this.flat_changed(),this.draggable_changed();var t=this.getPanes();t&&t.overlayMouseTarget.appendChild(this.markerWrapper_),google.maps.event.trigger(this,"ready")},u.prototype.onAdd=u.prototype.onAdd,u.prototype.draw=function(){if(this.ready_&&!this.dragging_){var e=this.getProjection();if(e){var t=this.get("position"),n=e.fromLatLngToDivPixel(t),i=this.getOffset_();this.markerWrapper_.style.top=n.y+i.height+"px",this.markerWrapper_.style.left=n.x+i.width+"px";var r=this.markerContent_.offsetHeight,o=this.markerContent_.offsetWidth;o!=this.get("width")&&this.set("width",o),r!=this.get("height")&&this.set("height",r)}}},u.prototype.draw=u.prototype.draw,u.prototype.onRemove=function(){this.markerWrapper_&&this.markerWrapper_.parentNode&&this.markerWrapper_.parentNode.removeChild(this.markerWrapper_),this.removeDragListeners_()},u.prototype.onRemove=u.prototype.onRemove;var c={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};e.RichMarkerPosition=c,e.InfoBox=o,e.Cluster=n,e.ClusterIcon=t,e.MarkerClusterer=r,e.MarkerLabel_=s,e.MarkerWithLabel=l,e.RichMarker=u}()})}}),function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,n,i){t.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:i(1).Graph,Queue:i(1).Queue}})},function(e,t,n){(function(){e.exports={Graph:n(2),Heap:n(3),LinkedList:n(4),Map:n(5),Queue:n(6),RedBlackTree:n(7),Trie:n(8)}}).call(this)},function(e,t){(function(){var t,n={}.hasOwnProperty;t=function(){function e(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return e.prototype.addNode=function(e){if(!this._nodes[e])return this.nodeSize++,this._nodes[e]={_outEdges:{},_inEdges:{}}},e.prototype.getNode=function(e){return this._nodes[e]},e.prototype.removeNode=function(e){var t,i,r,o,a;if(i=this._nodes[e]){for(r in o=i._outEdges)n.call(o,r)&&this.removeEdge(e,r);for(t in a=i._inEdges)n.call(a,t)&&this.removeEdge(t,e);return this.nodeSize--,delete this._nodes[e],i}},e.prototype.addEdge=function(e,t,n){var i,r,o;if(null==n&&(n=1),!this.getEdge(e,t)&&(r=this._nodes[e],o=this._nodes[t],r&&o))return i={weight:n},r._outEdges[t]=i,o._inEdges[e]=i,this.edgeSize++,i},e.prototype.getEdge=function(e,t){var n,i;if(n=this._nodes[e],i=this._nodes[t],n&&i)return n._outEdges[t]},e.prototype.removeEdge=function(e,t){var n,i,r;if(i=this._nodes[e],r=this._nodes[t],n=this.getEdge(e,t))return delete i._outEdges[t],delete r._inEdges[e],this.edgeSize--,n},e.prototype.getInEdgesOf=function(e){var t,i,r,o;for(t in i=[],o=null!=(r=this._nodes[e])?r._inEdges:void 0)n.call(o,t)&&i.push(this.getEdge(t,e));return i},e.prototype.getOutEdgesOf=function(e){var t,i,r,o;for(r in i=[],o=null!=(t=this._nodes[e])?t._outEdges:void 0)n.call(o,r)&&i.push(this.getEdge(e,r));return i},e.prototype.getAllEdgesOf=function(e){var t,n,i,r,o,a,s;if(n=this.getInEdgesOf(e),i=this.getOutEdgesOf(e),0===n.length)return i;for(r=this.getEdge(e,e),t=o=0,a=n.length;0<=a?o<a:o>a;t=0<=a?++o:--o)if(n[t]===r){s=[n[n.length-1],n[t]],n[t]=s[0],n[n.length-1]=s[1],n.pop();break}return n.concat(i)},e.prototype.forEachNode=function(e){var t,i;for(t in i=this._nodes)n.call(i,t)&&e(i[t],t)},e.prototype.forEachEdge=function(e){var t,i,r,o;for(t in r=this._nodes)if(n.call(r,t))for(i in o=r[t]._outEdges)n.call(o,i)&&e(o[i])},e}(),e.exports=t}).call(this)},function(e,t){(function(){var t,n,i,r;t=function(){function e(e){var t,n,i,r,o,a;for(null==e&&(e=[]),this._data=[void 0],i=0,o=e.length;i<o;i++)null!=(n=e[i])&&this._data.push(n);if(this._data.length>1)for(t=r=2,a=this._data.length;2<=a?r<a:r>a;t=2<=a?++r:--r)this._upHeap(t);this.size=this._data.length-1}return e.prototype.add=function(e){if(null!=e)return this._data.push(e),this._upHeap(this._data.length-1),this.size++,e},e.prototype.removeMin=function(){var e;if(1!==this._data.length)return this.size--,2===this._data.length?this._data.pop():(e=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),e)},e.prototype.peekMin=function(){return this._data[1]},e.prototype._upHeap=function(e){var t;for(this._data[e];this._data[e]<this._data[i(e)]&&e>1;)t=[this._data[i(e)],this._data[e]],this._data[e]=t[0],this._data[i(e)]=t[1],e=i(e)},e.prototype._downHeap=function(){var e,t,i;for(e=1;n(e<this._data.length)&&((t=n(e))<this._data.length-1&&this._data[r(e)]<this._data[t]&&(t=r(e)),this._data[t]<this._data[e]);)i=[this._data[e],this._data[t]],this._data[t]=i[0],this._data[e]=i[1],e=t},e}(),i=function(e){return e>>1},n=function(e){return e<<1},r=function(e){return 1+(e<<1)},e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(e){var t,n,i;for(null==e&&(e=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,n=0,i=e.length;n<i;n++)t=e[n],this.add(t)}return e.prototype.at=function(e){var t,n,i,r;if(-this.size<=e&&e<this.size){if(2*(e=this._adjust(e))<this.size)for(t=this.head,n=1;n<=e;n+=1)t=t.next;else for(t=this.tail,i=1,r=this.size-e-1;i<=r;i+=1)t=t.prev;return t}},e.prototype.add=function(e,t){var n,i,r,o,a;if(null==t&&(t=this.size),-this.size<=t&&t<=this.size)return i={value:e},t=this._adjust(t),0===this.size?this.head=i:0===t?(r=[i,this.head,i],this.head.prev=r[0],i.next=r[1],this.head=r[2]):(o=[(n=this.at(t-1)).next,i,i,n],i.next=o[0],null!=(a=n.next)&&(a.prev=o[1]),n.next=o[2],i.prev=o[3]),t===this.size&&(this.tail=i),this.size++,e},e.prototype.removeAt=function(e){var t,n,i;if(null==e&&(e=this.size-1),-this.size<=e&&e<this.size&&0!==this.size)return e=this._adjust(e),1===this.size?(n=this.head.value,this.head.value=this.tail.value=void 0):0===e?(n=this.head.value,this.head=this.head.next,this.head.prev=void 0):(n=(t=this.at(e)).value,t.prev.next=t.next,null!=(i=t.next)&&(i.prev=t.prev),e===this.size-1&&(this.tail=t.prev)),this.size--,n},e.prototype.remove=function(e){var t;if(null!=e){for(t=this.head;t&&t.value!==e;)t=t.next;if(t)return 1===this.size?this.head.value=this.tail.value=void 0:t===this.head?(this.head=this.head.next,this.head.prev=void 0):t===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(t.prev.next=t.next,t.next.prev=t.prev),this.size--,e}},e.prototype.indexOf=function(e,t){var n,i;if(null==t&&(t=0),null==this.head.value&&!this.head.next||t>=this.size)return-1;for(t=Math.max(0,this._adjust(t)),n=this.at(t),i=t;n&&n.value!==e;)n=n.next,i++;return i===this.size?-1:i},e.prototype._adjust=function(e){return e<0?this.size+e:e},e}(),e.exports=t}).call(this)},function(e,t){(function(){var t,n,i,r,o={}.hasOwnProperty;n="_mapId_",t=function(){function e(t){var n,i;for(n in this._content={},this._itemId=0,this._id=e._newMapId(),this.size=0,t)o.call(t,n)&&(i=t[n],this.set(n,i))}return e._mapIdTracker=0,e._newMapId=function(){return this._mapIdTracker++},e.prototype.hash=function(e,t){var o,a;return null==t&&(t=!1),a=i(e),r(e)?(o=n+this._id,t&&!e[o]&&(e[o]=this._itemId++),o+"_"+e[o]):a+"_"+e},e.prototype.set=function(e,t){return this.has(e)||this.size++,this._content[this.hash(e,!0)]=[t,e],t},e.prototype.get=function(e){var t;return null!=(t=this._content[this.hash(e)])?t[0]:void 0},e.prototype.has=function(e){return this.hash(e)in this._content},e.prototype.delete=function(e){var t;return(t=this.hash(e))in this._content&&(delete this._content[t],r(e)&&delete e[n+this._id],this.size--,!0)},e.prototype.forEach=function(e){var t,n,i;for(t in i=this._content)o.call(i,t)&&e((n=i[t])[1],n[0])},e}(),r=function(e){var t,n,r,o;for(t=["Boolean","Number","String","Undefined","Null","RegExp","Function"],n=i(e),r=0,o=t.length;r<o;r++)if(n===t[r])return!1;return!0},i=function(e){return Object.prototype.toString.apply(e).match(/\[object (.+)\]/)[1]},e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(e){null==e&&(e=[]),this._content=e,this._dequeueIndex=0,this.size=this._content.length}return e.prototype.enqueue=function(e){return this.size++,this._content.push(e),e},e.prototype.dequeue=function(){var e;if(0!==this.size)return this.size--,e=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),e},e.prototype.peek=function(){return this._content[this._dequeueIndex]},e}(),e.exports=t}).call(this)},function(e,t){(function(){var t,n,i,r,o,a,s,l,u;t=function(){function e(e){var t,n,i;for(null==e&&(e=[]),this._root,this.size=0,n=0,i=e.length;n<i;n++)null!=(t=e[n])&&this.add(t)}return e.prototype.add=function(e){var t,o,a;if(null!=e){if(this.size++,o={value:e,_color:1},this._root){if(null!=n(this._root,function(t){return e===t.value?0:e<t.value?t._left?1:(o._parent=t,t._left=o,3):t._right?2:(o._parent=t,t._right=o,3)}))return}else this._root=o;for(t=o;;){if(t===this._root){t._color=2;break}if(2===t._parent._color)break;if(1!==(null!=(a=u(t))?a._color:void 0)){!r(t)&&r(t._parent)?(this._rotateLeft(t._parent),t=t._left):r(t)&&!r(t._parent)&&(this._rotateRight(t._parent),t=t._right),t._parent._color=2,i(t)._color=1,r(t)?this._rotateRight(i(t)):this._rotateLeft(i(t));break}t._parent._color=2,u(t)._color=2,i(t)._color=1,t=i(t)}return e}},e.prototype.has=function(e){return!!n(this._root,function(t){return e===t.value?0:e<t.value?1:2})},e.prototype.peekMin=function(){var e;return null!=(e=s(this._root))?e.value:void 0},e.prototype.peekMax=function(){var e;return null!=(e=a(this._root))?e.value:void 0},e.prototype.remove=function(e){var t;if(t=n(this._root,function(t){return e===t.value?0:e<t.value?1:2}))return this._removeNode(this._root,t),this.size--,e},e.prototype.removeMin=function(){var e,t;if(e=s(this._root))return t=e.value,this._removeNode(this._root,e),t},e.prototype.removeMax=function(){var e,t;if(e=a(this._root))return t=e.value,this._removeNode(this._root,e),t},e.prototype._removeNode=function(e,t){var n,i,a,u,c,d,p,h,f,g;if(t._left&&t._right&&(i=s(t._right),t.value=i.value,t=i),(i=t._left||t._right)||(i={color:2,_right:void 0,_left:void 0,isLeaf:!0}),i._parent=t._parent,null!=(a=t._parent)&&(a[o(t)]=i),2===t._color)if(1===i._color)i._color=2,i._parent||(this._root=i);else for(;;){if(!i._parent){i.isLeaf?this._root=void 0:this._root=i;break}if(1===(null!=(n=l(i))?n._color:void 0)&&(i._parent._color=1,n._color=2,r(i)?this._rotateLeft(i._parent):this._rotateRight(i._parent)),n=l(i),2!==i._parent._color||n&&(2!==n._color||n._left&&2!==n._left._color||n._right&&2!==n._right._color)){if(!(1!==i._parent._color||n&&(2!==n._color||n._left&&2!==(null!=(u=n._left)?u._color:void 0)||n._right&&2!==(null!=(c=n._right)?c._color:void 0)))){null!=n&&(n._color=1),i._parent._color=2;break}if(2===(null!=n?n._color:void 0)){!r(i)||n._right&&2!==n._right._color||1!==(null!=(d=n._left)?d._color:void 0)?r(i)||n._left&&2!==n._left._color||1!==(null!=(h=n._right)?h._color:void 0)||(n._color=1,null!=(f=n._right)&&(f._color=2),this._rotateLeft(n)):(n._color=1,null!=(p=n._left)&&(p._color=2),this._rotateRight(n));break}(n=l(i))._color=i._parent._color,r(i)?(n._right._color=2,this._rotateRight(i._parent)):(n._left._color=2,this._rotateLeft(i._parent))}else null!=n&&(n._color=1),i.isLeaf&&(i._parent[o(i)]=void 0),i=i._parent}if(i.isLeaf)return null!=(g=i._parent)?g[o(i)]=void 0:void 0},e.prototype._rotateLeft=function(e){var t,n;if(null!=(t=e._parent)&&(t[o(e)]=e._right),e._right._parent=e._parent,e._parent=e._right,e._right=e._right._left,e._parent._left=e,null!=(n=e._right)&&(n._parent=e),null==e._parent._parent)return this._root=e._parent},e.prototype._rotateRight=function(e){var t,n;if(null!=(t=e._parent)&&(t[o(e)]=e._left),e._left._parent=e._parent,e._parent=e._left,e._left=e._left._right,e._parent._right=e,null!=(n=e._left)&&(n._parent=e),null==e._parent._parent)return this._root=e._parent},e}(),r=function(e){return e===e._parent._left},o=function(e){return r(e)?"_left":"_right"},n=function(e,t){var n,i,r;for(i=e,r=void 0;i;){if(0===(n=t(i))){r=i;break}if(1===n)i=i._left;else if(2===n)i=i._right;else if(3===n)break}return r},s=function(e){return n(e,function(e){return e._left?1:0})},a=function(e){return n(e,function(e){return e._right?2:0})},i=function(e){var t;return null!=(t=e._parent)?t._parent:void 0},u=function(e){if(i(e))return r(e._parent)?i(e)._right:i(e)._left},l=function(e){return r(e)?e._parent._right:e._parent._left},e.exports=t}).call(this)},function(e,t,n){(function(){var t,i,r,o,a={}.hasOwnProperty;t=n(6),r="end",i=function(){function e(e){var t,n,i;for(null==e&&(e=[]),this._root={},this.size=0,n=0,i=e.length;n<i;n++)t=e[n],this.add(t)}return e.prototype.add=function(e){var t,n,i,o;if(null!=e){for(this.size++,t=this._root,i=0,o=e.length;i<o;i++)null==t[n=e[i]]&&(t[n]={}),t=t[n];return t[r]=!0,e}},e.prototype.has=function(e){var t,n,i,o;if(null==e)return!1;for(t=this._root,i=0,o=e.length;i<o;i++){if(null==t[n=e[i]])return!1;t=t[n]}return!!t[r]},e.prototype.longestPrefixOf=function(e){var t,n,i,r,o;if(null==e)return"";for(t=this._root,i="",r=0,o=e.length;r<o&&null!=t[n=e[r]];r++)i+=n,t=t[n];return i},e.prototype.wordsWithPrefix=function(e){var n,i,o,s,l,u,c,d,p,h;if(null==e)return[];for(null!=e||(e=""),c=[],i=this._root,d=0,p=e.length;d<p;d++)if(null==(i=i[o=e[d]]))return[];for((l=new t).enqueue([i,""]);0!==l.size;)for(o in s=(h=l.dequeue())[0],n=h[1],s[r]&&c.push(e+n),s)a.call(s,o)&&(u=s[o],l.enqueue([u,n+o]));return c},e.prototype.remove=function(e){var t,n,i,a,s,l,u,c;if(null!=e){for(t=this._root,a=[],s=0,u=e.length;s<u;s++){if(null==t[i=e[s]])return;t=t[i],a.push([i,t])}if(t[r]){if(this.size--,delete t[r],o(t,1))return e;for(n=l=c=a.length-1;(c<=1?l<=1:l>=1)&&!o(a[n][1],1);n=c<=1?++l:--l)delete a[n-1][1][a[n][0]];return o(this._root[a[0][0]],1)||delete this._root[a[0][0]],e}}},e}(),o=function(e,t){var n,i;if(0===t)return!0;for(n in i=0,e)if(a.call(e,n)&&++i>=t)return!0;return!1},e.exports=i}).call(this)}]),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapMarkerSpiderfier",["uiGmapGoogleMapApi",function(t){var n=this;return function(){var t={}.hasOwnProperty,n=[].slice;this.OverlappingMarkerSpiderfier=function(){function i(e,n){var i,o,a,s,l,u;for(o in this.map=e,null==n&&(n={}),n)t.call(n,o)&&(u=n[o],this[o]=u);for(this.projHelper=new this.constructor.ProjHelper(this.map),this.initMarkerArrays(),this.listeners={},a=0,s=(l=["click","zoom_changed","maptypeid_changed"]).length;a<s;a++)i=l[a],r.addListener(this.map,i,function(e){return function(){return e.unspiderfy()}}(this))}var r,o,a,s,l,u,c,d,p,h;for(a=0,u=(p=[i,d=i.prototype]).length;a<u;a++)p[a].VERSION="0.3.3";return o=void 0,r=void 0,c=void 0,h=2*Math.PI,d.keepSpiderfied=!1,d.markersWontHide=!1,d.markersWontMove=!1,d.nearbyDistance=20,d.circleSpiralSwitchover=9,d.circleFootSeparation=23,d.circleStartAngle=h/12,d.spiralFootSeparation=26,d.spiralLengthStart=11,d.spiralLengthFactor=4,d.spiderfiedZIndex=1e3,d.usualLegZIndex=10,d.highlightedLegZIndex=20,d.event="click",d.minZoomLevel=!1,d.legWeight=1.5,d.legColors={usual:{},highlighted:{}},l=d.legColors.usual,s=d.legColors.highlighted,i.initializeGoogleMaps=function(e){return o=e.maps,r=o.event,c=o.MapTypeId,l[c.HYBRID]=l[c.SATELLITE]="#fff",s[c.HYBRID]=s[c.SATELLITE]="#f00",l[c.TERRAIN]=l[c.ROADMAP]="#444",s[c.TERRAIN]=s[c.ROADMAP]="#f00",this.ProjHelper=function(e){return this.setMap(e)},this.ProjHelper.prototype=new o.OverlayView,this.ProjHelper.prototype.draw=function(){}},d.initMarkerArrays=function(){return this.markers=[],this.markerListenerRefs=[]},d.addMarker=function(e){var t;return null!=e._oms?this:(e._oms=!0,t=[r.addListener(e,this.event,function(t){return function(n){return t.spiderListener(e,n)}}(this))],this.markersWontHide||t.push(r.addListener(e,"visible_changed",function(t){return function(){return t.markerChangeListener(e,!1)}}(this))),this.markersWontMove||t.push(r.addListener(e,"position_changed",function(t){return function(){return t.markerChangeListener(e,!0)}}(this))),this.markerListenerRefs.push(t),this.markers.push(e),this)},d.markerChangeListener=function(e,t){if(null!=e._omsData&&(t||!e.getVisible())&&null==this.spiderfying&&null==this.unspiderfying)return this.unspiderfy(t?e:null)},d.getMarkers=function(){return this.markers.slice(0)},d.removeMarker=function(e){var t,n,i,o,a;if(null!=e._omsData&&this.unspiderfy(),(t=this.arrIndexOf(this.markers,e))<0)return this;for(n=0,i=(a=this.markerListenerRefs.splice(t,1)[0]).length;n<i;n++)o=a[n],r.removeListener(o);return delete e._oms,this.markers.splice(t,1),this},d.clearMarkers=function(){var e,t,n,i,o,a,s,l,u;for(this.unspiderfy(),e=t=0,n=(u=this.markers).length;t<n;e=++t){for(s=u[e],l=0,i=(a=this.markerListenerRefs[e]).length;l<i;l++)o=a[l],r.removeListener(o);delete s._oms}return this.initMarkerArrays(),this},d.addListener=function(e,t){var n;return(null!=(n=this.listeners)[e]?n[e]:n[e]=[]).push(t),this},d.removeListener=function(e,t){var n;return(n=this.arrIndexOf(this.listeners[e],t))<0||this.listeners[e].splice(n,1),this},d.clearListeners=function(e){return this.listeners[e]=[],this},d.trigger=function(){var e,t,i,r,o,a,s,l;for(t=arguments[0],e=2<=arguments.length?n.call(arguments,1):[],l=[],r=0,o=(s=null!=(a=this.listeners[t])?a:[]).length;r<o;r++)i=s[r],l.push(i.apply(null,e));return l},d.generatePtsCircle=function(e,t){var n,i,r,a,s,l,u;for(s=this.circleFootSeparation*(2+e)/h,i=h/e,u=[],r=a=0,l=e;0<=l?a<l:a>l;r=0<=l?++a:--a)n=this.circleStartAngle+r*i,u.push(new o.Point(t.x+s*Math.cos(n),t.y+s*Math.sin(n)));return u},d.generatePtsSpiral=function(e,t){var n,i,r,a,s,l,u;for(a=this.spiralLengthStart,n=0,u=[],i=r=0,l=e;0<=l?r<l:r>l;i=0<=l?++r:--r)n+=this.spiralFootSeparation/a+5e-4*i,s=new o.Point(t.x+a*Math.cos(n),t.y+a*Math.sin(n)),a+=h*this.spiralLengthFactor/n,u.push(s);return u},d.spiderListener=function(t,n){var i,r,o,a,s,l,u,c,p,h,f,g,m;if((c=null!=t._omsData)&&this.keepSpiderfied||("mouseover"===this.event?(i=this,r=function(){return i.unspiderfy()},e.clearTimeout(d.timeout),d.timeout=setTimeout(r,3e3)):this.unspiderfy()),c||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",t,n);for(h=[],f=[],g=(p=this.nearbyDistance)*p,u=this.llToPt(t.position),o=0,a=(m=this.markers).length;o<a;o++)null!=(s=m[o]).map&&s.getVisible()&&(l=this.llToPt(s.position),this.ptDistanceSq(l,u)<g?h.push({marker:s,markerPt:l}):f.push(s));return 1===h.length?this.trigger("click",t,n):this.spiderfy(h,f)},d.markersNearMarker=function(e,t){var n,i,r,o,a,s,l,u,c,d,p;if(null==t&&(t=!1),null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearMarker";for(u=(l=this.nearbyDistance)*l,a=this.llToPt(e.position),s=[],n=0,i=(c=this.markers).length;n<i&&!((r=c[n])!==e&&null!=r.map&&r.getVisible()&&(o=this.llToPt(null!=(d=null!=(p=r._omsData)?p.usualPosition:void 0)?d:r.position),this.ptDistanceSq(o,a)<u&&(s.push(r),t)));n++);return s},d.markersNearAnyOtherMarker=function(){var e,t,n,i,r,o,a,s,l,u,c,d,p,h,f,g,m,v,y,b,w;if(null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(g=(f=this.nearbyDistance)*f,p=function(){var e,t,n,i,r,o;for(o=[],e=0,t=(n=this.markers).length;e<t;e++)s=n[e],o.push({pt:this.llToPt(null!=(i=null!=(r=s._omsData)?r.usualPosition:void 0)?i:s.position),willSpiderfy:!1});return o}.call(this),t=i=0,r=(v=this.markers).length;i<r;t=++i)if(null!=(l=v[t]).map&&l.getVisible()&&!(u=p[t]).willSpiderfy)for(n=h=0,o=(y=this.markers).length;h<o;n=++h)if(c=y[n],n!==t&&null!=c.map&&c.getVisible()&&(d=p[n],(!(n<t)||d.willSpiderfy)&&this.ptDistanceSq(u.pt,d.pt)<g)){u.willSpiderfy=d.willSpiderfy=!0;break}for(w=[],e=m=0,a=(b=this.markers).length;m<a;e=++m)s=b[e],p[e].willSpiderfy&&w.push(s);return w},d.makeHighlightListenerFuncs=function(e){return{highlight:(t=this,function(){return e._omsData.leg.setOptions({strokeColor:t.legColors.highlighted[t.map.mapTypeId],zIndex:t.highlightedLegZIndex})}),unhighlight:function(t){return function(){return e._omsData.leg.setOptions({strokeColor:t.legColors.usual[t.map.mapTypeId],zIndex:t.usualLegZIndex})}}(this)};var t},d.spiderfy=function(e,t){var n,i,a,s,l,u,c,d,p,h,f;return!(this.minZoomLevel&&this.map.getZoom()<this.minZoomLevel)&&(this.spiderfying=!0,h=e.length,n=this.ptAverage(function(){var t,n,i;for(i=[],t=0,n=e.length;t<n;t++)d=e[t],i.push(d.markerPt);return i}()),s=h>=this.circleSpiralSwitchover?this.generatePtsSpiral(h,n).reverse():this.generatePtsCircle(h,n),f=function(){var t,n,d;for(d=[],t=0,n=s.length;t<n;t++)a=s[t],i=this.ptToLl(a),p=this.minExtract(e,function(e){return function(t){return e.ptDistanceSq(t.markerPt,a)}}(this)),c=p.marker,u=new o.Polyline({map:this.map,path:[c.position,i],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),c._omsData={usualPosition:c.position,leg:u},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(l=this.makeHighlightListenerFuncs(c),c._omsData.hightlightListeners={highlight:r.addListener(c,"mouseover",l.highlight),unhighlight:r.addListener(c,"mouseout",l.unhighlight)}),c.setPosition(i),c.setZIndex(Math.round(this.spiderfiedZIndex+a.y)),d.push(c);return d}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",f,t))},d.unspiderfy=function(e){var t,n,i,o,a,s,l;if(null==e&&(e=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,l=[],a=[],t=0,n=(s=this.markers).length;t<n;t++)null!=(o=s[t])._omsData?(o._omsData.leg.setMap(null),o!==e&&o.setPosition(o._omsData.usualPosition),o.setZIndex(null),null!=(i=o._omsData.hightlightListeners)&&(r.removeListener(i.highlight),r.removeListener(i.unhighlight)),delete o._omsData,l.push(o)):a.push(o);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",l,a),this},d.ptDistanceSq=function(e,t){var n,i;return(n=e.x-t.x)*n+(i=e.y-t.y)*i},d.ptAverage=function(e){var t,n,i,r,a,s;for(a=s=0,t=0,n=e.length;t<n;t++)a+=(r=e[t]).x,s+=r.y;return i=e.length,new o.Point(a/i,s/i)},d.llToPt=function(e){return this.projHelper.getProjection().fromLatLngToDivPixel(e)},d.ptToLl=function(e){return this.projHelper.getProjection().fromDivPixelToLatLng(e)},d.minExtract=function(e,t){var n,i,r,o,a,s;for(r=o=0,a=e.length;o<a;r=++o)s=t(e[r]),(void 0===n||null===n||s<i)&&(i=s,n=r);return e.splice(n,1)[0]},d.arrIndexOf=function(e,t){var n,i,r;if(null!=e.indexOf)return e.indexOf(t);for(n=i=0,r=e.length;i<r;n=++i)if(e[n]===t)return n;return-1},i}()}.apply(n),t.then(function(){n.OverlappingMarkerSpiderfier.initializeGoogleMaps(e.google)}),this.OverlappingMarkerSpiderfier}]),t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(t,i){return{init:n.once(function(){(function(){var n={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e.NgMapCluster=function(e){function n(e){n.__super__.constructor.call(this,e),this.markers_=new i}return r(n,e),n.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded_(e)){var i=this.markers_.get(e.key);if(i.getPosition().lat()==e.getPosition().lat()&&i.getPosition().lon()==e.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+e.getPosition().lat())/r,a=(this.center_.lng()*(r-1)+e.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();return e.isAdded=!0,this.markers_.push(e),t=this.markers_.length,null!==(n=this.markerClusterer_.getMaxZoom())&&this.map_.getZoom()>n?e.getMap()!==this.map_&&e.setMap(this.map_):t<this.minClusterSize_?e.getMap()!==this.map_&&e.setMap(this.map_):t===this.minClusterSize_?this.markers_.each(function(e){e.setMap(null)}):e.setMap(null),!0},n.prototype.isMarkerAlreadyAdded_=function(e){return t.isNullOrUndefined(this.markers_.get(e.key))},n.prototype.getBounds=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(t){e.extend(t.getPosition())}),e},n.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new i,delete this.markers_},n}(Cluster),e.NgMapMarkerClusterer=function(e){function t(e,n,r){t.__super__.constructor.call(this,e,n,r),this.markers_=new i}return r(t,e),t.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new i},t.prototype.removeMarker_=function(e){return!!this.markers_.get(e.key)&&(e.setMap(null),this.markers_.remove(e.key),!0)},t.prototype.createClusters_=function(e){var t,n,i,r=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(i),a=Math.min(e+this.batchSize_,this.markers_.length),s=this.markers_.values();for(t=e;t<a;t++)!(n=s[t]).isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(a<this.markers_.length)this.timerRefStatic=setTimeout(function(){r.createClusters_(a)},0);else{for(t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},t.prototype.addToClosestCluster_=function(e){var t,n,i,r,o=4e4,a=null;for(t=0;t<this.clusters_.length;t++)(r=(i=this.clusters_[t]).getCenter())&&((n=this.distanceBetweenPoints_(r,e.getPosition()))<o&&(o=n,a=i));a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):((i=new NgMapCluster(this)).addMarker(e),this.clusters_.push(i))},t.prototype.redraw_=function(){this.createClusters_(0)},t.prototype.resetViewport_=function(e){var t;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[],this.markers_.each(function(t){t.isAdded=!1,e&&t.setMap(null)})},t.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)"constructor"!==t&&(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},ClusterIcon.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),n=parseInt(t[0].trim(),10),i=parseInt(t[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),e="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",e+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);",e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",void 0===this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},t}(MarkerClusterer)}).call(this)})}}])}(window,angular,_),function(e,t){"use strict";var n=window.angulartics||(window.angulartics={});n.waitForVendorCount=0,n.waitForVendorApi=function(e,t,i,r,o){o||n.waitForVendorCount++,r||(r=i,i=void 0),!Object.prototype.hasOwnProperty.call(window,e)||void 0!==i&&void 0===window[e][i]?setTimeout(function(){n.waitForVendorApi(e,t,i,r,!0)},t):(n.waitForVendorCount--,r(window[e]))},e.module("angulartics",[]).provider("$analytics",function(){var t={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,autoBasePath:!1,basePath:""},eventTracking:{},bufferFlushDelay:1e3},i={},r={},o=function(t,n){return r[t]||(r[t]=[]),r[t].push(n),function(){var n=arguments;e.forEach(r[t],function(e){e.apply(this,n)},this)}},a={settings:t},s={$get:function(){return a},api:a,settings:t,virtualPageviews:function(e){this.settings.pageTracking.autoTrackVirtualPages=e},firstPageview:function(e){this.settings.pageTracking.autoTrackFirstPage=e},withBase:function(t){this.settings.pageTracking.basePath=t?e.element("base").attr("href").slice(0,-1):""},withAutoBase:function(e){this.settings.pageTracking.autoBasePath=e}},l=function(n,r){a[n]=o(n,r);var s=t[n],l=s?s.bufferFlushDelay:null,u=null!==l?l:t.bufferFlushDelay;e.forEach(i[n],function(e,t){!function(e,t){t?setTimeout(e,t):e()}(function(){r.apply(this,e)},t*u)})};return e.forEach(["pageTrack","eventTrack","setAlias","setUsername","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce"],function(e){var t="register"+e.replace(/^./,function(e){return e.toUpperCase()});s[t]=function(t){l(e,t)},a[e]=o(e,function(e){return function(){n.waitForVendorCount&&(i[e]||(i[e]=[]),i[e].push(arguments))}}(e))}),s}).run(["$rootScope","$location","$window","$analytics","$injector",function(e,t,n,i,r){if(i.settings.pageTracking.autoTrackFirstPage){var o=!0;if(r.has("$route")){var a=r.get("$route");for(var s in a.routes){o=!1;break}}else if(r.has("$state")){var l=r.get("$state");for(var u in l.get()){o=!1;break}}if(o)if(i.settings.pageTracking.autoBasePath&&(i.settings.pageTracking.basePath=n.location.pathname),i.settings.trackRelativePath){var c=i.settings.pageTracking.basePath+t.url();i.pageTrack(c)}else i.pageTrack(t.absUrl())}i.settings.pageTracking.autoTrackVirtualPages&&(i.settings.pageTracking.autoBasePath&&(i.settings.pageTracking.basePath=n.location.pathname+"#"),r.has("$route")&&e.$on("$routeChangeSuccess",function(e,n){if(!n||!(n.$$route||n).redirectTo){var r=i.settings.pageTracking.basePath+t.url();i.pageTrack(r)}}),r.has("$state")&&e.$on("$stateChangeSuccess",function(e,n){var r=i.settings.pageTracking.basePath+t.url();i.pageTrack(r)}))}]).directive("analyticsOn",["$analytics",function(t){function n(e){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(e.tagName.toLowerCase()+":"+(e.type||""))>=0}function i(e){var t=e.slice(9);return void 0!==t&&null!==t&&t.length>0?t.substring(0,1).toLowerCase()+t.substring(1):t}return{restrict:"A",scope:!0,link:function(r,o,a){var s=a.analyticsOn||(n(o[0]),"click");r.$analytics={},e.forEach(a.$attr,function(e,t){(function(e){return"analytics"===e.substr(0,9)&&-1===["On","Event","If","Properties","EventType"].indexOf(e.substr(9))})(t)&&(r.$analytics[i(t)]=a[t],a.$observe(t,function(e){r.$analytics[i(t)]=e}))}),e.element(o[0]).bind(s,function(i){var s,l=a.analyticsEvent||(n(s=o[0])?s.innerText||s.value:s.id||s.name||s.tagName);r.$analytics.eventType=i.type,a.analyticsIf&&!r.$eval(a.analyticsIf)||(a.analyticsProperties&&e.extend(r.$analytics,r.$eval(a.analyticsProperties)),t.eventTrack(l,r.$analytics))})}}}])}(angular),function(e){"use strict";e.module("angulartics.mixpanel",["angulartics"]).config(["$analyticsProvider",function(e){angulartics.waitForVendorApi("mixpanel",500,"__loaded",function(t){e.registerSetUsername(function(e){t.identify(e)})}),angulartics.waitForVendorApi("mixpanel",500,"__loaded",function(t){e.registerSetAlias(function(e){t.alias(e)})}),angulartics.waitForVendorApi("mixpanel",500,"__loaded",function(t){e.registerSetSuperPropertiesOnce(function(e){t.register_once(e)})}),angulartics.waitForVendorApi("mixpanel",500,"__loaded",function(t){e.registerSetSuperProperties(function(e){t.register(e)})}),angulartics.waitForVendorApi("mixpanel",500,"__loaded",function(t){e.registerSetUserPropertiesOnce(function(e){t.people.set_once(e)})}),angulartics.waitForVendorApi("mixpanel",500,"__loaded",function(t){e.registerSetUserProperties(function(e){t.people.set(e)})}),angulartics.waitForVendorApi("mixpanel",500,"__loaded",function(t){e.registerPageTrack(function(e){t.track("Page Viewed",{page:e})})}),angulartics.waitForVendorApi("mixpanel",500,"__loaded",function(t){e.registerEventTrack(function(e,n){t.track(e,n)})})}])}(angular),function(e){"use strict";var t,n,i,r,o,a={up:38,down:40,left:37,right:39,escape:27,enter:13},s=function(){var t;function n(){t={locale:"en",format:"L LTS",minView:"decade",maxView:"minute",startView:"year",autoclose:!0,today:!1,keyboard:!1,showHeader:!0,leftArrow:"&larr;",rightArrow:"&rarr;",yearsFormat:"YYYY",monthsFormat:"MMM",daysFormat:"D",hoursFormat:"HH:[00]",hoursStart:0,hoursEnd:23,minutesStep:5,minutesStart:0,minutesEnd:59,secondsFormat:"ss",secondsStep:1,secondsStart:0,secondsEnd:59}}return n.prototype.options=function(n){return e.extend(t,n),e.copy(t)},n.prototype.$get=function(){return t},n}(),l=function(){function s(e,a,s,l,u){this.restrict="AE",this.require="?ngModel",this.transclude=!0,this.scope={value:"=?momentPicker",model:"=?ngModel",locale:"@?",format:"@?",minView:"@?",maxView:"@?",startView:"@?",minDate:"=?",maxDate:"=?",disabled:"=?disable",autoclose:"=?",today:"=?",keyboard:"=?",additions:"=?",change:"&?",selectable:"&?"},this.template='<div class="moment-picker"><span class="moment-picker-contents"></span><div class="moment-picker-container {{view.selected}}-view" ng-show="view.isOpen && !disabled" ng-class="{\'moment-picker-disabled\': disabled, \'open\': view.isOpen}"><div ng-if="additions.top" ng-include="additions.top"></div><table class="header-view" ng-if="showHeader"><thead><tr><th ng-class="{disabled: !view.previous.selectable}" ng-bind-html="view.previous.label" ng-click="view.previous.set()"></th><th ng-bind="view.title" ng-click="view.setParentView()"></th><th ng-class="{disabled: !view.next.selectable}" ng-bind-html="view.next.label" ng-click="view.next.set()"></th></tr></thead></table><div class="moment-picker-specific-views"><table ng-if="view.selected == \'decade\'"><tbody><tr ng-repeat="row in decadeView.rows"><td ng-repeat="year in row track by year.year" ng-class="year.class" ng-bind="year.label" ng-click="decadeView.setYear(year)"></td></tr></tbody></table><table ng-if="view.selected == \'year\'"><tbody><tr ng-repeat="row in yearView.rows"><td ng-repeat="month in row track by month.month" ng-class="month.class" ng-bind="month.label" ng-click="yearView.setMonth(month)"></td></tr></tbody></table><table ng-if="view.selected == \'month\'"><thead><tr><th ng-repeat="day in monthView.days" ng-bind="day"></th></tr></thead><tbody><tr ng-repeat="row in monthView.rows"><td ng-repeat="day in row track by day.date" ng-class="day.class" ng-bind="day.label" ng-click="monthView.setDay(day)"></td></tr></tbody></table><table ng-if="view.selected == \'day\'"><tbody><tr ng-repeat="row in dayView.rows"><td ng-repeat="hour in row track by hour.index" ng-class="hour.class" ng-bind="hour.label" ng-click="dayView.setHour(hour)"></td></tr></tbody></table><table ng-if="view.selected == \'hour\'"><tbody><tr ng-repeat="row in hourView.rows"><td ng-repeat="minute in row" ng-class="minute.class" ng-bind="minute.label" ng-click="hourView.setMinute(minute)"></td></tr></tbody></table><table ng-if="view.selected == \'minute\'"><tbody><tr ng-repeat="row in minuteView.rows"><td ng-repeat="second in row" ng-class="second.class" ng-bind="second.label" ng-click="minuteView.setSecond(second)"></td></tr></tbody></table></div><div ng-if="additions.bottom" ng-include="additions.bottom"></div></div></div>',t=e,n=a,i=s,r=l,o=u}return s.prototype.$inject=["$timeout","$sce","$log","$window","momentPicker"],s.prototype.link=function(s,l,u,c,d){d(function(d){e.forEach(["locale","format","minView","maxView","startView","autoclose","today","keyboard","showHeader","leftArrow","rightArrow","additions"],function(t){e.isDefined(s[t])||(s[t]=o[t]),e.isDefined(u[t])||(u[t]=s[t])}),u.ngModel||(c={}),s.utility={isValidMoment:function(e){return moment.isMoment(e)&&e.isValid()},toValue:function(e){var t=e;return s.utility.isValidMoment(e)||(t=s.utility.toMoment(e)),s.utility.momentToValue(t)},toMoment:function(e){var t=moment(e,s.format,s.locale);return s.utility.isValidMoment(t)||(t=void 0),t},momentToValue:function(e){if(s.utility.isValidMoment(e))return s.format?e.format(s.format):e.valueOf()},valueToMoment:function(e){if(e)return s.format?moment(e,s.format,s.locale):moment(e)},setValue:function(e){var t=s.utility.isValidMoment(e)?e.clone():s.utility.valueToMoment(e),n=s.utility.momentToValue(t);s.model=t,c.$modelValue=t,u.ngModel!=u.momentPicker&&(s.value=n),u.ngModel&&(c.$setViewValue(n),c.$render())}},s.limits={minDate:void 0,maxDate:void 0,isAfterOrEqualMin:function(t,n){return!e.isDefined(s.limits.minDate)||t.isAfter(s.limits.minDate,n)||t.isSame(s.limits.minDate,n)},isBeforeOrEqualMax:function(t,n){return!e.isDefined(s.limits.maxDate)||t.isBefore(s.limits.maxDate,n)||t.isSame(s.limits.maxDate,n)},isSelectable:function(t,n){var r=!0;try{e.isFunction(s.selectable)&&(r=s.selectable({date:t,type:n}))}catch(e){i.error(e)}return s.limits.isAfterOrEqualMin(t,n)&&s.limits.isBeforeOrEqualMax(t,n)&&r},checkValue:function(){e.isDefined(c.$modelValue)&&(s.limits.isAfterOrEqualMin(c.$modelValue)||s.utility.setValue(s.limits.minDate),s.limits.isBeforeOrEqualMax(c.$modelValue)||s.utility.setValue(s.limits.maxDate))},checkView:function(){e.isDefined(s.view.moment)||(s.view.moment=moment().locale(s.locale)),s.limits.isAfterOrEqualMin(s.view.moment)||(s.view.moment=s.limits.minDate.clone()),s.limits.isBeforeOrEqualMax(s.view.moment)||(s.view.moment=s.limits.maxDate.clone()),s.view.update()}},s.views={all:["decade","year","month","day","hour","minute"],formats:{decade:"Y{1,2}(?!Y)|YYYY|[Ll]{1,4}(?!T)",year:"M{1,4}(?![Mo])|Mo|Q",month:"[Dd]{1,4}(?![Ddo])|DDDo|[Dd]o|[Ww]{1,2}(?![Wwo])|[Ww]o|[Ee]|L{1,2}(?!T)|l{1,2}",day:"[Hh]{1,2}|LTS?",hour:"m{1,2}|[Ll]{3,4}|LT(?!S)",minute:"s{1,2}|S{1,}|X|LTS"},detectMinMax:function(){var t,n;s.format&&(e.forEach(s.views.formats,function(i,r){var o=new RegExp("("+i+")(?![^[]*])","g");s.format.match(o)&&(e.isDefined(t)||(t=r),n=r)}),t=e.isDefined(t)?Math.max(0,s.views.all.indexOf(t)):0,n=e.isDefined(n)?Math.min(s.views.all.length-1,s.views.all.indexOf(n)):s.views.all.length-1,t>s.views.all.indexOf(s.minView)&&(s.minView=s.views.all[t]),n<s.views.all.indexOf(s.maxView)&&(s.maxView=s.views.all[n]))}},s.view={moment:void 0,value:void 0,isOpen:!1,selected:s.startView,update:function(){s.view.value=s.utility.momentToValue(s.view.moment)},toggle:function(){s.view.isOpen?s.view.close():s.view.open()},open:function(){s.disabled||s.view.isOpen||(s.view.isOpen=!0,t(s.view.position,0,!1))},close:function(){s.view.isOpen&&(s.view.isOpen=!1,s.view.selected=s.startView)},position:function(){if(s.view.isOpen){s.picker.removeClass("top").removeClass("left");var e=s.container[0],t=function(e){var t,n,i,r;if(e)return e.getClientRects().length?(i=e.getBoundingClientRect()).width||i.height?(n=null!==(r=e.ownerDocument)&&r===r.window?e:9===r.nodeType&&r.defaultView,t=r.documentElement,{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i:{top:0,left:0}}(e),n=t.top-r.pageYOffset,i=t.left-r.pageXOffset,o=r.innerWidth,a=r.innerHeight;n+r.pageYOffset-e.offsetHeight>0&&n>a/2&&s.picker.addClass("top"),i+e.offsetWidth>o&&s.picker.addClass("left")}},keydown:function(e){var t=s.view.selected+"View",n={decade:"year",year:"month",month:"day",day:"hour",hour:"minute",minute:"second"}[s.view.selected],i=o[n+"sStep"]||1,r=[a.up,a.left].indexOf(e.keyCode)>=0?"subtract":"add",l=function(e){var o=e?s[t].perLine:1,a=s.view.moment.clone()[r](i*o,n);s.limits.isSelectable(a,n)&&(s.view.moment=a,s.view.update(),s.view.render())};switch(e.keyCode){case a.up:case a.down:e.preventDefault(),s.view.isOpen?l(!0):s.view.open();break;case a.left:case a.right:if(!s.view.isOpen)break;e.preventDefault(),l();break;case a.enter:if(!s.view.isOpen)break;s.view.change(n),e.preventDefault();break;case a.escape:s.view.toggle()}},unit:function(){return"decade"==s.view.selected?10:1},precision:function(){return s.view.selected.replace("decade","year")},title:"",previous:{label:n.trustAsHtml(s.leftArrow),selectable:!0,set:function(){s.view.previous.selectable&&(s.view.moment.subtract(s.view.unit(),s.view.precision()),s.view.update())}},next:{selectable:!0,label:n.trustAsHtml(s.rightArrow),set:function(){s.view.next.selectable&&(s.view.moment.add(s.view.unit(),s.view.precision()),s.view.update())}},setParentView:function(){s.view.change(s.views.all[Math.max(0,s.views.all.indexOf(s.view.selected)-1)])},render:function(){var e=s.view.moment.clone().startOf(s.view.precision()).subtract(s.view.unit(),s.view.precision()),t=s.view.moment.clone().endOf(s.view.precision()).add(s.view.unit(),s.view.precision());s.view.previous.selectable=s.limits.isAfterOrEqualMin(e,s.view.precision()),s.view.previous.label=n.trustAsHtml(s.view.previous.selectable?s.leftArrow:"&nbsp;"),s.view.next.selectable=s.limits.isBeforeOrEqualMax(t,s.view.precision()),s.view.next.label=n.trustAsHtml(s.view.next.selectable?s.rightArrow:"&nbsp;"),s.view.title=s[s.view.selected+"View"].render()},change:function(e){var n=s.views.all.indexOf(e),i=s.views.all.indexOf(s.minView),r=s.views.all.indexOf(s.maxView);n<0||n>r?(s.utility.setValue(s.view.moment),s.autoclose&&t(s.view.close)):n>=i&&(s.view.selected=e)}},s.decadeView={perLine:4,rows:{},render:function(){var e=s.view.moment.clone(),t=10*Math.floor(e.year()/10)-1;e.year(t),s.decadeView.rows={};for(var n=0;n<12;n++){var i=Math.floor(n/s.decadeView.perLine),r=s.limits.isSelectable(e,"year");s.decadeView.rows[i]||(s.decadeView.rows[i]=[]),s.decadeView.rows[i].push({label:e.format(o.yearsFormat),year:e.year(),class:[s.keyboard&&e.isSame(s.view.moment,"year")?"highlighted":"",!r||[0,11].indexOf(n)>=0?"disabled":s.utility.isValidMoment(c.$modelValue)&&e.isSame(c.$modelValue,"year")?"selected":""].join(" ").trim(),selectable:r}),e.add(1,"years")}return[e.subtract(2,"years").format("YYYY"),e.subtract(9,"years").format("YYYY")].reverse().join(" - ")},setYear:function(e){e.selectable&&(s.view.moment.year(e.year),s.view.update(),s.view.change("year"))}},s.yearView={perLine:4,rows:{},render:function(){var e=s.view.moment.clone().startOf("year"),t=moment.monthsShort();return s.yearView.rows={},t.forEach(function(t,n){var i=Math.floor(n/s.yearView.perLine),r=s.limits.isSelectable(e,"month");s.yearView.rows[i]||(s.yearView.rows[i]=[]),s.yearView.rows[i].push({label:e.format(o.monthsFormat),year:e.year(),month:e.month(),class:[s.keyboard&&e.isSame(s.view.moment,"month")?"highlighted":"",r?s.utility.isValidMoment(c.$modelValue)&&e.isSame(c.$modelValue,"month")?"selected":"":"disabled"].join(" ").trim(),selectable:r}),e.add(1,"months")}),s.view.moment.format("YYYY")},setMonth:function(e){e.selectable&&(s.view.moment.year(e.year).month(e.month),s.view.update(),s.view.change("month"))}},s.monthView={perLine:moment.weekdays().length,days:moment.weekdays().map(function(e,t){return moment().locale(s.locale).startOf("week").add(t,"day").format("dd")}),rows:[],render:function(){var t=s.view.moment.month(),n=s.view.moment.clone().startOf("month").startOf("week").hour(12),i={},r=n.week(),a=r+5;s.monthView.rows=[];for(var l=r;l<=a;l++)i[l]=Array.apply(null,Array(s.monthView.perLine)).map(function(){var e=s.limits.isSelectable(n,"day"),i={label:n.format(o.daysFormat),year:n.year(),date:n.date(),month:n.month(),class:[s.keyboard&&n.isSame(s.view.moment,"day")?"highlighted":"",s.today&&n.isSame(new Date,"day")?"today":"",e&&n.month()==t?s.utility.isValidMoment(c.$modelValue)&&n.isSame(c.$modelValue,"day")?"selected":"":"disabled"].join(" ").trim(),selectable:e};return n.add(1,"days"),i});return e.forEach(i,function(e){s.monthView.rows.push(e)}),s.view.moment.format("MMMM YYYY")},setDay:function(e){e.selectable&&(s.view.moment.year(e.year).month(e.month).date(e.date),s.view.update(),s.view.change("day"))}},s.dayView={perLine:4,rows:[],render:function(){var e=s.view.moment.clone().startOf("day").hour(o.hoursStart);s.dayView.rows=[];for(var t=0;t<=o.hoursEnd-o.hoursStart;t++){var n=Math.floor(t/s.dayView.perLine),i=s.limits.isSelectable(e,"hour");s.dayView.rows[n]||(s.dayView.rows[n]=[]),s.dayView.rows[n].push({index:t,label:e.format(o.hoursFormat),year:e.year(),month:e.month(),date:e.date(),hour:e.hour(),class:[s.keyboard&&e.isSame(s.view.moment,"hour")?"highlighted":"",i?s.utility.isValidMoment(c.$modelValue)&&e.isSame(c.$modelValue,"hour")?"selected":"":"disabled"].join(" ").trim(),selectable:i}),e.add(1,"hours")}return s.view.moment.format("LL")},setHour:function(e){e.selectable&&(s.view.moment.year(e.year).month(e.month).date(e.date).hour(e.hour),s.view.update(),s.view.change("hour"))}},s.hourView={perLine:4,rows:[],render:function(){var e=0,t=s.view.moment.clone().startOf("hour").minute(o.minutesStart),n=o.minutesFormat||moment.localeData(s.locale).longDateFormat("LT").replace(/[aA]/,"");s.hourView.rows=[];for(var i=0;i<=o.minutesEnd-o.minutesStart;i+=o.minutesStep){var r=Math.floor(e/s.hourView.perLine),a=s.limits.isSelectable(t,"minute");s.hourView.rows[r]||(s.hourView.rows[r]=[]),s.hourView.rows[r].push({label:t.format(n),year:t.year(),month:t.month(),date:t.date(),hour:t.hour(),minute:t.minute(),class:[s.keyboard&&t.isSame(s.view.moment,"minute")?"highlighted":"",a?s.utility.isValidMoment(c.$modelValue)&&t.isSame(c.$modelValue,"minute")?"selected":"":"disabled"].join(" ").trim(),selectable:a}),e++,t.add(o.minutesStep,"minutes")}return s.keyboard&&s.hourView.highlightClosest(),s.view.moment.clone().startOf("hour").format("lll")},setMinute:function(e){e.selectable&&(s.view.moment.year(e.year).month(e.month).date(e.date).hour(e.hour).minute(e.minute),s.view.update(),s.view.change("minute"))},highlightClosest:function(){var t,n=[];e.forEach(s.hourView.rows,function(t){e.forEach(t,function(e){Math.abs(e.minute-s.view.moment.minute())<o.minutesStep&&n.push(e)})}),(t=n.sort(function(e,t){return Math.abs(e.minute-s.view.moment.minute())>Math.abs(t.minute-s.view.moment.minute())})[0])&&t.minute-s.view.moment.minute()!=0&&(s.view.moment.year(t.year).month(t.month).date(t.date).hour(t.hour).minute(t.minute),s.view.update(),t.selectable&&(t.class=(t.class+" highlighted").trim()))}},s.minuteView={perLine:6,rows:[],render:function(){var e=0,t=s.view.moment.clone().startOf("minute").second(o.secondsStart);s.minuteView.rows=[];for(var n=0;n<=o.secondsEnd-o.secondsStart;n+=o.secondsStep){var i=Math.floor(e/s.minuteView.perLine),r=s.limits.isSelectable(t,"second");s.minuteView.rows[i]||(s.minuteView.rows[i]=[]),s.minuteView.rows[i].push({label:t.format(o.secondsFormat),year:t.year(),month:t.month(),date:t.date(),hour:t.hour(),minute:t.minute(),second:t.second(),class:[s.keyboard&&t.isSame(s.view.moment,"second")?"highlighted":"",r?s.utility.isValidMoment(c.$modelValue)&&t.isSame(c.$modelValue,"second")?"selected":"":"disabled"].join(" ").trim(),selectable:r}),e++,t.add(o.secondsStep,"seconds")}return s.keyboard&&s.minuteView.highlightClosest(),s.view.moment.clone().startOf("minute").format("lll")},setSecond:function(e){e.selectable&&(s.view.moment.year(e.year).month(e.month).date(e.date).hour(e.hour).minute(e.minute).second(e.second),s.view.update(),s.view.change("second"))},highlightClosest:function(){var t,n=[];e.forEach(s.minuteView.rows,function(t){e.forEach(t,function(e){Math.abs(e.second-s.view.moment.second())<o.secondsStep&&n.push(e)})}),(t=n.sort(function(e,t){return Math.abs(e.second-s.view.moment.second())>Math.abs(t.second-s.view.moment.second())})[0])&&t.second-s.view.moment.second()!=0&&(s.view.moment.year(t.year).month(t.month).date(t.date).hour(t.hour).minute(t.minute).second(t.second),s.view.update(),t.selectable&&(t.class=(t.class+" highlighted").trim()))}},s.picker=e.element(l[0].querySelectorAll(".moment-picker")),l.after(s.picker),s.contents=e.element(s.picker[0].querySelectorAll(".moment-picker-contents")),s.container=e.element(s.picker[0].querySelectorAll(".moment-picker-container")),s.contents.append(l.append(d)),s.input="input"!=s.contents[0].tagName.toLowerCase()&&s.contents[0].querySelectorAll("input").length>0?e.element(s.contents[0].querySelectorAll("input")):e.element(s.contents[0]),s.input.addClass("moment-picker-input").attr("tabindex",0),s.views.detectMinMax(),s.limits.checkView(),u.ngModel&&(c.$parsers.push(function(e){return s.utility.valueToMoment(e)}),c.$formatters.push(function(e){return s.utility.momentToValue(e)})),s.$watch(function(){return s.utility.momentToValue(c.$modelValue)},function(n,i){if(n!=i){var r=s.utility.valueToMoment(n);if(s.utility.setValue(r),s.limits.checkValue(),s.view.moment=(r||moment()).clone(),s.view.update(),s.view.render(),e.isFunction(s.change)){var o=s.utility.valueToMoment(i);t(function(){s.change({newValue:r,oldValue:o})},0,!1)}}}),s.$watchGroup(["view.selected","view.value"],s.view.render),s.$watchGroup(["minView","maxView"],function(){s.views.detectMinMax(),s.startView=s.views.all[Math.max(Math.min(s.views.all.indexOf(s.startView),s.views.all.indexOf(s.maxView)),s.views.all.indexOf(s.minView))],s.view.selected=s.startView}),s.$watchGroup([function(){return s.utility.toValue(s.minDate)},function(){return s.utility.toValue(s.maxDate)}],function(){e.forEach(["minDate","maxDate"],function(e){s.limits[e]=s.utility.toMoment(s[e])}),s.limits.checkValue(),s.limits.checkView(),s.view.render()},!0),s.$watch("locale",function(t,n){e.isDefined(n)&&t!=n&&(s.isValidMoment(c.$modelValue)&&s.utility.setValue(c.$modelValue.locale(t)),s.isValidMoment(s.limits.minDate)&&(s.limits.minDate=s.limits.minDate.locale(t)),s.isValidMoment(s.limits.maxDate)&&(s.limits.maxDate=s.limits.maxDate.locale(t)),s.view.render())}),s.focusInput=function(e){e.preventDefault(),s.input[0].focus()},s.input.on("focus click",function(){s.$evalAsync(s.view.open)}).on("blur",function(){s.$evalAsync(s.view.close)}).on("keydown",function(e){s.keyboard&&(e.preventDefault(),s.$evalAsync(function(){s.view.keydown(e)}))}),s.contents.on("mousedown",s.focusInput),s.container.on("mousedown",s.focusInput),e.element(r).on("resize scroll",s.view.position)})},s}();e.module("moment-picker",[]).provider("momentPicker",[function(){return new s}]).directive("momentPicker",["$timeout","$sce","$log","$window","momentPicker",function(e,t,n,i,r){return new l(e,t,n,i,r)}])}(window.angular),function(e){"use strict";var t={CHROME:"chrome",FIREFOX:"firefox",SAFARI:"safari",OPERA:"opera",IE:"ie",MS_EDGE:"ms-edge",FB_MESSENGER:"fb-messenger",CORDOVA:"cordova",UNKNOWN:"unknown"},n={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:/\bVersion\/([\d\.]+)\b/,OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],CORDOVA:/\bCordova\/([\d\.]+)\b/,MS_EDGE:/\bEdge\/([\d\.]+)\b/},i=Object.keys(n).reduce(function(e,i){return e[t[i]]=n[i],e},{});e.module("ng.deviceDetector",["reTree"]).constant("OS_RE",{WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:/Windows Phone/}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/Windows Phone/}]},ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/}).constant("BROWSERS_RE",{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/]},{not:{or:[/\bOPR\b/,/\bEdge\b/,/\bCordova\b/]}}]},FIREFOX:{and:[{or:[/\bFirefox\b/,/\bFxiOS\b/]},{not:/\bCordova\b/}]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdge\b/,/Windows Phone/,/\bCordova\b/,/\bChrome\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdge\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,CORDOVA:/\bCordova\b/,FB_MESSENGER:/\bFBAN\/MessengerForiOS\b/}).constant("DEVICES_RE",{ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},I_PAD:/\biPad\b/,IPHONE:{and:[/\biPhone\b/,{not:/Windows Phone/}]},I_POD:/\biPod\b/,BLACKBERRY:/\bblackberry\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/}).constant("OS_VERSIONS_RE",{WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/}).constant("BROWSER_VERSIONS_RE_MAP",n).constant("BROWSER_VERSIONS_RE",i).constant("BROWSERS",t).constant("DEVICES",{ANDROID:"android",I_PAD:"ipad",IPHONE:"iphone",I_POD:"ipod",BLACKBERRY:"blackberry",FIREFOX_OS:"firefox-os",CHROME_BOOK:"chrome-book",WINDOWS_PHONE:"windows-phone",PS4:"ps4",VITA:"vita",CHROMECAST:"chromecast",APPLE_TV:"apple-tv",GOOGLE_TV:"google-tv",UNKNOWN:"unknown"}).constant("OS",{WINDOWS:"windows",MAC:"mac",IOS:"ios",ANDROID:"android",LINUX:"linux",UNIX:"unix",FIREFOX_OS:"firefox-os",CHROME_OS:"chrome-os",WINDOWS_PHONE:"windows-phone",UNKNOWN:"unknown"}).constant("OS_VERSIONS",{WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",UNKNOWN:"unknown"}).service("detectUtils",["deviceDetector","DEVICES","BROWSERS","OS",function(e,t,n,i){var r=e;this.isMobile=function(){return"unknown"!==r.device},this.isAndroid=function(){return r.device===t.ANDROID||r.OS===i.ANDROID},this.isIOS=function(){return r.os===i.IOS||r.device===t.I_POD||r.device===t.IPHONE}}]).provider("deviceDetector",function(){var e=[];this.addCustom=function(t,n){e.push({name:t,re:n})},this.$get=["$window","DEVICES","BROWSERS","OS","OS_VERSIONS","reTree","OS_RE","BROWSERS_RE","DEVICES_RE","OS_VERSIONS_RE","BROWSER_VERSIONS_RE_MAP","BROWSER_VERSIONS_RE",function(t,n,i,r,o,a,s,l,u,c,d,p){Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in r)e.call(r,o)&&s.push(o);if(t)for(a=0;a<i;a++)e.call(r,n[a])&&s.push(n[a]);return s}}()),Array.prototype.reduce||(Array.prototype.reduce=function(e){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),i=n.length>>>0,r=0;if(2==arguments.length)t=arguments[1];else{for(;r<i&&!(r in n);)r++;if(r>=i)throw new TypeError("Reduce of empty array with no initial value");t=n[r++]}for(;r<i;r++)r in n&&(t=e(t,n[r],r,n));return t});var h=t.navigator.userAgent,f={raw:{userAgent:h,os:{},browser:{},device:{}}};if(f.raw.os=Object.keys(r).reduce(function(e,t){return e[r[t]]=a.test(h,s[t]),e},{}),f.raw.browser=Object.keys(i).reduce(function(e,t){return e[i[t]]=a.test(h,l[t]),e},{}),f.raw.device=Object.keys(n).reduce(function(e,t){return e[n[t]]=a.test(h,u[t]),e},{}),f.raw.os_version=Object.keys(o).reduce(function(e,t){return e[o[t]]=a.test(h,c[t]),e},{}),f.os=[r.WINDOWS,r.IOS,r.MAC,r.ANDROID,r.LINUX,r.UNIX,r.FIREFOX_OS,r.CHROME_OS,r.WINDOWS_PHONE].reduce(function(e,t){return e===r.UNKNOWN&&f.raw.os[t]?t:e},r.UNKNOWN),f.browser=[i.CHROME,i.FIREFOX,i.SAFARI,i.OPERA,i.IE,i.MS_EDGE,i.CORDOVA,i.FB_MESSENGER].reduce(function(e,t){return e===i.UNKNOWN&&f.raw.browser[t]?t:e},i.UNKNOWN),f.device=[n.ANDROID,n.I_PAD,n.IPHONE,n.I_POD,n.BLACKBERRY,n.FIREFOX_OS,n.CHROME_BOOK,n.WINDOWS_PHONE,n.PS4,n.CHROMECAST,n.APPLE_TV,n.GOOGLE_TV,n.VITA].reduce(function(e,t){return e===n.UNKNOWN&&f.raw.device[t]?t:e},n.UNKNOWN),f.os_version=[o.WINDOWS_3_11,o.WINDOWS_95,o.WINDOWS_ME,o.WINDOWS_98,o.WINDOWS_CE,o.WINDOWS_2000,o.WINDOWS_XP,o.WINDOWS_SERVER_2003,o.WINDOWS_VISTA,o.WINDOWS_7,o.WINDOWS_8_1,o.WINDOWS_8,o.WINDOWS_10,o.WINDOWS_PHONE_7_5,o.WINDOWS_PHONE_8_1,o.WINDOWS_PHONE_10,o.WINDOWS_NT_4_0,o.MACOSX,o.MACOSX_3,o.MACOSX_4,o.MACOSX_5,o.MACOSX_6,o.MACOSX_7,o.MACOSX_8,o.MACOSX_9,o.MACOSX_10,o.MACOSX_11,o.MACOSX_12,o.MACOSX_13,o.MACOSX_14,o.MACOSX_15].reduce(function(e,t){return e===o.UNKNOWN&&f.raw.os_version[t]?t:e},o.UNKNOWN),f.browser_version="0",f.browser!==i.UNKNOWN){var g=p[f.browser],m=a.exec(h,g);m&&(f.browser_version=m[1])}return f.isMobile=function(){return[n.ANDROID,n.I_PAD,n.IPHONE,n.I_POD,n.BLACKBERRY,n.FIREFOX_OS,n.WINDOWS_PHONE,n.VITA].some(function(e){return f.device==e})},f.isTablet=function(){return[n.I_PAD,n.FIREFOX_OS].some(function(e){return f.device==e})},f.isDesktop=function(){return[n.PS4,n.CHROME_BOOK,n.UNKNOWN].some(function(e){return f.device==e})},f.custom=e.reduce(function(e,t){return e[t.name]=a.test(h,t.re),e},{}),f}]}).directive("deviceDetector",["deviceDetector",function(e){return{restrict:"A",link:function(t,n){n.addClass("os-"+e.os),n.addClass("browser-"+e.browser),n.addClass("device-"+e.device),n.toggleClass("is-mobile",e.isMobile()),n.toggleClass("is-tablet",e.isTablet()),n.toggleClass("is-desktop",e.isDesktop()),Object.keys(e.custom).forEach(function(t){n.toggleClass(function(e){return"is-"+e.toLowerCase().replace(/[^0-9a-z]+/g,"-")}(t),e.custom[t])})}}}])}(angular),function(e){"use strict";function t(e){e.originalEvent&&(e.dataTransfer=e.originalEvent.dataTransfer),void 0!==e.dataTransfer&&"none"===e.dataTransfer.dropEffect&&("copy"===e.dataTransfer.effectAllowed||"move"===e.dataTransfer.effectAllowed?e.dataTransfer.dropEffect=e.dataTransfer.effectAllowed:"copyMove"!==e.dataTransfer.effectAllowed&&"copymove"!==e.dataTransfer.effectAllowed||(e.dataTransfer.dropEffect=e.ctrlKey?"copy":"move"))}if("ondrag"in document.createElement("a")){var n=e.module("ang-drag-drop",[]);n.directive("uiDraggable",["$parse","$rootScope","$dragImage",function(n,i,r){return function(o,a,s){var l,u,c=!1,d=s.draggingClass||"on-dragging";function p(e){e.originalEvent&&(e.dataTransfer=e.originalEvent.dataTransfer),setTimeout(function(){a.unbind("$destroy",p)},0);var r=s.dragChannel||"defaultchannel";if(i.$broadcast("ANGULAR_DRAG_END",e,r),t(e),e.dataTransfer&&"none"!==e.dataTransfer.dropEffect){if(s.onDropSuccess){var l=n(s.onDropSuccess);o.$evalAsync(function(){l(o,{$event:e})})}}else if(e.dataTransfer&&"none"===e.dataTransfer.dropEffect&&s.onDropFailure){var u=n(s.onDropFailure);o.$evalAsync(function(){u(o,{$event:e})})}a.removeClass(d)}function h(t){if(t.originalEvent&&(t.dataTransfer=t.originalEvent.dataTransfer),!c||u.classList.contains(l)){var h=s.dragChannel||"defaultchannel",f="";s.drag&&(f=o.$eval(s.drag));var g=s.dragImage||null;a.addClass(d),a.bind("$destroy",p);var m=!(document.uniqueID||window.opera);if(g&&m){var v=n(s.dragImage);o.$apply(function(){var n=v(o,{$event:t});if(n&&(e.isString(n)&&(n=r.generate(n)),n.image)){var i=n.xOffset||0,a=n.yOffset||0;t.dataTransfer.setDragImage(n.image,i,a)}})}else s.dragImageElementId&&function(t,i){var r;t.originalEvent&&(t.dataTransfer=t.originalEvent.dataTransfer),r=n(i),o.$apply(function(){var n,i=r(o,{$event:t});i&&e.isString(i)&&(n=document.getElementById(i))&&t.dataTransfer.setDragImage(n,0,0)})}(t,s.dragImageElementId);var y={data:f,channel:h,offset:{x:t.offsetX,y:t.offsetY}},b=e.toJson(y);if(t.dataTransfer.setData("text",b),t.dataTransfer.effectAllowed="copyMove",s.onDragStart){var w=n(s.onDragStart);o.$evalAsync(function(){w(o,{$event:t})})}i.$broadcast("ANGULAR_DRAG_START",t,h,y)}else t.preventDefault()}a.attr("draggable",!1),o.$watch(s.uiDraggable,function(e){e?(a.attr("draggable",e),a.bind("dragend",p),a.bind("dragstart",h)):(a.removeAttr("draggable"),a.unbind("dragend",p),a.unbind("dragstart",h))}),e.isString(s.dragHandleClass)&&(c=!0,l=s.dragHandleClass.trim()||"drag-handle",a.bind("mousedown",function(e){u=e.target}))}}]),n.directive("uiOnDrop",["$parse","$rootScope",function(n,i){return function(r,o,a){var s=0,l=a.dropChannel||"defaultchannel",u="",c=a.dragEnterClass||"on-drag-enter",d=a.dragHoverClass||"on-drag-hover",p=n(a.onDragEnter),h=n(a.onDragLeave);function f(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation();var t=n(a.uiOnDragOver);return r.$evalAsync(function(){t(r,{$event:e,$channel:l})}),!1}function g(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),0===--s&&(r.$evalAsync(function(){h(r,{$event:e,$channel:l})}),o.addClass(c),o.removeClass(d));var t=n(a.uiOnDragLeave);r.$evalAsync(function(){t(r,{$event:e,$channel:l})})}function m(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),0===s&&(r.$evalAsync(function(){p(r,{$event:e,$channel:l})}),o.removeClass(c),o.addClass(d)),s++;var t=n(a.uiOnDragEnter);r.$evalAsync(function(){t(r,{$event:e,$channel:l})}),i.$broadcast("ANGULAR_HOVER",u)}function v(i){i.originalEvent&&(i.dataTransfer=i.originalEvent.dataTransfer),i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation();var l=i.dataTransfer.getData("text");l=e.fromJson(l);var u=function(e){for(var t={x:e.offsetX,y:e.offsetY},n=e.target;n!==o[0];)if(t.x=t.x+n.offsetLeft,t.y=t.y+n.offsetTop,!(n=n.offsetParent))return null;return t}(i),d=u?{x:u.x-l.offset.x,y:u.y-l.offset.y}:null;t(i);var p=n(a.uiOnDrop);r.$evalAsync(function(){p(r,{$data:l.data,$event:i,$channel:l.channel,$position:d})}),o.removeClass(c),s=0}function y(e){return e.originalEvent&&(e.dataTransfer=e.originalEvent.dataTransfer),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.dataTransfer.dropEffect="none",!1}var b=i.$on("ANGULAR_DRAG_START",function(e,t,i,s){u=i;var d=!0;((function(e,t){return"*"===t||new RegExp("(\\s|[,])+("+e+")(\\s|[,])+","i").test(","+t+",")})(i,l)||(d=!1),d&&a.dropValidate)&&(d=n(a.dropValidate)(r,{$drop:{scope:r,element:o},$event:t,$data:s.data,$channel:s.channel}));d?(o.bind("dragover",f),o.bind("dragenter",m),o.bind("dragleave",g),o.bind("drop",v),o.addClass(c)):(o.bind("dragover",y),o.bind("dragenter",y),o.bind("dragleave",y),o.bind("drop",y),o.removeClass(c))}),w=i.$on("ANGULAR_DRAG_END",function(){o.unbind("dragover",f),o.unbind("dragenter",m),o.unbind("dragleave",g),o.unbind("drop",v),o.removeClass(d),o.removeClass(c),o.unbind("dragover",y),o.unbind("dragenter",y),o.unbind("dragleave",y),o.unbind("drop",y)});r.$on("$destroy",function(){b(),w()}),a.$observe("dropChannel",function(e){e&&(l=e)})}}]),n.constant("$dragImageConfig",{height:20,width:200,padding:10,font:"bold 11px Arial",fontColor:"#eee8d5",backgroundColor:"#93a1a1",xOffset:0,yOffset:0}),n.service("$dragImage",["$dragImageConfig",function(t){var n="…";this.generate=function(i,r){var o=e.extend({},t,r||{}),a=document.createElement("canvas");a.height=o.height,a.width=o.width;var s=a.getContext("2d");s.fillStyle=o.backgroundColor,s.fillRect(0,0,o.width,o.height),s.font=o.font,s.fillStyle=o.fontColor;var l=function(e,t,i){var r=e.measureText(t).width;if(r<i.width)return t;for(;r+i.padding>i.width;)t=t.substring(0,t.length-1),r=e.measureText(t+n).width;return t+n}(s,i,o);s.fillText(l,4,o.padding+4);var u=new Image;return u.src=a.toDataURL(),{image:u,xOffset:o.xOffset,yOffset:o.yOffset}}}])}else e.module("ang-drag-drop",[])}(angular),function(){"use strict";angular.module("angular-appinsights",[]).provider("insights",function(){this.start=function(t,n){var i;angular.isObject(t)?i=t:angular.isString(t)&&(i={appId:t,appName:n}),function(t){e=t.appName||"(Application Root)",t.appId&&(window.appInsights.start?window.appInsights.start(t.appId):angular.isFunction(window.appInsights)?window.appInsights=window.appInsights({instrumentationKey:t.appId}):window.appInsights.config&&(window.appInsights.config.instrumentationKey=t.appId));window.appInsights.config.instrumentationKey||console.warn("Application Insights not initialized")}(i)},this.$get=function(){return window.appInsights||t}}).run(["$rootScope","$location","insights",function(t,n,i){t.$on("$locationChangeStart",function(){var t;try{t=e+"/"+n.path().substr(1)}finally{i.startTrackPage(t)}}),t.$on("$locationChangeSuccess",function(t,r){var o;try{o=e+"/"+n.path().substr(1)}finally{i.stopTrackPage(o,r)}})}]);var e="",t={startTrackPage:angular.noop,stopTrackPage:angular.noop,trackPageView:angular.noop,startTrackEvent:angular.noop,stopTrackEvent:angular.noop,trackEvent:angular.noop,trackDependency:angular.noop,trackException:angular.noop,trackMetric:angular.noop,trackTrace:angular.noop,flush:angular.noop,setAuthenticatedUserContext:angular.noop,clearAuthenticatedUserContext:angular.noop}}();